@namespace ExtraDry.Blazor

<div style="display: none" data-initial-level="@InitialHierarchyLevel" />

@code {

    [Parameter]
    public int? InitialHierarchyLevel { get; set; }

    /// <inheritdoc cref="DryPageQueryView.PageQueryBuilder" />
    [CascadingParameter]
    public QueryBuilder? QueryBuilder { get; set; }

    protected override void OnParametersSet()
    {
        base.OnParametersSet();
        if (InitialHierarchyLevel.HasValue)
        {
            QueryBuilder?.Level.SetInitialLevel(InitialHierarchyLevel.Value);
        }
    }
}
