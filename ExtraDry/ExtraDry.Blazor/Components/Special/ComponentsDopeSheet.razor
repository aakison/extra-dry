@namespace ExtraDry.Blazor

<h1>Control Dope Sheet</h1>

<section>
    <h2>Buttons</h2>
    <Button Caption="Click Me" />
    <Button Caption="Test Shortcut (Ctrl+Shift+T)" OnClick="OnShortcutTest" />
    <Shortcut Keys="Ctrl+Shift+T" OnClick="OnShortcutTest" />
    <p>Shortcut pressed: @ShortcutTestCount times</p>

    <h2>DRY Buttons</h2>
    <DryButton ViewModel="@this" MethodName="@nameof(Primary)" />
    <DryButton ViewModel="@this" MethodName="@nameof(Normal)" />
    <DryButton ViewModel="@this" MethodName="@nameof(Danger)" />
    <DryButton ViewModel="@this" MethodName="@nameof(Alternate)" />


</section>

@code {

    [Command(CommandContext.Primary)]
    public void Primary()
    {
        ++ClickCount;
    }

    [Command(CommandContext.Regular)]
    public void Normal()
    {
        ++ClickCount;
    }

    [Command(CommandContext.Alternate)]
    public void Alternate()
    {
        ++ClickCount;
    }

    [Command(CommandContext.Danger)]
    public void Danger()
    {
        ++ClickCount;
    }

    private void OnShortcutTest(Microsoft.AspNetCore.Components.Web.MouseEventArgs args)
    {
        ++ShortcutTestCount;
        StateHasChanged();
    }

    private int ClickCount = 0;
    private int ShortcutTestCount = 0;
}
