@namespace ExtraDry.Blazor
@using Microsoft.AspNetCore.Components.Authorization

<div class="@CssClasses">
    @foreach(var context in new CommandContext[] { CommandContext.Primary, CommandContext.Regular, CommandContext.Danger, CommandContext.Alternate }) {
        var commands = SelectCommands(context);
        if(commands.Any()) {
            var className = $"{context.ToString().ToLowerInvariant()}-buttons";
            <div class="@className">
                @foreach(var command in commands) { 
                    <AuthorizeView Roles="@command.Roles">
                        <DryButton Command="@command" Model="@Model" />
                    </AuthorizeView>
                }
            </div>
        }
    }
</div>
