"use strict";function startCamera(){return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,regeneratorRuntime.awrap(navigator.mediaDevices.getUserMedia(constraints));case 3:stream=n.sent;video.srcObject=stream;video.play();n.next=11;break;case 8:n.prev=8;n.t0=n["catch"](0);errorMsgElement.innerHTML="navigator.getUserMedia error:"+n.t0.toString();case 11:case"end":return n.stop()}},null,this,[[0,8]])}function captureImage(){var n=canvas.getContext("2d");n.drawImage(video,0,0,480,480)}function stopCamera(){stream.getTracks().forEach(function(n){return n.stop()})}function startEditing(n){var t=document.getElementById(n),i=roosterjs.createEditor(t,new SamplePlugin);i.dryId=n;t.roosterEditor=i;t.addEventListener("focus",roosterEditorFocus);roosterEditors.push(i)}function roosterEditorFocus(n){var t=n.target;roosterActiveDiv&&(roosterActiveDiv.classList.remove("rooster-selected"),roosterActiveDiv.parentNode.classList.remove("rooster-selected"),roosterActiveDiv.parentNode.parentNode.classList.remove("rooster-selected"));roosterActiveDiv=t;roosterActiveDiv&&(roosterActiveDiv.classList.add("rooster-selected"),roosterActiveDiv.parentNode.classList.add("rooster-selected"),roosterActiveDiv.parentNode.parentNode.classList.add("rooster-selected"))}function roosterToggleBold(){var n=roosterActiveDiv.roosterEditor;n&&roosterjs.toggleBold(n)}function roosterToggleItalic(){var n=roosterActiveDiv.roosterEditor;n&&roosterjs.toggleItalic(n)}function roosterToggleHeader(n){var t=roosterActiveDiv.roosterEditor;t&&roosterjs.toggleHeader(t,n)}function roosterClearFormat(){var n=roosterActiveDiv.roosterEditor;n&&roosterjs.clearFormat(n)}function roosterSetContent(n,t){var i=document.getElementById(n);i&&(i.innerHTML=t)}function roosterHorizontalRule(){var n=roosterActiveDiv.roosterEditor;n&&n.insertContent("<hr />")}function roosterInsertHyperlink(n,t,i){var r=roosterActiveDiv.roosterEditor;r&&r.insertContent(`<a class=''${n}'' href=''${i}''>${t}</a>`)}function roosterGetContent(n){var t=document.getElementById(n);return t.innerHTML}function lerp(n,t,i){return n*(i-t)+t}function ilerp(n,t,i){return n<t?t:n>i?i:(n-t)/(i-t)}function DryHorizontalScrollNav(){var t=document.querySelector("nav li.active"),n,i;if(t!=null)if(n=t.parentElement,i=n.parentElement,i.offsetWidth>=n.offsetWidth)n.style.transform="translateX(0px)";else{var r=n.firstElementChild,u=n.lastElementChild,f=r.offsetLeft,e=i.clientWidth-u.clientWidth,o=ilerp(t.offsetLeft,r.offsetLeft,u.offsetLeft),s=lerp(o,f,e),h=s-t.offsetLeft;n.style.transform=`translateX(${h}px)`}}function extraDry_setIndeterminate(n,t){var i=document.getElementById(n);i!=null&&(i.indeterminate=t)}Object.defineProperty(exports,"__esModule",{value:!0});var video=document.getElementById("video"),canvas=document.getElementById("canvas"),errorMsgElement=document.querySelector("span#errorMsg"),stream,constraints={audio:!1,video:{width:480,height:480,facingMode:"user"}};exports.startCamera=startCamera;exports.captureImage=captureImage;exports.stopCamera=stopCamera;var roosterjs=function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:r})},t.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,i){var r,u;if((i&1&&(n=t(n)),i&8)||i&4&&typeof n=="object"&&n&&n.__esModule)return n;if(r=Object.create(null),t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),i&2&&typeof n!="string")for(u in n)t.d(r,u,function(t){return n[t]}.bind(null,u));return r},t.n=function(n){var i=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s="./packages/roosterjs/lib/index.ts")}({"./packages/roosterjs-editor-api/lib/experiment/experimentCommitListChains.ts":function(n,t,i){function u(n,t){if((t===null||t===void 0?void 0:t.length)>0){var i=n.getSelectionRange(),u=i&&r.Position.getStart(i),f=i&&r.Position.getEnd(i);t.forEach(function(n){return n.commit()});n.select(u,f)}}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/changeCapitalization.ts":function(n,t,i){function f(n,t,i){function f(n,i){var r,u,f,e;switch(t){case"lowercase":return n.toLocaleLowerCase(i);case"uppercase":return n.toLocaleUpperCase(i);case"capitalize":for(r=n.toLocaleLowerCase(i).split(" "),u=0;u<r.length;u++)r[u]=r[u].charAt(0).toLocaleUpperCase(i)+r[u].slice(1);return r.join(" ");case"sentence":return f="[\\.\\!\\?]",e=new RegExp("^\\s*\\w|"+f+"\\s+\\w","g"),n.toLocaleLowerCase(i).replace(e,function(n){return n.toLocaleUpperCase(i)})}}u.default(n,function(n){for(var t=r.getFirstLeafNode(n);t;t=r.getNextLeafSibling(n,t))if(t.nodeType==3)try{t.textContent=f(t.textContent,i)}catch(u){t.textContent=f(t.textContent,undefined)}})}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-api/lib/utils/applyInlineStyle.ts"),r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=f},"./packages/roosterjs-editor-api/lib/format/changeFontSize.ts":function(n,t,i){function s(n,i,f){f===void 0&&(f=t.FONT_SIZES);var e=i==0?1:-1;u.default(n,function(n){var i=parseFloat(r.getComputedStyle(n,"font-size")),t;n.style.fontSize=o(i,e,f)+"pt";t=r.getComputedStyle(n,"line-height");t!="normal"&&(n.style.lineHeight="normal")})}function o(n,t,i){var u,r;if(n=t==1?Math.floor(n):Math.ceil(n),u=i[i.length-1],n<=i[0])n=Math.max(n+t,f);else if(n>u||n==u&&t==1)n=n/10,n=t==1?Math.floor(n):Math.ceil(n),n=Math.min(Math.max((n+t)*10,u),e);else if(t==1){for(r=0;r<i.length;r++)if(n<i[r]){n=i[r];break}}else for(r=i.length-1;r>=0;r--)if(n>i[r]){n=i[r];break}return n}var u,r,f,e;Object.defineProperty(t,"__esModule",{value:!0});u=i("./packages/roosterjs-editor-api/lib/utils/applyInlineStyle.ts");r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.FONT_SIZES=[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72];f=1;e=1e3;t.default=s;t.getNewFontSize=o},"./packages/roosterjs-editor-api/lib/format/clearBlockFormat.ts":function(n,t,i){function c(n){e.default(n,function(t){var s=r.getSelectedBlockElementsInRegion(t),i=r.collapseNodesInRegion(t,s),e,o;for(n.contains(t.rootNode)&&(e=f(t.rootNode),Object.keys(e).length>0&&(o=r.wrap(r.toArray(t.rootNode.childNodes)),r.setStyles(o,e)));i.length>0&&r.isNodeInRegion(t,i[0].parentNode);)i=[r.splitBalancedNodeRange(i)];i.forEach(u)})}function u(n){var e=r.toArray(n.childNodes).map(u),i=e.every(function(n){return n}),f=r.isBlockElement(n),t=r.getTagOfNode(n);return t&&(o.indexOf(t)>=0||i&&!r.isVoidHtmlElement(n)&&h.indexOf(t)<0?(f&&!i&&r.wrap(n),r.unwrap(n)):l(n)),f}function l(n){for(var t,e=r.safeInstanceOf(n,"HTMLTableCellElement"),i=0,u=r.toArray(n.attributes);i<u.length;i++)t=u[i],e&&t.name=="style"?f(n):s.indexOf(t.name.toLowerCase())<0&&t.name.indexOf("data-")!=0&&n.removeAttribute(t.name)}function f(n){var t=r.getStyles(n),i={};return Object.keys(t).forEach(function(n){n.indexOf("border")<0&&(i[n]=t[n],delete t[n])}),r.setStyles(n,t),i}Object.defineProperty(t,"__esModule",{value:!0});var e=i("./packages/roosterjs-editor-api/lib/utils/blockFormat.ts"),r=i("./packages/roosterjs-editor-dom/lib/index.ts"),o="B,I,U,STRONG,EM,SUB,SUP,STRIKE,FONT,CENTER,H1,H2,H3,H4,H5,H6,UL,OL,LI,SPAN,P,BLOCKQUOTE,CODE,S,PRE".split(","),s=["href","src"],h=["TD","TH","TR","TABLE","TBODY","THEAD"];t.default=c},"./packages/roosterjs-editor-api/lib/format/clearFormat.ts":function(n,t,i){function a(n){n.focus();n.addUndoSnapshot(function(){f.default(n,"removeFormat");n.queryElements("[class]",1,function(n){return n.removeAttribute("class")});var t=n.getDefaultFormat(),i=Object.keys(t).length===0;n.queryElements("[style]",2,function(n){l.forEach(function(t){return n.style.removeProperty(t)});i&&n.getAttribute("style")===""&&n.removeAttribute("style")});i||(t.fontFamily&&e.default(n,t.fontFamily),t.fontSize&&o.default(n,t.fontSize),t.textColor&&(t.textColors?u.default(n,t.textColors):u.default(n,t.textColor)),t.backgroundColor&&(t.backgroundColors?r.default(n,t.backgroundColors):r.default(n,t.backgroundColor)),t.bold&&s.default(n),t.italic&&h.default(n),t.underline&&c.default(n))},"Format")}Object.defineProperty(t,"__esModule",{value:!0});var f=i("./packages/roosterjs-editor-api/lib/utils/execCommand.ts"),r=i("./packages/roosterjs-editor-api/lib/format/setBackgroundColor.ts"),e=i("./packages/roosterjs-editor-api/lib/format/setFontName.ts"),o=i("./packages/roosterjs-editor-api/lib/format/setFontSize.ts"),u=i("./packages/roosterjs-editor-api/lib/format/setTextColor.ts"),s=i("./packages/roosterjs-editor-api/lib/format/toggleBold.ts"),h=i("./packages/roosterjs-editor-api/lib/format/toggleItalic.ts"),c=i("./packages/roosterjs-editor-api/lib/format/toggleUnderline.ts"),l=["font","text-decoration","color","background"];t.default=a},"./packages/roosterjs-editor-api/lib/format/createLink.ts":function(n,t,i){function c(n){if(!n)return n;var t="";return n.search(e)<0&&(t=n.search(o)==0?"mailto:":n.search(s)==0?"ftp://":"http://"),t+n}function l(n,t,i,e){var o;if(n.focus(),o=(a(t)||"").trim(),o){var s=r.matchLink(o),l=s?s.normalizedUrl:c(o),v=s?s.originalUrl:o;n.addUndoSnapshot(function(){var r=n.getSelectionRange(),t=null;return r&&r.collapsed?(t=u(n),t?(t.href=l,f(t,e)):(t=n.getDocument().createElement("A"),t.textContent=e||v,t.href=l,n.insertNode(t))):(n.getDocument().execCommand("createLink",!1,l),t=u(n),f(t,e)),i&&t&&(t.removeAttribute(h),t.title=i),t},"CreateLink")}}function u(n){return n.queryElements("a[href]",1)[0]}function f(n,t){t&&n.textContent!=t&&(n.textContent=t)}function a(n){var u=new r.HtmlSanitizer,t=(new DOMParser).parseFromString("<a><\/a>","text/html"),i=t.body.firstChild;return i.href=n||"",u.sanitize(t.body),i.getAttribute("href")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),e=/^[a-zA-Z]+:/i,o=/^[\w.%+-]+@/i,s=/^ftp\./i,h="istemptitle";t.default=l},"./packages/roosterjs-editor-api/lib/format/getFormatState.ts":function(n,t,i){function f(n,t){var i=u.getTagOfNode(n.getElementAtCursor("OL,UL",null,t)),r=u.getTagOfNode(n.getElementAtCursor("H1,H2,H3,H4,H5,H6",null,t));return{isBullet:i=="UL",isNumbering:i=="OL",headerLevel:r&&parseInt(r[1])||0,canUnlink:!!n.queryElements("a[href]",1)[0],canAddImageAltText:!!n.queryElements("img",1)[0],isBlockQuote:!!n.queryElements("blockquote",1)[0]}}function e(n,t){return r(r(r(r({},u.getPendableFormatState(n.getDocument())),f(n,t)),n.getStyleBasedFormatState()),n.getUndoState())}var r=this&&this.__assign||function(){return r=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},r.apply(this,arguments)},u;Object.defineProperty(t,"__esModule",{value:!0});u=i("./packages/roosterjs-editor-dom/lib/index.ts");t.getElementBasedFormatState=f;t.default=e},"./packages/roosterjs-editor-api/lib/format/insertEntity.ts":function(n,t,i){function u(n,t,i,u,f,e){var o=r.wrap(i,u?"DIV":"SPAN"),h,s,c,l,v,a;return!u&&f&&(o.style.display="inline-block"),r.commitEntity(o,t,f),n.contains(o)||(h=void 0,s=void 0,typeof e=="number"?s=e:e?(h=n.getSelectionRange(),c=e.normalize().node,l=c&&n.getElementAtCursor(r.getEntitySelector(),c),l&&(e=new r.Position(l,-3)),n.select(e),s=3):(n.focus(),s=3),n.insertNode(o,{updateCursor:!1,insertOnNewLine:u,replaceSelection:!0,position:s}),s==3&&(h?n.select(h):u||n.select(o,-3))),u&&(v=n.getDocument().createElement("BR"),o.parentNode.insertBefore(v,o.nextSibling)),a=r.getEntityFromElement(o),n.triggerContentChangedEvent("InsertEntity",a),a}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/insertImage.ts":function(n,t,i){function f(n,t){typeof t=="string"?r(n,t):u.readFile(t,function(t){t&&!n.isDisposed()&&r(n,t)})}function r(n,t){n.addUndoSnapshot(function(){var i=n.getDocument().createElement("img");i.src=t;i.style.maxWidth="100%";n.insertNode(i)},"Format")}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=f},"./packages/roosterjs-editor-api/lib/format/removeLink.ts":function(n,t,i){function u(n){n.focus();n.addUndoSnapshot(function(t,i){n.queryElements("a[href]",1,r.unwrap);n.select(t,i)},"Format")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/replaceWithNode.ts":function(n,t){function i(n,t,i,r,u){var f,e;return!t||!i?!1:(typeof t=="string"?(u=u||n.getContentSearcherOfCursor(),f=u&&u.getRangeFromText(t,r)):f=t,f)?(e=n.getSelectionRange(),e.collapsed&&f.endContainer==e.startContainer&&f.endOffset==e.startOffset&&(r=!0),n.insertNode(i,{position:5,updateCursor:r,replaceSelection:!0,insertOnNewLine:!1,range:f}),!0):!1}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-api/lib/format/rotateElement.ts":function(n,t){function i(n,t,i){t&&n.addUndoSnapshot(function(){t.style.transform="rotate("+i+"deg)"},"Format")}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-api/lib/format/setAlignment.ts":function(n,t,i){function u(n,t){var i="justifyLeft",u="left";t==1?(i="justifyCenter",u="center"):t==2&&(i="justifyRight",u="right");n.addUndoSnapshot(function(){r.default(n,i);n.queryElements("[align]",1,function(n){return n.style.textAlign=u})},"Format")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/utils/execCommand.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/setBackgroundColor.ts":function(n,t,i){function u(n,t){var u,i,f;typeof t=="string"?(u=t.trim(),r.default(n,function(n,t){n.style.backgroundColor=t?"":u})):(i=n.isDarkMode(),f=i?t.darkModeColor:t.lightModeColor,r.default(n,function(n,r){n.style.backgroundColor=r?"":f;i&&(n.dataset.ogsb=t.lightModeColor)}))}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/utils/applyInlineStyle.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/setDirection.ts":function(n,t,i){function u(n,t){n.focus();n.addUndoSnapshot(function(i,u){r.default(n,function(n){n.setAttribute("dir",t==0?"ltr":"rtl");n.style.textAlign=t==0?"left":"right"});n.select(i,u)},"Format")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/utils/collapseSelectedBlocks.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/setFontName.ts":function(n,t,i){function u(n,t){t=t.trim();r.default(n,function(n,i){n.style.fontFamily=i?"":t})}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/utils/applyInlineStyle.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/setFontSize.ts":function(n,t,i){function f(n,t){t=t.trim();r.default(n,function(n,i){n.style.fontSize=i?"":t;var r=u.getComputedStyle(n,"line-height");r!="normal"&&(n.style.lineHeight="normal")})}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/utils/applyInlineStyle.ts"),u=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=f},"./packages/roosterjs-editor-api/lib/format/setImageAltText.ts":function(n,t){function i(n,t){n.focus();n.addUndoSnapshot(function(){n.queryElements("img",1,function(n){return n.setAttribute("alt",t)})},"Format")}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-api/lib/format/setIndentation.ts":function(n,t,i){function e(n,t){var i=t==0?o:s;u.default(n,function(n,u,f){for(var c,s,o=r.getSelectedBlockElementsInRegion(n,!0),h=[[]],e=0;e<o.length;e++)if(c=o[e].getStartNode(),s=r.createVListFromRegion(n,!0,c),s){for(h.push([]);o[e+1]&&s.contains(o[e+1].getStartNode());)e++;s.setIndentation(u,f,t);s.writeBack()}else h[h.length-1].push(o[e]);h.forEach(function(t){return i(n,t)})})}function o(n,t){var i=r.collapseNodesInRegion(n,t);r.wrap(i,f)}function s(n,t){t.forEach(function(t){var i=t.collapseToSingleElement(),u=r.findClosestElementAncestor(i,n.rootNode,"blockquote");if(u){for(i==u&&(i=r.wrap(r.toArray(i.childNodes)));r.isNodeInRegion(n,i)&&r.getTagOfNode(i)!="BLOCKQUOTE";)i=r.splitBalancedNodeRange(i);r.isNodeInRegion(n,i)&&r.unwrap(i)}})}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-api/lib/utils/blockFormat.ts"),r=i("./packages/roosterjs-editor-dom/lib/index.ts"),f='<blockquote style="margin-top:0;margin-bottom:0"><\/blockquote>';t.default=e},"./packages/roosterjs-editor-api/lib/format/setTextColor.ts":function(n,t,i){function u(n,t){var u,i,f;typeof t=="string"?(u=t.trim(),r.default(n,function(n,t){n.style.color=t?"":u})):(i=n.isDarkMode(),f=i?t.darkModeColor:t.lightModeColor,r.default(n,function(n,r){n.style.color=r?"":f;i&&(n.dataset.ogsc=t.lightModeColor)}))}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/utils/applyInlineStyle.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/toggleBlockQuote.ts":function(n,t,i){function o(n,t){u.default(n,function(n){var i=r.wrap(n,f);(t||e)(i)},function(){return n.queryElements("blockquote",1,r.unwrap).length==0})}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-api/lib/utils/blockWrap.ts"),r=i("./packages/roosterjs-editor-dom/lib/index.ts"),f="blockquote",e=function(n){n.style.borderLeft="3px solid";n.style.borderColor="#C8C8C8";n.style.paddingLeft="10px";n.style.color="#666666"};t.default=o},"./packages/roosterjs-editor-api/lib/format/toggleBold.ts":function(n,t,i){function u(n){r.default(n,"bold")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/utils/execCommand.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/toggleBullet.ts":function(n,t,i){function u(n){r.default(n,2)}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/utils/toggleListType.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/toggleCodeBlock.ts":function(n,t,i){function s(n,t){e.default(n,function(n){var i=r.wrap(n,f),e=r.wrap(i,u);t===null||t===void 0?void 0:t(e)},function(){return n.queryElements(o,1,function(n){if(!n.previousSibling&&!n.nextSibling){var t=n.parentNode;r.unwrap(n);r.unwrap(t)}}).length==0})}Object.defineProperty(t,"__esModule",{value:!0});var e=i("./packages/roosterjs-editor-api/lib/utils/blockWrap.ts"),r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u="pre",f="code",o=u+">"+f;t.default=s},"./packages/roosterjs-editor-api/lib/format/toggleHeader.ts":function(n,t,i){function u(n,t){t=Math.min(Math.max(Math.round(t),0),6);n.addUndoSnapshot(function(){var i,e;if(n.focus(),i=!1,n.queryElements("H1,H2,H3,H4,H5,H6",1,function(t){i||(n.getDocument().execCommand("formatBlock",!1,"<DIV>"),i=!0);for(var r=n.getDocument().createElement("div");t.firstChild;)r.appendChild(t.firstChild);n.replaceNode(t,r)}),t>0){for(var u=n.getSelectionTraverser(),f=u?u.currentBlockElement:null,o=new r.HtmlSanitizer({cssStyleCallbacks:{"font-size":function(){return!1}}});f;)e=f.collapseToSingleElement(),o.sanitize(e),f=u.getNextBlockElement();n.getDocument().execCommand("formatBlock",!1,"<H"+t+">")}},"Format")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/toggleItalic.ts":function(n,t,i){function u(n){r.default(n,"italic")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/utils/execCommand.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/toggleNumbering.ts":function(n,t,i){function u(n,t){r.default(n,1,t)}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/utils/toggleListType.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/toggleStrikethrough.ts":function(n,t,i){function u(n){r.default(n,"strikeThrough")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/utils/execCommand.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/toggleSubscript.ts":function(n,t,i){function u(n){r.default(n,"subscript")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/utils/execCommand.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/toggleSuperscript.ts":function(n,t,i){function u(n){r.default(n,"superscript")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/utils/execCommand.ts");t.default=u},"./packages/roosterjs-editor-api/lib/format/toggleUnderline.ts":function(n,t,i){function u(n){r.default(n,"underline")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/utils/execCommand.ts");t.default=u},"./packages/roosterjs-editor-api/lib/index.ts":function(n,t,i){var r,f,e,o,u,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt;Object.defineProperty(t,"__esModule",{value:!0});r=i("./packages/roosterjs-editor-api/lib/format/changeFontSize.ts");t.changeFontSize=r.default;t.FONT_SIZES=r.FONT_SIZES;f=i("./packages/roosterjs-editor-api/lib/format/clearBlockFormat.ts");t.clearBlockFormat=f.default;e=i("./packages/roosterjs-editor-api/lib/format/clearFormat.ts");t.clearFormat=e.default;o=i("./packages/roosterjs-editor-api/lib/format/createLink.ts");t.createLink=o.default;u=i("./packages/roosterjs-editor-api/lib/format/getFormatState.ts");t.getFormatState=u.default;t.getElementBasedFormatState=u.getElementBasedFormatState;s=i("./packages/roosterjs-editor-api/lib/format/insertEntity.ts");t.insertEntity=s.default;h=i("./packages/roosterjs-editor-api/lib/format/insertImage.ts");t.insertImage=h.default;c=i("./packages/roosterjs-editor-api/lib/table/insertTable.ts");t.insertTable=c.default;l=i("./packages/roosterjs-editor-api/lib/table/editTable.ts");t.editTable=l.default;a=i("./packages/roosterjs-editor-api/lib/table/formatTable.ts");t.formatTable=a.default;v=i("./packages/roosterjs-editor-api/lib/format/removeLink.ts");t.removeLink=v.default;y=i("./packages/roosterjs-editor-api/lib/format/replaceWithNode.ts");t.replaceWithNode=y.default;p=i("./packages/roosterjs-editor-api/lib/format/rotateElement.ts");t.rotateElement=p.default;w=i("./packages/roosterjs-editor-api/lib/format/setAlignment.ts");t.setAlignment=w.default;b=i("./packages/roosterjs-editor-api/lib/format/setBackgroundColor.ts");t.setBackgroundColor=b.default;k=i("./packages/roosterjs-editor-api/lib/format/setTextColor.ts");t.setTextColor=k.default;d=i("./packages/roosterjs-editor-api/lib/format/setDirection.ts");t.setDirection=d.default;g=i("./packages/roosterjs-editor-api/lib/format/setFontName.ts");t.setFontName=g.default;nt=i("./packages/roosterjs-editor-api/lib/format/setFontSize.ts");t.setFontSize=nt.default;tt=i("./packages/roosterjs-editor-api/lib/format/setImageAltText.ts");t.setImageAltText=tt.default;it=i("./packages/roosterjs-editor-api/lib/format/setIndentation.ts");t.setIndentation=it.default;rt=i("./packages/roosterjs-editor-api/lib/format/changeCapitalization.ts");t.changeCapitalization=rt.default;ut=i("./packages/roosterjs-editor-api/lib/format/toggleBold.ts");t.toggleBold=ut.default;ft=i("./packages/roosterjs-editor-api/lib/format/toggleBullet.ts");t.toggleBullet=ft.default;et=i("./packages/roosterjs-editor-api/lib/format/toggleItalic.ts");t.toggleItalic=et.default;ot=i("./packages/roosterjs-editor-api/lib/format/toggleNumbering.ts");t.toggleNumbering=ot.default;st=i("./packages/roosterjs-editor-api/lib/format/toggleBlockQuote.ts");t.toggleBlockQuote=st.default;ht=i("./packages/roosterjs-editor-api/lib/format/toggleCodeBlock.ts");t.toggleCodeBlock=ht.default;ct=i("./packages/roosterjs-editor-api/lib/format/toggleStrikethrough.ts");t.toggleStrikethrough=ct.default;lt=i("./packages/roosterjs-editor-api/lib/format/toggleSubscript.ts");t.toggleSubscript=lt.default;at=i("./packages/roosterjs-editor-api/lib/format/toggleSuperscript.ts");t.toggleSuperscript=at.default;vt=i("./packages/roosterjs-editor-api/lib/format/toggleUnderline.ts");t.toggleUnderline=vt.default;yt=i("./packages/roosterjs-editor-api/lib/format/toggleHeader.ts");t.toggleHeader=yt.default;pt=i("./packages/roosterjs-editor-api/lib/experiment/experimentCommitListChains.ts");t.experimentCommitListChains=pt.default},"./packages/roosterjs-editor-api/lib/table/editTable.ts":function(n,t,i){function u(n,t){var i=n.getElementAtCursor("TD,TH");i&&n.addUndoSnapshot(function(){var u=new r.VTable(i),e;u.edit(t);u.writeBack();n.focus();e=f(t,u.row,u.col);n.select(u.getCell(e.newRow,e.newCol).td,0)},"Format")}function f(n,t,i){var r=t,u=i;switch(n){case 0:u=0;break;case 1:r+=1;u=0;break;case 2:r=0;break;case 3:r=0;u+=1}return{newRow:r,newCol:u}}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=u},"./packages/roosterjs-editor-api/lib/table/formatTable.ts":function(n,t,i){function u(n,t,i){i=i||n.getElementAtCursor("TABLE");i&&n.addUndoSnapshot(function(u,f){var e=new r.VTable(i);e.applyFormat(t);e.writeBack();n.focus();n.select(u,f)},"Format")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=u},"./packages/roosterjs-editor-api/lib/table/insertTable.ts":function(n,t,i){function u(n,t,i,u){var o=n.getDocument(),a=o.createDocumentFragment(),e=o.createElement("table"),h,c,l,s;for(a.appendChild(e),e.cellSpacing="0",e.cellPadding="1",h=0;h<i;h++)for(c=o.createElement("tr"),e.appendChild(c),l=0;l<t;l++)s=o.createElement("td"),c.appendChild(s),s.appendChild(o.createElement("br")),s.style.width=f(t);n.focus();n.addUndoSnapshot(function(){var t=new r.VTable(e);t.applyFormat(u||{bgColorEven:"#FFF",bgColorOdd:"#FFF",topBorderColor:"#ABABAB",bottomBorderColor:"#ABABAB",verticalBorderColor:"#ABABAB"});t.writeBack();n.insertNode(a);n.runAsync(function(n){return n.select(new r.Position(e,0).normalize())})},"Format")}function f(n){return n<=4?"120px":n<=6?"100px":"70px"}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=u},"./packages/roosterjs-editor-api/lib/utils/applyInlineStyle.ts":function(n,t,i){function f(n,t){var f,i,e,o;n.focus();f=n.getSelectionRange();f&&f.collapsed?(i=f.startContainer,e=r.getTagOfNode(i)=="SPAN"&&(!i.firstChild||r.getTagOfNode(i.firstChild)=="BR"&&!i.firstChild.nextSibling),e?(n.addUndoSnapshot(),t(i)):(o=i&&i.nodeType==3&&i.nodeValue==u&&r.getTagOfNode(i.parentNode)=="SPAN",o||(n.addUndoSnapshot(),i=n.getDocument().createTextNode(u),f.insertNode(i)),r.applyTextStyle(i,t),n.select(i,-1))):n.addUndoSnapshot(function(){for(var i,r,u=n.getSelectionTraverser(),f=u&&u.currentInlineElement,e;f;)e=u.getNextInlineElement(),f.applyStyle(function(n,u){t(n,u);i=i||n;r=n}),f=e;i&&r&&n.select(i,-2,r,-3)},"Format")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u="​";t.default=f},"./packages/roosterjs-editor-api/lib/utils/blockFormat.ts":function(n,t,i){function f(n,t,i){n.focus();n.addUndoSnapshot(function(f,e){if(!i||i()){var o=n.getSelectedRegions(),s=u.VListChain.createListChains(o,f===null||f===void 0?void 0:f.node);o.forEach(function(n){return t(n,f,e,s)});r.default(n,s)}n.select(f,e)},"Format")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/experiment/experimentCommitListChains.ts"),u=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=f},"./packages/roosterjs-editor-api/lib/utils/blockWrap.ts":function(n,t,i){function f(n,t,i){u.default(n,function(n){var f=r.getSelectedBlockElementsInRegion(n,!0),i=r.collapseNodesInRegion(n,f),u;if(i.length>0){for(i.length==1&&(u=r.getTagOfNode(i[0]),u=="BR"?i=[r.wrap(i[0])]:(u=="LI"||u=="TD")&&(i=r.toArray(i[0].childNodes)));i[0]&&r.isNodeInRegion(n,i[0].parentNode)&&i.some(function(n){return r.getTagOfNode(n)=="LI"});)i=[r.splitBalancedNodeRange(i)];t(i)}},i)}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-api/lib/utils/blockFormat.ts"),r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=f},"./packages/roosterjs-editor-api/lib/utils/collapseSelectedBlocks.ts":function(n,t,i){function u(n,t){for(var r=n.getSelectionTraverser(),i=r&&r.currentBlockElement,u=[];i;)f(i)||u.push(i),i=r.getNextBlockElement();u.forEach(function(n){var i=n.collapseToSingleElement();t(i)})}function f(n){var t=n.getStartNode();return t==n.getEndNode()&&t.nodeType==3&&["TR","TABLE"].indexOf(r.getTagOfNode(t.parentNode))>=0}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=u},"./packages/roosterjs-editor-api/lib/utils/execCommand.ts":function(n,t,i){function f(n,t){n.focus();var i=function(){return n.getDocument().execCommand(t,!1,null)},u=n.getSelectionRange();u&&u.collapsed?(n.addUndoSnapshot(),i(),e(t)&&n.triggerPluginEvent(13,{formatState:r.getPendableFormatState(n.getDocument())})):n.addUndoSnapshot(i,"Format")}function e(n){return u||(u=Object.keys(r.PendableFormatCommandMap).map(function(n){return r.PendableFormatCommandMap[n]})),u.indexOf(n)>=0}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u=null;t.default=f},"./packages/roosterjs-editor-api/lib/utils/toggleListType.ts":function(n,t,i){function f(n,t,i){u.default(n,function(n,u,f,e){var o,h=i>0&&e.filter(function(n){return n.canAppendAtCursor(i)})[0],s=h&&u.equalTo(f)?h.createVListAtBlock((o=r.getBlockElementAtNode(n.rootNode,u.node))===null||o===void 0?void 0:o.collapseToSingleElement(),i):r.createVListFromRegion(n,!0);s&&(s.changeListType(u,f,t),s.writeBack())})}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-api/lib/utils/blockFormat.ts"),r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=f},"./packages/roosterjs-editor-core/lib/coreApi/addUndoSnapshot.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.addUndoSnapshot=function(n,t,i,u){var e=n.undo,o=e.isNested,s=!!n.lifecycle.shadowEditFragment,h,c,f;o||(e.isNested=!0,s||(e.snapshotsService.addSnapshot(n.api.getContent(n,2),u),e.hasNewContent=!1));try{t&&(f=n.api.getSelectionRange(n,!0),h=t(f&&r.Position.getStart(f).normalize(),f&&r.Position.getEnd(f).normalize()),o||s||(e.snapshotsService.addSnapshot(n.api.getContent(n,2),!1),e.hasNewContent=!1))}finally{o||(e.isNested=!1)}t&&i&&(c={eventType:7,source:i,data:h},n.api.triggerEvent(n,c,!0));u&&(f=n.api.getSelectionRange(n,!1),f&&(n.undo.hasNewContent=!1,n.undo.autoCompletePosition=r.Position.getStart(f)))}},"./packages/roosterjs-editor-core/lib/coreApi/attachDomEvent.ts":function(n,t){function i(n){var t={pluginEventType:null,beforeDispatch:null};return typeof n=="number"?t.pluginEventType=n:typeof n=="function"?t.beforeDispatch=n:typeof n=="object"&&(t=n),t}Object.defineProperty(t,"__esModule",{value:!0});t.attachDomEvent=function(n,t){var r=Object.keys(t||{}).map(function(r){var u=i(t[r]),f=u.pluginEventType,e=u.beforeDispatch,o=function(t){e&&e(t);f!=null&&n.api.triggerEvent(n,{eventType:f,rawEvent:t},!1)};return n.contentDiv.addEventListener(r,o),function(){n.contentDiv.removeEventListener(r,o)}});return function(){return r.forEach(function(n){return n()})}}},"./packages/roosterjs-editor-core/lib/coreApi/coreApiMap.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-core/lib/coreApi/addUndoSnapshot.ts"),u=i("./packages/roosterjs-editor-core/lib/coreApi/attachDomEvent.ts"),f=i("./packages/roosterjs-editor-core/lib/coreApi/createPasteFragment.ts"),e=i("./packages/roosterjs-editor-core/lib/coreApi/ensureTypeInContainer.ts"),o=i("./packages/roosterjs-editor-core/lib/coreApi/focus.ts"),s=i("./packages/roosterjs-editor-core/lib/coreApi/getContent.ts"),h=i("./packages/roosterjs-editor-core/lib/coreApi/getSelectionRange.ts"),c=i("./packages/roosterjs-editor-core/lib/coreApi/getStyleBasedFormatState.ts"),l=i("./packages/roosterjs-editor-core/lib/coreApi/hasFocus.ts"),a=i("./packages/roosterjs-editor-core/lib/coreApi/insertNode.ts"),v=i("./packages/roosterjs-editor-core/lib/coreApi/restoreUndoSnapshot.ts"),y=i("./packages/roosterjs-editor-core/lib/coreApi/selectRange.ts"),p=i("./packages/roosterjs-editor-core/lib/coreApi/setContent.ts"),w=i("./packages/roosterjs-editor-core/lib/coreApi/switchShadowEdit.ts"),b=i("./packages/roosterjs-editor-core/lib/coreApi/transformColor.ts"),k=i("./packages/roosterjs-editor-core/lib/coreApi/triggerEvent.ts");t.coreApiMap={attachDomEvent:u.attachDomEvent,addUndoSnapshot:r.addUndoSnapshot,createPasteFragment:f.createPasteFragment,ensureTypeInContainer:e.ensureTypeInContainer,focus:o.focus,getContent:s.getContent,getSelectionRange:h.getSelectionRange,getStyleBasedFormatState:c.getStyleBasedFormatState,hasFocus:l.hasFocus,insertNode:a.insertNode,restoreUndoSnapshot:v.restoreUndoSnapshot,selectRange:y.selectRange,setContent:p.setContent,switchShadowEdit:w.switchShadowEdit,transformColor:b.transformColor,triggerEvent:k.triggerEvent}},"./packages/roosterjs-editor-core/lib/coreApi/createPasteFragment.ts":function(n,t,i){function s(n,t){var u=r.getPendableFormatState(n.contentDiv.ownerDocument),i=n.api.getStyleBasedFormatState(n,t);return{fontFamily:i.fontName,fontSize:i.fontSize,textColor:i.textColor,backgroundColor:i.backgroundColor,textColors:i.textColors,backgroundColors:i.backgroundColors,bold:u.isBold,italic:u.isItalic,underline:u.isUnderline}}function h(n,t){return{eventType:10,clipboardData:t,fragment:n.contentDiv.ownerDocument.createDocumentFragment(),sanitizingOption:r.createDefaultHtmlSanitizerOptions(),htmlBefore:"",htmlAfter:"",htmlAttributes:{}}}function o(n,t){r.toArray(n.querySelectorAll("style")).forEach(t)}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u="<!--StartFragment-->",f="<!--EndFragment-->",e=" ";t.createPasteFragment=function(n,t,i,c,l){var g,nt,k,it,w,d,ft,rt;if(!t)return null;var y=h(n,t),a=y.fragment,et=y.sanitizingOption,p=t.rawHtml,tt=t.text,ut=t.imageDataUri,b=n.contentDiv.ownerDocument,v;if(c||tt||!ut)if(!c&&p&&((g=v=(new DOMParser).parseFromString(p,"text/html"))===null||g===void 0?void 0:g.body)){for(it=(nt=v.querySelector("html"))===null||nt===void 0?void 0:nt.attributes,(it?r.toArray(it):[]).reduce(function(n,t){return n[t.name]=t.value,n},y.htmlAttributes),r.toArray(v.querySelectorAll("meta")).reduce(function(n,t){return n[t.name]=t.content,n},y.htmlAttributes),o(v,function(n){v.head.appendChild(n);et.additionalGlobalStyleNodes.push(n)}),w=p.indexOf(u),d=p.lastIndexOf(f),w>=0&&d>=w+u.length&&(y.htmlBefore=p.substr(0,w),y.htmlAfter=p.substr(d+f.length),v.body.innerHTML=t.html=p.substring(w+u.length,d),o(v.body,function(n){var t;if((t=n.parentNode)!==null&&t!==void 0)return t.removeChild(n)}));v.body.firstChild;)a.appendChild(v.body.firstChild);l&&i&&(ft=s(n,i.node),r.applyTextStyle(a,function(n){return r.applyFormat(n,ft)}))}else tt&&tt.split("\n").forEach(function(n,t,i){n=n.replace(/^ /g,e).replace(/\r/g,"").replace(/ {2}/g," "+e);var u=b.createTextNode(n);i.length==2&&t==0?(a.appendChild(u),a.appendChild(b.createElement("br"))):t>0&&t<i.length-1?a.appendChild(r.wrap(n==""?b.createElement("br"):u)):a.appendChild(u)});else k=b.createElement("img"),k.style.maxWidth="100%",k.src=ut,a.appendChild(k);return n.api.triggerEvent(n,y,!0),rt=new r.HtmlSanitizer(y.sanitizingOption),rt.convertGlobalCssToInlineCss(a),rt.sanitize(a,i&&r.getInheritableStyles(i.element)),a}},"./packages/roosterjs-editor-core/lib/coreApi/ensureTypeInContainer.ts":function(n,t,i){function u(n,t){return r.safeInstanceOf(n.target,"Node")&&n.target.contains(t)&&n.key===t.innerText}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.ensureTypeInContainer=function(n,t,i){var e,f,o;t=t.normalize();e=r.getBlockElementAtNode(n.contentDiv,t.node);e?(f=e.collapseToSingleElement(),o=r.isNodeEmpty(f)||i&&u(i,f),f=f&&o?f:null):(f=r.fromHtml(r.Browser.isEdge?"<div><span><br><\/span><\/div>":"<div><br><\/div>",n.contentDiv.ownerDocument)[0],n.api.insertNode(n,f,{position:1,updateCursor:!1,replaceSelection:!1,insertOnNewLine:!1}),t=new r.Position(f.firstChild,0));f&&r.applyFormat(f,n.lifecycle.defaultFormat,n.lifecycle.isDarkMode);i&&n.api.selectRange(n,r.createRange(t))}},"./packages/roosterjs-editor-core/lib/coreApi/focus.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.focus=function(n){if(!n.lifecycle.shadowEditFragment){if((!n.api.hasFocus(n)||!n.api.getSelectionRange(n,!1))&&(!n.domEvent.selectionRange||!n.api.selectRange(n,n.domEvent.selectionRange,!0))){var t=r.getFirstLeafNode(n.contentDiv)||n.contentDiv;n.api.selectRange(n,r.createRange(t,0),!0)}n.domEvent.selectionRange=null;n.api.hasFocus(n)||n.contentDiv.focus()}}},"./packages/roosterjs-editor-core/lib/coreApi/getContent.ts":function(n,t,i){function u(n){var t;return r.safeInstanceOf(n,"DocumentFragment")?(t=n.ownerDocument.createElement("div"),t.appendChild(n.cloneNode(!0))):t=n.cloneNode(!0),t}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.getContent=function(n,t){var f="",s=t==0,h=t==2,e=n.lifecycle.shadowEditFragment||n.contentDiv;if(t==3)f=r.getTextContent(e);else if(s||n.lifecycle.isDarkMode){var i=u(e),c=n.api.getSelectionRange(n,!0),o=h?n.lifecycle.shadowEditFragment?n.lifecycle.shadowEditSelectionPath:c?r.getSelectionPath(n.contentDiv,c):null:null,l=o&&r.createRange(i,o.start,o.end);n.lifecycle.isDarkMode&&n.api.transformColor(n,i,!1,null,1);s?(n.api.triggerEvent(n,{eventType:8,clonedRoot:i},!0),f=i.innerHTML):f=l?r.getHtmlWithSelectionPath(i,l):i.innerHTML}else f=r.getHtmlWithSelectionPath(e,h&&n.api.getSelectionRange(n,!0));return f}},"./packages/roosterjs-editor-core/lib/coreApi/getSelectionRange.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.getSelectionRange=function(n,t){var f,i=null,u,e;return n.lifecycle.shadowEditFragment?n.lifecycle.shadowEditSelectionPath&&r.createRange(n.contentDiv,n.lifecycle.shadowEditSelectionPath.start,n.lifecycle.shadowEditSelectionPath.end):((!t||n.api.hasFocus(n))&&(u=(f=n.contentDiv.ownerDocument.defaultView)===null||f===void 0?void 0:f.getSelection(),u&&u.rangeCount>0&&(e=u.getRangeAt(0),r.contains(n.contentDiv,e)&&(i=e))),!i&&t&&(i=n.domEvent.selectionRange),i)}},"./packages/roosterjs-editor-core/lib/coreApi/getStyleBasedFormatState.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u="[data-ogsc],[data-ogac]",f="[data-ogsb],[data-ogab]";t.getStyleBasedFormatState=function(n,t){if(!t)return{};var i=t?r.getComputedStyles(t):[],s=n.lifecycle.isDarkMode,h=n.contentDiv,e=s&&r.findClosestElementAncestor(t,h,u),o=s&&r.findClosestElementAncestor(t,h,f);return{fontName:i[0],fontSize:i[1],textColor:i[2],backgroundColor:i[3],textColors:e?{darkModeColor:i[2],lightModeColor:e.dataset.ogsc||e.dataset.ogac}:undefined,backgroundColors:o?{darkModeColor:i[3],lightModeColor:o.dataset.ogsb||o.dataset.ogab}:undefined}}},"./packages/roosterjs-editor-core/lib/coreApi/hasFocus.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.hasFocus=function(n){var t=n.contentDiv.ownerDocument.activeElement;return t&&r.contains(n.contentDiv,t,!0)}},"./packages/roosterjs-editor-core/lib/coreApi/insertNode.ts":function(n,t,i){function e(n,t){var i=n.api.getSelectionRange(n,!0),r=null;return t.position==5?(r=i,i=t.range):i&&(r=i.cloneRange()),{range:i,rangeToRestore:r}}function o(n,t,i){var s=r.getBlockElementAtNode(n,i.node),f;if(s&&(f=r.queryElements(n,"a[href]",null,1,r.createRange(i)).filter(function(n){return s.contains(n)})[0],f&&r.isNodeEmpty(f)&&(i=new r.Position(f,-2),u(f),f=null),f&&t.querySelector&&t.querySelector("a[href]"))){var e=i.normalize(),h=e.node.parentNode,c=e.node.nodeType==3?r.splitTextNode(e.node,e.offset,!1):e.isAtEnd?e.node.nextSibling:e.node,o=n.ownerDocument.createTextNode("");for(h.insertBefore(o,c);r.contains(f,o);)o=r.splitBalancedNodeRange(o);i=new r.Position(o,-2);u(o)}return i}function s(n,t,i){var f=t,c,p,a,s;f.nodeType==11&&(c=r.toArray(f.childNodes).filter(function(n){return r.getTagOfNode(n)!="BR"}),f=c.length==1?c[0]:null);var e=r.getTagOfNode(f),v=e&&r.getTagOfNode(f.nextSibling)=="BR",h=r.findClosestElementAncestor(i.node,n,"LI"),l=h&&r.findClosestElementAncestor(h,n,"OL,UL"),o=r.findClosestElementAncestor(i.node,n,"TD,TH"),y=o&&r.findClosestElementAncestor(o,n,"TR");return e=="LI"&&(e=l?r.getTagOfNode(l):"UL",f=r.wrap(f,e)),(e=="OL"||e=="UL")&&r.getTagOfNode(f.firstChild)=="LI"?(p=!f.firstChild.nextSibling&&!v,v&&f.parentNode&&u(f.nextSibling),p?(r.unwrap(f.firstChild),r.unwrap(f)):r.getTagOfNode(l)==e&&(r.unwrap(f),i=new r.Position(h,r.isPositionAtBeginningOf(i,h)?-2:-3))):e=="TABLE"&&y&&(a=new r.VTable(f),s=new r.VTable(o),s.col==0&&o==s.getCell(s.row,0).td&&a.cells[0]&&a.cells[0].length==s.cells[0].length&&r.isPositionAtBeginningOf(i,o)&&(r.getTagOfNode(f.firstChild)!="TBODY"||f.firstChild.nextSibling||r.unwrap(f.firstChild),r.unwrap(f),i=new r.Position(y,-3))),i}function h(n,t,i){if(r.getTagOfNode(i.node)=="P"){var u=i.normalize(),f=r.changeElementTag(i.node,"div");u.node!=f&&(i=u)}return i}function c(n,t,i){return r.isVoidHtmlElement(i.node)&&(i=new r.Position(i.node,i.isAtEnd?-3:-2)),i}function u(n){var t;(t=n===null||n===void 0?void 0:n.parentNode)===null||t===void 0?void 0:t.removeChild(n)}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),f=[o,s,h,c];t.insertNode=function(n,t,i){i=i||{position:3,insertOnNewLine:!1,updateCursor:!0,replaceSelection:!0};var u=n.contentDiv;return(i.updateCursor&&n.api.focus(n),i.position==4)?(u.parentNode.insertBefore(t,u.nextSibling),!0):(n.api.transformColor(n,t,!0,function(){var h,v,s,o,a,y,l,p,w;switch(i.position){case 0:case 1:h=i.position==0;v=r.getFirstLastBlockElement(u,h);v?(o=h?v.getStartNode():v.getEndNode(),i.insertOnNewLine||o.nodeType==3||r.isVoidHtmlElement(o)?r.safeInstanceOf(t,"DocumentFragment")?(s=r.toArray(t.childNodes),o.parentNode.insertBefore(t,h?o:o.nextSibling)):s=o.parentNode.insertBefore(t,h?o:o.nextSibling):s=o.insertBefore(t,h?o.firstChild:null)):s=u.appendChild(t);s&&i.insertOnNewLine&&(a=Array.isArray(s)?s:[s],r.isBlockElement(a[0])&&r.isBlockElement(a[a.length-1])||r.wrap(a));break;case 2:y=u.appendChild(t);y&&i.insertOnNewLine&&!r.isBlockElement(y)&&r.wrap(y);break;case 5:case 3:var b=e(n,i),c=b.range,k=b.rangeToRestore;if(!c)return;i.replaceSelection&&!c.collapsed&&c.deleteContents();l=r.Position.getStart(c);p=void 0;i.insertOnNewLine&&(p=r.getBlockElementAtNode(u,l.normalize().node))?l=new r.Position(p.getEndNode(),-3):f.forEach(function(n){l=n(u,t,l)});w=t.nodeType==11?t.lastChild:t;c=r.createRange(l);c.insertNode(t);i.updateCursor&&w&&(k=r.createRange(new r.Position(w,-3).normalize()));n.api.selectRange(n,k)}},0),!0)}},"./packages/roosterjs-editor-core/lib/coreApi/restoreUndoSnapshot.ts":function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.restoreUndoSnapshot=function(n,t){n.undo.hasNewContent&&t<0&&n.api.addUndoSnapshot(n,null,null,!1);var i=n.undo.snapshotsService.move(t);if(i!=null)try{n.undo.isRestoring=!0;n.api.setContent(n,i,!0)}finally{n.undo.isRestoring=!1}}},"./packages/roosterjs-editor-core/lib/coreApi/selectRange.ts":function(n,t,i){function f(n){var e=n.contentDiv,t=n.pendingFormatState,o=n.api.getSelectionRange,i,f,u;t.pendableFormatState&&(i=e.ownerDocument,f=r.getPendableFormatState(i),Object.keys(r.PendableFormatCommandMap).forEach(function(n){!!t.pendableFormatState[n]!=f[n]&&i.execCommand(r.PendableFormatCommandMap[n],!1,null)}),u=o(n,!0),t.pendableFormatPosition=u&&r.Position.getStart(u))}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-core/lib/coreApi/hasFocus.ts"),r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.selectRange=function(n,t,i){return!n.lifecycle.shadowEditSelectionPath&&r.contains(n.contentDiv,t)?(r.addRangeToSelection(t,i),u.hasFocus(n)||(n.domEvent.selectionRange=t),t.collapsed&&f(n),!0):!1}},"./packages/roosterjs-editor-core/lib/coreApi/setContent.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.setContent=function(n,t,i){var u=!1,f;n.contentDiv.innerHTML!=t&&(f=r.setHtmlWithSelectionPath(n.contentDiv,t),n.api.selectRange(n,f),u=!0);n.api.transformColor(n,n.contentDiv,!1,null,0);i&&(u||n.lifecycle.isDarkMode)&&n.api.triggerEvent(n,{eventType:7,source:"SetContent"},!1)}},"./packages/roosterjs-editor-core/lib/coreApi/switchShadowEdit.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.switchShadowEdit=function(n,t){var u=n.lifecycle,i=n.contentDiv,f=u.shadowEditFragment,e=u.shadowEditSelectionPath,s=!!f,o;if(t){if(!s){for(i.normalize(),o=n.api.getSelectionRange(n,!0),e=o&&r.getSelectionPath(i,o),f=n.contentDiv.ownerDocument.createDocumentFragment();i.firstChild;)f.appendChild(i.firstChild);n.api.triggerEvent(n,{eventType:17,fragment:f,selectionPath:e},!1);u.shadowEditFragment=f;u.shadowEditSelectionPath=e}i.innerHTML="";i.appendChild(u.shadowEditFragment.cloneNode(!0))}else u.shadowEditFragment=null,u.shadowEditSelectionPath=null,s&&(n.api.triggerEvent(n,{eventType:18},!1),i.innerHTML="",i.appendChild(f),n.api.focus(n),e&&n.api.selectRange(n,r.createRange(i,e.start,e.end)))}},"./packages/roosterjs-editor-core/lib/coreApi/transformColor.ts":function(n,t,i){function s(n,t){return n&&n!="undefined"&&n!="null"?n:t}function h(n,t){var i=[],u;return r.safeInstanceOf(n,"HTMLElement")?(t&&i.push(n),u=n.getElementsByTagName("*"),r.arrayPush(i,r.toArray(u))):r.safeInstanceOf(n,"DocumentFragment")&&(u=n.querySelectorAll("*"),r.arrayPush(i,r.toArray(u))),i}var u,f;Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),o=(u={},u.ogsc=function(n,t){return n.style.color=t},u.ogsb=function(n,t){return n.style.backgroundColor=t},u),e=(f={},f.ogac="color",f.ogab="bgcolor",f);t.transformColor=function(n,t,i,r,u){var f=n.lifecycle.isDarkMode?h(t,i):[];r===null||r===void 0?void 0:r();f.forEach(function(t){if(u==1&&(t===null||t===void 0?void 0:t.dataset))Object.keys(o).forEach(function(n){o[n](t,s(t.dataset[n],""));delete t.dataset[n]}),Object.keys(e).forEach(function(n){var i=t.dataset[n];s(i,null)?t.setAttribute(e[n],i):t.removeAttribute(e[n]);delete t.dataset[n]});else if(u==0&&t)if(n.lifecycle.onExternalContentTransform)n.lifecycle.onExternalContentTransform(t);else t.style.color=null,t.style.backgroundColor=null})}},"./packages/roosterjs-editor-core/lib/coreApi/triggerEvent.ts":function(n,t){function i(n,t){var i;if(t.onPluginEvent&&((i=t.willHandleEventExclusively)===null||i===void 0?void 0:i.call(t,n))){t.onPluginEvent(n);return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0});t.triggerEvent=function(n,t,r){n.lifecycle.shadowEditFragment||!r&&n.plugins.some(function(n){return i(t,n)})||n.plugins.forEach(function(n){if(n.onPluginEvent)n.onPluginEvent(t)})}},"./packages/roosterjs-editor-core/lib/corePlugins/CopyPastePlugin.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u='<div contenteditable style="width: 1px; height: 1px; overflow: hidden; position: fixed; top: 0; left; 0; -webkit-user-select: text"><\/div>',f=function(){function n(n){var t=this;this.onPaste=function(n){r.extractClipboardEvent(n,function(n){if(n.rawHtml===undefined){var r=t.editor.getSelectionRange(),i=t.getTempDiv();t.editor.runAsync(function(){n.rawHtml=i.innerHTML;t.cleanUpAndRestoreSelection(i,r);t.paste(n)})}else t.paste(n)},{allowLinkPreview:t.editor.isFeatureEnabled("PasteWithLinkPreview"),allowedCustomPasteType:t.state.allowedCustomPasteType})};this.state={allowedCustomPasteType:n.allowedCustomPasteType||[]}}return n.prototype.getName=function(){return"CopyPaste"},n.prototype.initialize=function(n){var t=this;this.editor=n;this.disposer=this.editor.addDomEventHandler({paste:this.onPaste,copy:function(n){return t.onCutCopy(n,!1)},cut:function(n){return t.onCutCopy(n,!0)}})},n.prototype.dispose=function(){this.disposer();this.disposer=null;this.editor=null},n.prototype.getState=function(){return this.state},n.prototype.onCutCopy=function(n,t){var e=this,i=this.editor.getSelectionRange();if(i&&!i.collapsed){var o=this.editor.getContent(2),u=this.getTempDiv(!0),f=r.setHtmlWithSelectionPath(u,o);f&&r.addRangeToSelection(f);this.editor.triggerPluginEvent(9,{clonedRoot:u,range:f,rawEvent:n,isCut:t});this.editor.runAsync(function(n){e.cleanUpAndRestoreSelection(u,i);t&&n.addUndoSnapshot(function(){var t=e.editor.deleteSelectedContent();n.focus();n.select(t)},"Cut")})}},n.prototype.paste=function(n){var t=this;n.image?r.readFile(n.image,function(i){n.imageDataUri=i;t.editor.paste(n)}):this.editor.paste(n)},n.prototype.getTempDiv=function(n){var i=this,t=this.editor.getCustomData("CopyPasteTempDiv",function(){var n=r.fromHtml(u,i.editor.getDocument())[0];return i.editor.insertNode(n,{position:4}),n},function(n){var t;if((t=n.parentNode)!==null&&t!==void 0)return t.removeChild(n)});return n&&(t.style.backgroundColor="white",t.style.color="black"),t.style.display="",t.focus(),t},n.prototype.cleanUpAndRestoreSelection=function(n,t){this.editor.select(t);n.style.backgroundColor="";n.style.color="";n.style.display="none";n.innerHTML=""},n}();t.default=f},"./packages/roosterjs-editor-core/lib/corePlugins/DOMEventPlugin.ts":function(n,t,i){function f(n){var t;return!!((t=n)===null||t===void 0?void 0:t.getContextMenuItems)}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u=function(){function n(n,t){var i=this,u;this.onDrop=function(){i.editor.runAsync(function(n){n.addUndoSnapshot(function(){},"Drop")})};this.onFocus=function(){i.editor.select(i.state.selectionRange);i.state.selectionRange=null};this.onBlur=function(){i.state.selectionRange=i.editor.getSelectionRange(!1)};this.onScroll=function(n){i.editor.triggerPluginEvent(14,{rawEvent:n,scrollContainer:i.state.scrollContainer})};this.onKeybaordEvent=function(n){r.isCharacterValue(n)&&n.stopPropagation()};this.onInputEvent=function(n){n.stopPropagation()};this.onContextMenuEvent=function(n){var t=[],u=i.editor.getContentSearcherOfCursor(),f=u===null||u===void 0?void 0:u.getInlineElementBefore(),e=n.target;n.button!=2&&(e=f===null||f===void 0?void 0:f.getContainerNode());i.state.contextMenuProviders.forEach(function(n){var i=n.getContextMenuItems(e);(i===null||i===void 0?void 0:i.length)>0&&(t.length>0&&t.push(null),r.arrayPush(t,i))});i.editor.triggerPluginEvent(16,{rawEvent:n,items:t})};this.state={isInIME:!1,scrollContainer:n.scrollContainer||t,selectionRange:null,stopPrintableKeyboardEventPropagation:!n.allowKeyboardEventPropagation,contextMenuProviders:((u=n.plugins)===null||u===void 0?void 0:u.filter(f))||[]}}return n.prototype.getName=function(){return"DOMEvent"},n.prototype.initialize=function(n){var t,i=this;this.editor=n;this.disposer=n.addDomEventHandler((t={keypress:this.getEventHandler(1),keydown:this.getEventHandler(0),keyup:this.getEventHandler(2),mousedown:5,contextmenu:this.onContextMenuEvent,compositionstart:function(){return i.state.isInIME=!0},compositionend:function(t){i.state.isInIME=!1;n.triggerPluginEvent(4,{rawEvent:t})},drop:this.onDrop,focus:this.onFocus},t[r.Browser.isIEOrEdge?"beforedeactivate":"blur"]=this.onBlur,t[r.Browser.isIE?"textinput":"input"]=this.getEventHandler(3),t));this.state.scrollContainer.addEventListener("scroll",this.onScroll)},n.prototype.dispose=function(){this.state.scrollContainer.removeEventListener("scroll",this.onScroll);this.disposer();this.disposer=null;this.editor=null},n.prototype.getState=function(){return this.state},n.prototype.getEventHandler=function(n){return this.state.stopPrintableKeyboardEventPropagation?{pluginEventType:n,beforeDispatch:n==3?this.onInputEvent:this.onKeybaordEvent}:n},n}();t.default=u},"./packages/roosterjs-editor-core/lib/corePlugins/EditPlugin.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u=function(){function n(){this.state={features:{}}}return n.prototype.getName=function(){return"Edit"},n.prototype.initialize=function(n){this.editor=n},n.prototype.dispose=function(){this.editor=null},n.prototype.getState=function(){return this.state},n.prototype.onPluginEvent=function(n){var s=!1,t,e=!1,i,o,u,f;for(n.eventType==0?(i=n.rawEvent,o=this.editor.getSelectionRange(),e=r.isCtrlOrMetaPressed(i),s=e||i.altKey,t=this.state.features[i.which]||o&&!o.collapsed&&this.state.features[258]):n.eventType==7&&(t=this.state.features[257]),u=0;u<(t===null||t===void 0?void 0:t.length);u++)if(f=t[u],(f.allowFunctionKeys||!s)&&f.shouldHandleEvent(n,this.editor,e)){f.handleEvent(n,this.editor);break}},n}();t.default=u},"./packages/roosterjs-editor-core/lib/corePlugins/EntityPlugin.ts":function(n,t,i){var u;Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),f=/_\d{1,8}$/,e=["^_Entity$","^_EId_","^_EType_","^_EReadonly_",],o=function(){function n(){var n=this;this.handleCutEvent=function(t){var i=n.editor.getSelectionRange();i&&!i.collapsed&&n.checkRemoveEntityForRange(t)};this.state={clickingPoint:null,knownEntityElements:[]}}return n.prototype.getName=function(){return"Entity"},n.prototype.initialize=function(n){this.editor=n},n.prototype.dispose=function(){this.editor=null;this.state.knownEntityElements=[];this.state.clickingPoint=null},n.prototype.getState=function(){return this.state},n.prototype.onPluginEvent=function(n){switch(n.eventType){case 5:this.handleMouseDownEvent(n.rawEvent);break;case 6:this.handleMouseUpEvent(n.rawEvent);break;case 0:this.handleKeyDownEvent(n.rawEvent);break;case 9:n.isCut&&this.handleCutEvent(n.rawEvent);break;case 10:this.handleBeforePasteEvent(n.fragment,n.sanitizingOption);break;case 7:this.handleContentChangedEvent(n.source=="SetContent");break;case 11:this.handleContentChangedEvent(!0);break;case 8:this.handleExtractContentWithDomEvent(n.clonedRoot);break;case 16:this.handleContextMenuEvent(n.rawEvent)}},n.prototype.handleContextMenuEvent=function(n){var t=n.target,i=t&&this.editor.getElementAtCursor(r.getEntitySelector(),t);i&&(n.preventDefault(),this.triggerEvent(i,2,n))},n.prototype.handleMouseDownEvent=function(n){var u=n.target,f=n.pageX,e=n.pageY,t=u,i=t&&this.editor.getElementAtCursor(r.getEntitySelector(),t);i&&!i.isContentEditable&&(n.preventDefault(),this.state.clickingPoint={pageX:f,pageY:e})},n.prototype.handleMouseUpEvent=function(n){var f=n.target,e=n.pageX,o=n.pageY,t=f,i;this.state.clickingPoint&&this.state.clickingPoint.pageX==e&&this.state.clickingPoint.pageY==o&&t&&!!(i=this.editor.getElementAtCursor(r.getEntitySelector(),t))&&(n.preventDefault(),this.triggerEvent(i,1,n),u(this.editor));this.state.clickingPoint=null},n.prototype.handleKeyDownEvent=function(n){if(r.isCharacterValue(n)||n.which==8||n.which==46){var t=this.editor.getSelectionRange();t.collapsed||this.checkRemoveEntityForRange(n)}},n.prototype.handleBeforePasteEvent=function(n,t){var i=this.editor.getSelectionRange();i.collapsed||this.checkRemoveEntityForRange(null);r.arrayPush(t.additionalAllowedCssClasses,e)},n.prototype.handleContentChangedEvent=function(n){var t=this,i;this.state.knownEntityElements=n?[]:this.state.knownEntityElements.filter(function(n){return t.editor.contains(n)});i=this.state.knownEntityElements.map(function(n){var t;if((t=r.getEntityFromElement(n))!==null&&t!==void 0)return t.id}).filter(function(n){return!!n});this.editor.queryElements(r.getEntitySelector(),function(n){if(t.state.knownEntityElements.indexOf(n)<0){t.state.knownEntityElements.push(n);var u=r.getEntityFromElement(n);t.hydrateEntity(u,i)}})},n.prototype.handleExtractContentWithDomEvent=function(n){var t=this;r.toArray(n.querySelectorAll(r.getEntitySelector())).forEach(function(n){n.removeAttribute("contentEditable");t.triggerEvent(n,8)})},n.prototype.checkRemoveEntityForRange=function(n){var i=this,t=[],u=r.getEntitySelector(),f;this.editor.queryElements(u,1,function(r){r.isContentEditable?t.push(r):i.triggerEvent(r,6,n)});t.length>0&&(f=this.editor.queryElements(u,2),t.forEach(function(t){var r=f.indexOf(t)>=0;i.triggerEvent(t,r?6:7,n)}))},n.prototype.hydrateEntity=function(n,t){for(var i=n.id,s=n.type,h=n.wrapper,l=n.isReadonly,u=f.exec(i),c=(u?i.substr(0,i.length-u[0].length):i)||s,e="",o=u&&parseInt(u[1])||0;;o++)if(e=o>0?c+"_"+o:c,t.indexOf(e)<0){t.push(e);break}r.commitEntity(h,s,l,e);this.triggerEvent(h,0)},n.prototype.triggerEvent=function(n,t,i){var u=n&&r.getEntityFromElement(n);u&&this.editor.triggerPluginEvent(15,{operation:t,rawEvent:i,entity:u})},n}();t.default=o;u=r.Browser.isIE?function(n){n.runAsync(function(n){var i=n.getCustomData("ENTITY_IE_FOCUS_BUTTON",function(){var t=n.getDocument().createElement("button");return t.style.overflow="hidden",t.style.position="fixed",t.style.width="0",t.style.height="0",t.style.left="0",t.style.top="-1000px",t.onblur=function(){t.style.display="none"},n.insertNode(t,{position:4}),t}),t;i.style.display="";t=n.getDocument().createRange();t.setStart(i,0);try{window.getSelection().removeAllRanges();window.getSelection().addRange(t)}catch(r){}})}:function(){}},"./packages/roosterjs-editor-core/lib/corePlugins/LifecyclePlugin.ts":function(n,t,i){var r,u;Object.defineProperty(t,"__esModule",{value:!0});var f=i("./packages/roosterjs-editor-dom/lib/index.ts"),e="contenteditable",o=f.Browser.isFirefox?(r={},r.enableObjectResizing=!1,r.enableInlineTableEditing=!1,r):f.Browser.isIE?(u={},u.defaultParagraphSeparator="div",u.AutoUrlDetect=!1,u):{},s={backgroundColors:{darkModeColor:"rgb(51,51,51)",lightModeColor:"rgb(255,255,255)"},textColors:{darkModeColor:"rgb(255,255,255)",lightModeColor:"rgb(0,0,0)"}},h=function(){function n(n,t){var i=this;this.initialContent=n.initialContent||t.innerHTML||"";this.contentDivFormat=f.getComputedStyles(t);t.getAttribute(e)===null&&(this.initializer=function(){t.contentEditable="true";i.setSelectStyle(t,"text")},this.disposer=function(){i.setSelectStyle(t,"");t.removeAttribute(e)});this.state={customData:{},defaultFormat:n.defaultFormat||null,isDarkMode:!!n.inDarkMode,onExternalContentTransform:n.onExternalContentTransform,experimentalFeatures:n.experimentalFeatures||[],shadowEditFragment:null,shadowEditSelectionPath:null}}return n.prototype.getName=function(){return"Lifecycle"},n.prototype.initialize=function(n){var t;this.editor=n;this.recalculateDefaultFormat();this.editor.setContent(this.initialContent,!1);(t=this.initializer)===null||t===void 0?void 0:t.call(this);this.adjustBrowserBehavior();this.editor.triggerPluginEvent(11,{},!0)},n.prototype.dispose=function(){var n=this;this.editor.triggerPluginEvent(12,{},!0);Object.keys(this.state.customData).forEach(function(t){var i=n.state.customData[t];i&&i.disposer&&i.disposer(i.value);delete n.state.customData[t]});this.disposer&&(this.disposer(),this.disposer=null,this.initializer=null);this.editor=null},n.prototype.getState=function(){return this.state},n.prototype.onPluginEvent=function(n){n.eventType==7&&(n.source=="SwitchToDarkMode"||n.source=="SwitchToLightMode")&&(this.state.isDarkMode=n.source=="SwitchToDarkMode",this.recalculateDefaultFormat())},n.prototype.adjustBrowserBehavior=function(){var n=this;Object.keys(o).forEach(function(t){try{n.editor.getDocument().execCommand(t,!1,o[t])}catch(i){}})},n.prototype.setSelectStyle=function(n,t){n.style.userSelect=t;n.style.msUserSelect=t;n.style.webkitUserSelect=t},n.prototype.recalculateDefaultFormat=function(){var e=this.state,t=e.defaultFormat,u=e.isDarkMode;if(u&&t&&(t.backgroundColors||(t.backgroundColors=s.backgroundColors),t.textColors||(t.textColors=s.textColors)),!t||Object.keys(t).length!==0){var n=t||{},o=n.fontFamily,h=n.fontSize,c=n.textColor,i=n.textColors,l=n.backgroundColor,r=n.backgroundColors,a=n.bold,v=n.italic,y=n.underline,f=this.contentDivFormat;this.state.defaultFormat={fontFamily:o||f[0],fontSize:h||f[1],get textColor(){return i?u?i.darkModeColor:i.lightModeColor:c||f[2]},textColors:i,get backgroundColor(){return r?u?r.darkModeColor:r.lightModeColor:l||""},backgroundColors:r,bold:a,italic:v,underline:y}}},n}();t.default=h},"./packages/roosterjs-editor-core/lib/corePlugins/MouseUpPlugin.ts":function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){var n=this;this.onMouseUp=function(t){n.editor&&(n.removeMouseUpEventListener(),n.editor.triggerPluginEvent(6,{rawEvent:t}))}}return n.prototype.getName=function(){return"MouseUp"},n.prototype.initialize=function(n){this.editor=n},n.prototype.dispose=function(){this.removeMouseUpEventListener();this.editor=null},n.prototype.onPluginEvent=function(n){n.eventType!=5||this.mouseUpEventListerAdded||(this.editor.getDocument().addEventListener("mouseup",this.onMouseUp,!0),this.mouseUpEventListerAdded=!0)},n.prototype.removeMouseUpEventListener=function(){this.mouseUpEventListerAdded&&(this.mouseUpEventListerAdded=!1,this.editor.getDocument().removeEventListener("mouseup",this.onMouseUp,!0))},n}();t.default=i},"./packages/roosterjs-editor-core/lib/corePlugins/PendingFormatStatePlugin.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u=function(){function n(){this.state={pendableFormatPosition:null,pendableFormatState:null}}return n.prototype.getName=function(){return"PendingFormatState"},n.prototype.initialize=function(n){this.editor=n},n.prototype.dispose=function(){this.editor=null;this.clear()},n.prototype.getState=function(){return this.state},n.prototype.onPluginEvent=function(n){switch(n.eventType){case 13:this.state.pendableFormatPosition=this.getCurrentPosition();this.state.pendableFormatState=n.formatState;break;case 0:case 5:case 7:this.state.pendableFormatPosition&&!this.state.pendableFormatPosition.equalTo(this.getCurrentPosition())&&this.clear()}},n.prototype.clear=function(){this.state.pendableFormatPosition=null;this.state.pendableFormatState=null},n.prototype.getCurrentPosition=function(){var n=this.editor.getSelectionRange();return n&&r.Position.getStart(n).normalize()},n}();t.default=u},"./packages/roosterjs-editor-core/lib/corePlugins/TypeAfterLinkPlugin.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u=function(){function n(){}return n.prototype.getName=function(){return"TypeAfterLink"},n.prototype.initialize=function(n){this.editor=n},n.prototype.dispose=function(){this.editor=null},n.prototype.onPluginEvent=function(n){var t;if((r.Browser.isFirefox&&n.eventType==1||n.eventType==10)&&(t=this.editor.getSelectionRange(),t&&t.collapsed&&this.editor.getElementAtCursor("A[href]"))){var i=this.editor.getContentSearcherOfCursor(n),u=i.getInlineElementBefore(),f=i.getInlineElementAfter();u instanceof r.LinkInlineElement?this.editor.select(u.getContainerNode(),-3):f instanceof r.LinkInlineElement&&this.editor.select(f.getContainerNode(),-2)}},n}();t.default=u},"./packages/roosterjs-editor-core/lib/corePlugins/TypeInContainerPlugin.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u=function(){function n(){}return n.prototype.getName=function(){return"TypeInContainer"},n.prototype.initialize=function(n){this.editor=n},n.prototype.dispose=function(){this.editor=null},n.prototype.onPluginEvent=function(n){if(n.eventType==1){var t=this.editor.getSelectionRange();if(!t||this.editor.contains(r.findClosestElementAncestor(t.startContainer)))return;t.collapsed?this.editor.ensureTypeInContainer(r.Position.getStart(t),n.rawEvent):this.editor.runAsync(function(t){t.ensureTypeInContainer(t.getFocusedPosition(),n.rawEvent)})}},n}();t.default=u},"./packages/roosterjs-editor-core/lib/corePlugins/UndoPlugin.ts":function(n,t,i){function e(){var n=r.createSnapshots(u);return{canMove:function(t){return r.canMoveCurrentSnapshot(n,t)},move:function(t){return r.moveCurrentSnapsnot(n,t)},addSnapshot:function(t,i){return r.addSnapshot(n,t,i)},clearRedo:function(){return r.clearProceedingSnapshots(n)},canUndoAutoComplete:function(){return r.canUndoAutoComplete(n)}}}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u=1e7,f=function(){function n(n){this.state={snapshotsService:n.undoSnapshotService||e(),isRestoring:!1,hasNewContent:!1,isNested:!1,autoCompletePosition:null}}return n.prototype.getName=function(){return"Undo"},n.prototype.initialize=function(n){this.editor=n},n.prototype.dispose=function(){this.editor=null},n.prototype.getState=function(){return this.state},n.prototype.willHandleEventExclusively=function(n){return n.eventType==0&&n.rawEvent.which==8&&this.canUndoAutoComplete()},n.prototype.onPluginEvent=function(n){if(this.editor&&!this.editor.isInIME())switch(n.eventType){case 11:var t=this.editor.getUndoState();t.canUndo||t.canRedo||this.addUndoSnapshot();break;case 0:this.onKeyDown(n.rawEvent);break;case 1:this.onKeyPress(n.rawEvent);break;case 4:this.clearRedoForInput();this.addUndoSnapshot();break;case 7:this.state.isRestoring||this.clearRedoForInput()}},n.prototype.onKeyDown=function(n){if(n.which==8||n.which==46)if(n.which==8&&this.canUndoAutoComplete())n.preventDefault(),this.editor.undo(),this.state.autoCompletePosition=null,this.lastKeyPress=n.which;else{var t=this.editor.getSelectionRange();t&&(!t.collapsed||this.lastKeyPress!=n.which||r.isCtrlOrMetaPressed(n))&&this.addUndoSnapshot();this.state.hasNewContent=!0;this.lastKeyPress=n.which}else n.which>=33&&n.which<=40&&(this.state.hasNewContent&&this.addUndoSnapshot(),this.lastKeyPress=0)},n.prototype.onKeyPress=function(n){if(!n.metaKey){var t=this.editor.getSelectionRange();t&&!t.collapsed||n.which==32&&this.lastKeyPress!=32||n.which==13?(this.addUndoSnapshot(),n.which==13&&(this.state.hasNewContent=!0)):this.clearRedoForInput();this.lastKeyPress=n.which}},n.prototype.clearRedoForInput=function(){this.state.snapshotsService.clearRedo();this.lastKeyPress=0;this.state.hasNewContent=!0},n.prototype.canUndoAutoComplete=function(){var n;return this.state.snapshotsService.canUndoAutoComplete()&&((n=this.state.autoCompletePosition)===null||n===void 0?void 0:n.equalTo(this.editor.getFocusedPosition()))},n.prototype.addUndoSnapshot=function(){this.editor.addUndoSnapshot();this.state.autoCompletePosition=null},n}();t.default=f},"./packages/roosterjs-editor-core/lib/corePlugins/createCorePlugins.ts":function(n,t,i){function v(n,t){var i=t.corePluginOverride||{};return{typeInContainer:i.typeInContainer||new l.default,edit:i.edit||new f.default,_placeholder:null,typeAfterLink:i.typeAfterLink||new c.default,undo:i.undo||new a.default(t),domEvent:i.domEvent||new u.default(t,n),pendingFormatState:i.pendingFormatState||new h.default,mouseUp:i.mouseUp||new s.default,copyPaste:i.copyPaste||new r.default(t),entity:i.entity||new e.default,lifecycle:i.lifecycle||new o.default(t,n)}}function y(n){return{domEvent:n.domEvent.getState(),pendingFormatState:n.pendingFormatState.getState(),edit:n.edit.getState(),lifecycle:n.lifecycle.getState(),undo:n.undo.getState(),entity:n.entity.getState(),copyPaste:n.copyPaste.getState()}}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-core/lib/corePlugins/CopyPastePlugin.ts"),u=i("./packages/roosterjs-editor-core/lib/corePlugins/DOMEventPlugin.ts"),f=i("./packages/roosterjs-editor-core/lib/corePlugins/EditPlugin.ts"),e=i("./packages/roosterjs-editor-core/lib/corePlugins/EntityPlugin.ts"),o=i("./packages/roosterjs-editor-core/lib/corePlugins/LifecyclePlugin.ts"),s=i("./packages/roosterjs-editor-core/lib/corePlugins/MouseUpPlugin.ts"),h=i("./packages/roosterjs-editor-core/lib/corePlugins/PendingFormatStatePlugin.ts"),c=i("./packages/roosterjs-editor-core/lib/corePlugins/TypeAfterLinkPlugin.ts"),l=i("./packages/roosterjs-editor-core/lib/corePlugins/TypeInContainerPlugin.ts"),a=i("./packages/roosterjs-editor-core/lib/corePlugins/UndoPlugin.ts");t.PLACEHOLDER_PLUGIN_NAME="_placeholder";t.default=v;t.getPluginState=y},"./packages/roosterjs-editor-core/lib/editor/Editor.ts":function(n,t,i){var u=this&&this.__assign||function(){return u=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},u.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var e=i("./packages/roosterjs-editor-core/lib/coreApi/coreApiMap.ts"),f=i("./packages/roosterjs-editor-core/lib/corePlugins/createCorePlugins.ts"),r=i("./packages/roosterjs-editor-dom/lib/index.ts"),o=function(){function n(n,t){var s=this,i,o;if(t===void 0&&(t={}),r.getTagOfNode(n)!="DIV")throw new Error("contentDiv must be an HTML DIV element");i=f.default(n,t);o=[];Object.keys(i).forEach(function(n){n==f.PLACEHOLDER_PLUGIN_NAME?r.arrayPush(o,t.plugins):o.push(i[n])});this.core=u({contentDiv:n,api:u(u({},e.coreApiMap),t.coreApiOverride||{}),plugins:o.filter(function(n){return!!n})},f.getPluginState(i));this.core.plugins.forEach(function(n){return n.initialize(s)});this.ensureTypeInContainer(new r.Position(this.core.contentDiv,0).normalize())}return n.prototype.dispose=function(){this.core.plugins.reverse().forEach(function(n){return n.dispose()});this.core=null},n.prototype.isDisposed=function(){return!this.core},n.prototype.insertNode=function(n,t){return n?this.core.api.insertNode(this.core,n,t):!1},n.prototype.deleteNode=function(n){return n&&this.contains(n)?(n.parentNode.removeChild(n),!0):!1},n.prototype.replaceNode=function(n,t,i){return this.contains(n)&&t?(this.core.api.transformColor(this.core,i?t:null,!0,function(){return n.parentNode.replaceChild(t,n)},0),!0):!1},n.prototype.getBlockElementAtNode=function(n){return r.getBlockElementAtNode(this.core.contentDiv,n)},n.prototype.contains=function(n){return r.contains(this.core.contentDiv,n)},n.prototype.queryElements=function(n,t,i){var u,f;return t===void 0&&(t=0),u=t instanceof Function?0:t,i=t instanceof Function?t:i,f=u==0?null:this.getSelectionRange(),r.queryElements(this.core.contentDiv,n,i,u,f)},n.prototype.collapseNodes=function(n,t,i){return r.collapseNodes(this.core.contentDiv,n,t,i)},n.prototype.isEmpty=function(n){return r.isNodeEmpty(this.core.contentDiv,n)},n.prototype.getContent=function(n){return n===void 0&&(n=0),this.core.api.getContent(this.core,n)},n.prototype.setContent=function(n,t){t===void 0&&(t=!0);this.core.api.setContent(this.core,n,t)},n.prototype.insertContent=function(n,t){var u,i,f;n&&(u=this.getDocument(),i=r.fromHtml(n,u),t&&t.insertOnNewLine&&i.length>1&&(i=[r.wrap(i)]),f=u.createDocumentFragment(),i.forEach(function(n){return f.appendChild(n)}),this.insertNode(f,t))},n.prototype.deleteSelectedContent=function(){var n=this.getSelectionRange();return n&&!n.collapsed&&r.deleteSelectedContent(this.core.contentDiv,n)},n.prototype.paste=function(n,t,i){var f=this;if(n){n.snapshotBeforePaste?this.setContent(n.snapshotBeforePaste):n.snapshotBeforePaste=this.getContent(2);var u=this.getSelectionRange(),e=u&&r.Position.getStart(u),o=this.core.api.createPasteFragment(this.core,n,e,t,i);this.addUndoSnapshot(function(){return f.insertNode(o),n},"Paste")}},n.prototype.getSelectionRange=function(n){return n===void 0&&(n=!0),this.core.api.getSelectionRange(this.core,n)},n.prototype.getSelectionPath=function(){var n=this.getSelectionRange();return n&&r.getSelectionPath(this.core.contentDiv,n)},n.prototype.hasFocus=function(){return this.core.api.hasFocus(this.core)},n.prototype.focus=function(){this.core.api.focus(this.core)},n.prototype.select=function(n,t,i,u){var f=n?r.safeInstanceOf(n,"Range")?n:Array.isArray(n.start)&&Array.isArray(n.end)?r.createRange(this.core.contentDiv,n.start,n.end):r.createRange(n,t,i,u):null;return this.contains(f)&&this.core.api.selectRange(this.core,f)},n.prototype.getFocusedPosition=function(){var t,n=(t=this.getDocument().defaultView)===null||t===void 0?void 0:t.getSelection(),i;return this.contains(n&&n.focusNode)?new r.Position(n.focusNode,n.focusOffset):(i=this.getSelectionRange(),i)?r.Position.getStart(i):null},n.prototype.getElementAtCursor=function(n,t,i){var u=this;return i=t?null:i,r.cacheGetEventData(i,"GET_ELEMENT_AT_CURSOR_"+n,function(){if(!t){var i=u.getFocusedPosition();t=i&&i.node}return t&&r.findClosestElementAncestor(t,u.core.contentDiv,n)})},n.prototype.isPositionAtBeginning=function(n){return r.isPositionAtBeginningOf(n,this.core.contentDiv)},n.prototype.getSelectedRegions=function(n){n===void 0&&(n=0);var t=this.getSelectionRange();return t?r.getRegionsFromRange(this.core.contentDiv,t,n):[]},n.prototype.addDomEventHandler=function(n,t){var i,r=typeof n=="string"?(i={},i[n]=t,i):n;return this.core.api.attachDomEvent(this.core,r)},n.prototype.triggerPluginEvent=function(n,t,i){var r=u({eventType:n},t);return this.core.api.triggerEvent(this.core,r,i),r},n.prototype.triggerContentChangedEvent=function(n,t){n===void 0&&(n="SetContent");this.triggerPluginEvent(7,{source:n,data:t})},n.prototype.undo=function(){this.focus();this.core.api.restoreUndoSnapshot(this.core,-1)},n.prototype.redo=function(){this.focus();this.core.api.restoreUndoSnapshot(this.core,1)},n.prototype.addUndoSnapshot=function(n,t,i){this.core.api.addUndoSnapshot(this.core,n,t,i)},n.prototype.getUndoState=function(){var n=this.core.undo,i=n.hasNewContent,t=n.snapshotsService;return{canUndo:i||t.canMove(-1),canRedo:t.canMove(1)}},n.prototype.getDocument=function(){return this.core.contentDiv.ownerDocument},n.prototype.getScrollContainer=function(){return this.core.domEvent.scrollContainer},n.prototype.getCustomData=function(n,t,i){return(this.core.lifecycle.customData[n]=this.core.lifecycle.customData[n]||{value:t?t():undefined,disposer:i}).value},n.prototype.isInIME=function(){return this.core.domEvent.isInIME},n.prototype.getDefaultFormat=function(){return this.core.lifecycle.defaultFormat},n.prototype.getBodyTraverser=function(n){return r.ContentTraverser.createBodyTraverser(this.core.contentDiv,n)},n.prototype.getSelectionTraverser=function(){var n=this.getSelectionRange();return n&&r.ContentTraverser.createSelectionTraverser(this.core.contentDiv,this.getSelectionRange())},n.prototype.getBlockTraverser=function(n){n===void 0&&(n=3);var t=this.getSelectionRange();return t&&r.ContentTraverser.createBlockTraverser(this.core.contentDiv,t,n)},n.prototype.getContentSearcherOfCursor=function(n){var t=this;return r.cacheGetEventData(n,"CONTENTSEARCHER",function(){var n=t.getSelectionRange();return n&&new r.PositionContentSearcher(t.core.contentDiv,r.Position.getStart(n))})},n.prototype.runAsync=function(n){var t=this,i=this.core.contentDiv.ownerDocument.defaultView||window;i.requestAnimationFrame(function(){!t.isDisposed()&&n&&n(t)})},n.prototype.setEditorDomAttribute=function(n,t){t===null?this.core.contentDiv.removeAttribute(n):this.core.contentDiv.setAttribute(n,t)},n.prototype.getEditorDomAttribute=function(n){return this.core.contentDiv.getAttribute(n)},n.prototype.addContentEditFeature=function(n){var t=this;n===null||n===void 0?void 0:n.keys.forEach(function(i){var r=t.core.edit.features[i]||[];r.push(n);t.core.edit.features[i]=r})},n.prototype.getStyleBasedFormatState=function(n){if(!n){var t=this.getSelectionRange();n=t&&r.Position.getStart(t).normalize().node}return this.core.api.getStyleBasedFormatState(this.core,n)},n.prototype.ensureTypeInContainer=function(n,t){this.core.api.ensureTypeInContainer(this.core,n,t)},n.prototype.setDarkModeState=function(n){if(this.isDarkMode()!=n){var t=this.getContent(0);this.triggerContentChangedEvent(n?"SwitchToDarkMode":"SwitchToLightMode");this.setContent(t)}},n.prototype.isDarkMode=function(){return this.core.lifecycle.isDarkMode},n.prototype.startShadowEdit=function(){this.core.api.switchShadowEdit(this.core,!0)},n.prototype.stopShadowEdit=function(){this.core.api.switchShadowEdit(this.core,!1)},n.prototype.isInShadowEdit=function(){return!!this.core.lifecycle.shadowEditFragment},n.prototype.isFeatureEnabled=function(n){return this.core.lifecycle.experimentalFeatures.indexOf(n)>=0},n}();t.default=o},"./packages/roosterjs-editor-core/lib/index.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-core/lib/editor/Editor.ts");t.Editor=r.default},"./packages/roosterjs-editor-dom/lib/blockElements/NodeBlockElement.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/contains.ts"),u=i("./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts"),f=function(){function n(n){this.element=n}return n.prototype.collapseToSingleElement=function(){return this.element},n.prototype.getStartNode=function(){return this.element},n.prototype.getEndNode=function(){return this.element},n.prototype.equals=function(n){return this.element==n.getStartNode()},n.prototype.isAfter=function(n){return u.default(this.element,n.getEndNode())},n.prototype.contains=function(n){return r.default(this.element,n,!0)},n.prototype.getTextContent=function(){return this.element?this.element.textContent:""},n}();t.default=f},"./packages/roosterjs-editor-dom/lib/blockElements/StartEndBlockElement.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var e=i("./packages/roosterjs-editor-dom/lib/utils/collapseNodes.ts"),u=i("./packages/roosterjs-editor-dom/lib/utils/contains.ts"),o=i("./packages/roosterjs-editor-dom/lib/selection/createRange.ts"),s=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/isBlockElement.ts"),r=i("./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts"),h=i("./packages/roosterjs-editor-dom/lib/utils/wrap.ts"),c=i("./packages/roosterjs-editor-dom/lib/utils/splitParentNode.ts"),l=["TD","TH","LI","BLOCKQUOTE"],a=function(){function n(n,t,i){this.rootNode=n;this.startNode=t;this.endNode=i}return n.getBlockContext=function(n){while(n&&!f.default(n))n=n.parentNode;return n},n.prototype.collapseToSingleElement=function(){for(var t=e.default(n.getBlockContext(this.startNode),this.startNode,this.endNode,!0),i=n.getBlockContext(this.startNode);t[0]&&t[0]!=i&&t[0].parentNode!=this.rootNode&&l.indexOf(s.default(t[0].parentNode))<0;)t=[c.splitBalancedNodeRange(t)];return t.length==1&&f.default(t[0])?t[0]:h.default(t)},n.prototype.getStartNode=function(){return this.startNode},n.prototype.getEndNode=function(){return this.endNode},n.prototype.equals=function(n){return this.startNode==n.getStartNode()&&this.endNode==n.getEndNode()},n.prototype.isAfter=function(n){return r.default(this.getStartNode(),n.getEndNode())},n.prototype.contains=function(n){return u.default(this.startNode,n,!0)||u.default(this.endNode,n,!0)||r.default(n,this.startNode)&&r.default(this.endNode,n)},n.prototype.getTextContent=function(){var n=o.default(this.getStartNode(),this.getEndNode());return n?n.toString():""},n}();t.default=a},"./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts":function(n,t,i){function c(n,t){var c,l;if(!h.default(n,t))return null;if(c=r.default.getBlockContext(t),c==t)return new e.default(c);var i=o(t,c,!1),u=o(t,c,!0),a=s.default(n,i,u,!1);if(i=a[0],u=a[a.length-1],i.parentNode!=u.parentNode)return new r.default(n,i,u);while(!i.previousSibling&&!u.nextSibling)if(l=i.parentNode,l==c){c!=n&&(i=u=l);break}else if(l!=n)i=u=l;else break;return i==u&&f.default(i)?new e.default(i):new r.default(n,i,u)}function o(n,t,i){var r=n,e;if(u.default(r)=="BR"&&i)return r;while(r){for(e=n;!(e=i?n.nextSibling:n.previousSibling);)if(n=n.parentNode,n==t)return r;while(e){if(f.default(e))return r;if(u.default(e)=="BR")return i?e:r;n=e;e=i?n.firstChild:n.lastChild}r=n}return r}Object.defineProperty(t,"__esModule",{value:!0});var s=i("./packages/roosterjs-editor-dom/lib/utils/collapseNodes.ts"),h=i("./packages/roosterjs-editor-dom/lib/utils/contains.ts"),u=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/isBlockElement.ts"),e=i("./packages/roosterjs-editor-dom/lib/blockElements/NodeBlockElement.ts"),r=i("./packages/roosterjs-editor-dom/lib/blockElements/StartEndBlockElement.ts");t.default=c},"./packages/roosterjs-editor-dom/lib/blockElements/getFirstLastBlockElement.ts":function(n,t,i){function u(n,t){var i=n;do i=i&&(t?i.firstChild:i.lastChild);while(i&&i.firstChild);return i&&r.default(n,i)}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts");t.default=u},"./packages/roosterjs-editor-dom/lib/contentTraverser/BodyScoper.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/contains.ts"),u=i("./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts"),f=i("./packages/roosterjs-editor-dom/lib/blockElements/getFirstLastBlockElement.ts"),e=i("./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts"),o=i("./packages/roosterjs-editor-dom/lib/inlineElements/getFirstLastInlineElement.ts"),s=function(){function n(n,t){this.rootNode=n;this.startNode=r.default(n,t)?t:null}return n.prototype.getStartBlockElement=function(){return this.startNode?u.default(this.rootNode,this.startNode):f.default(this.rootNode,!0)},n.prototype.getStartInlineElement=function(){return this.startNode?e.default(this.rootNode,this.startNode):o.getFirstInlineElement(this.rootNode)},n.prototype.isBlockInScope=function(n){return r.default(this.rootNode,n.getStartNode())},n.prototype.trimInlineElement=function(n){return n},n}();t.default=s},"./packages/roosterjs-editor-dom/lib/contentTraverser/ContentTraverser.ts":function(n,t,i){function v(n,t,i){var f,r;return t?t instanceof s.default&&(f=i?t.nextInlineElement:t.previousInlineElement,f)?f:(r=t.getContainerNode(),r=u.getLeafSibling(n,r,i),o.default(n,r)):null}Object.defineProperty(t,"__esModule",{value:!0});var f=i("./packages/roosterjs-editor-dom/lib/contentTraverser/BodyScoper.ts"),r=i("./packages/roosterjs-editor-dom/lib/inlineElements/EmptyInlineElement.ts"),e=i("./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts"),o=i("./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts"),s=i("./packages/roosterjs-editor-dom/lib/inlineElements/PartialInlineElement.ts"),h=i("./packages/roosterjs-editor-dom/lib/contentTraverser/SelectionBlockScoper.ts"),c=i("./packages/roosterjs-editor-dom/lib/contentTraverser/SelectionScoper.ts"),l=i("./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementBeforeAfter.ts"),u=i("./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts"),a=function(){function n(n,t){this.scoper=n;this.skipTags=t}return n.createBodyTraverser=function(t,i){return new n(new f.default(t,i))},n.createSelectionTraverser=function(t,i,r){return new n(new c.default(t,i),r)},n.createBlockTraverser=function(t,i,r){return r===void 0&&(r=3),new n(new h.default(t,i,r))},Object.defineProperty(n.prototype,"currentBlockElement",{get:function(){return this.currentBlock||(this.currentBlock=this.scoper.getStartBlockElement()),this.currentBlock},enumerable:!0,configurable:!0}),n.prototype.getNextBlockElement=function(){return this.getPreviousNextBlockElement(!0)},n.prototype.getPreviousBlockElement=function(){return this.getPreviousNextBlockElement(!1)},n.prototype.getPreviousNextBlockElement=function(n){var i=this.currentBlockElement,r,t;return i?(r=u.getLeafSibling(this.scoper.rootNode,n?i.getEndNode():i.getStartNode(),n,this.skipTags),t=r?e.default(this.scoper.rootNode,r):null,t&&this.scoper.isBlockInScope(t)&&(n&&t.isAfter(i)||!n&&i.isAfter(t)))?(this.currentBlock=t,this.currentBlock):null:null},Object.defineProperty(n.prototype,"currentInlineElement",{get:function(){return this.currentInline||(this.currentInline=this.scoper.getStartInlineElement()),this.currentInline instanceof r.default?null:this.currentInline},enumerable:!0,configurable:!0}),n.prototype.getNextInlineElement=function(){return this.getPreviousNextInlineElement(!0)},n.prototype.getPreviousInlineElement=function(){return this.getPreviousNextInlineElement(!1)},n.prototype.getPreviousNextInlineElement=function(n){var i=this.currentInlineElement||this.currentInline,t;return i?(i instanceof r.default?(t=l.getInlineElementBeforeAfter(this.scoper.rootNode,i.getStartPosition(),n),t&&!i.getParentBlock().contains(t.getContainerNode())&&(t=null)):(t=v(this.scoper.rootNode,i,n),t=t&&i&&(n&&t.isAfter(i)||!n&&i.isAfter(t))?t:null),t&&(t=this.scoper.trimInlineElement(t)))?(this.currentInline=t,this.currentInline):null:null},n}();t.default=a},"./packages/roosterjs-editor-dom/lib/contentTraverser/PositionContentSearcher.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/contentTraverser/ContentTraverser.ts"),u=i("./packages/roosterjs-editor-dom/lib/selection/createRange.ts"),f=/[\s\u00A0\u200B\u3000]+([^\s\u00A0\u200B\u3000]*)$/i,e=function(){function n(n,t){this.rootNode=n;this.position=t;this.text="";this.inlineElements=[]}return n.prototype.getWordBefore=function(){var n=this;return this.word||this.traverse(function(){return n.word}),this.word},n.prototype.getInlineElementBefore=function(){return this.inlineBefore||this.traverse(null),this.inlineBefore},n.prototype.getInlineElementAfter=function(){return this.inlineAfter||(this.inlineAfter=r.default.createBlockTraverser(this.rootNode,this.position).currentInlineElement),this.inlineAfter},n.prototype.getSubStringBefore=function(n){var t=this;return this.text.length<n&&this.traverse(function(){return t.text.length>=n}),this.text.substr(Math.max(0,this.text.length-n))},n.prototype.getRangeFromText=function(n,t){if(!n)return null;var f,i,r=n.length-1;return this.forEachTextInlineElement(function(u){for(var o=u.getTextContent()||"",e=o.length-1;e>=0&&r>=0;e--)if(n.charCodeAt(r)==o.charCodeAt(e))r--,i||(i=u.getStartPosition().move(e+1));else if(t||i)return!0;return r==-1?(f=u.getStartPosition().move(e+1),!0):!1}),f&&i&&u.default(f,i)},n.prototype.forEachTextInlineElement=function(n){this.inlineElements.some(n)||this.traverse(n)},n.prototype.getNearestNonTextInlineElement=function(){var n=this;return this.nearestNonTextInlineElement||this.traverse(function(){return n.nearestNonTextInlineElement}),this.nearestNonTextInlineElement},n.prototype.traverse=function(n){var t,u,i;if(this.traverser=this.traverser||r.default.createBlockTraverser(this.rootNode,this.position),this.traverser&&!this.traversingComplete)for(t=this.traverser.getPreviousInlineElement();!this.traversingComplete;){if(this.inlineBefore=this.inlineBefore||t,t&&t.isTextualInlineElement()){if(u=t.getTextContent(),this.word||(i=f.exec(u),i&&i.length==2&&(this.word=i[1]+this.text)),this.text=u+this.text,this.inlineElements.push(t),n&&n(t))break}else{this.nearestNonTextInlineElement=t;this.traversingComplete=!0;this.word||(this.word=this.text);break}t=this.traverser.getPreviousInlineElement()}},n}();t.default=e},"./packages/roosterjs-editor-dom/lib/contentTraverser/SelectionBlockScoper.ts":function(n,t,i){function a(n,t){if(n instanceof o.default){var i=n.getStartNode();return t?r.getFirstInlineElement(i):r.getLastInlineElement(i)}return e.default(n,t?n.getStartNode():n.getEndNode())}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/inlineElements/EmptyInlineElement.ts"),f=i("./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts"),e=i("./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts"),o=i("./packages/roosterjs-editor-dom/lib/blockElements/NodeBlockElement.ts"),s=i("./packages/roosterjs-editor-dom/lib/selection/Position.ts"),h=i("./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),c=i("./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementBeforeAfter.ts"),r=i("./packages/roosterjs-editor-dom/lib/inlineElements/getFirstLastInlineElement.ts"),l=function(){function n(n,t,i){this.rootNode=n;this.startFrom=i;t=h.default(t,"Range")?s.default.getStart(t):t;this.position=t.normalize();this.block=f.default(this.rootNode,this.position.node)}return n.prototype.getStartBlockElement=function(){return this.block},n.prototype.getStartInlineElement=function(){if(this.block)switch(this.startFrom){case 0:case 1:case 2:return a(this.block,this.startFrom==0);case 3:var n=c.getInlineElementAfter(this.rootNode,this.position);return n&&this.block.contains(n.getContainerNode())?n:new u.default(this.position,this.block)}return null},n.prototype.isBlockInScope=function(n){return this.block&&n?this.block.equals(n):!1},n.prototype.trimInlineElement=function(n){return this.block&&n&&this.block.contains(n.getContainerNode())?n:null},n}();t.default=l},"./packages/roosterjs-editor-dom/lib/contentTraverser/SelectionScoper.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts"),f=i("./packages/roosterjs-editor-dom/lib/inlineElements/PartialInlineElement.ts"),u=i("./packages/roosterjs-editor-dom/lib/selection/Position.ts"),e=i("./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementBeforeAfter.ts"),o=function(){function n(n,t){this.rootNode=n;this.start=u.default.getStart(t).normalize();this.end=u.default.getEnd(t).normalize()}return n.prototype.getStartBlockElement=function(){return this.startBlock||(this.startBlock=r.default(this.rootNode,this.start.node)),this.startBlock},n.prototype.getStartInlineElement=function(){return this.startInline||(this.startInline=this.trimInlineElement(e.getInlineElementAfter(this.rootNode,this.start))),this.startInline},n.prototype.isBlockInScope=function(n){var i,t,u;return n?(i=!1,t=this.getStartBlockElement(),this.start.equalTo(this.end)?i=t&&t.equals(n):(u=r.default(this.rootNode,this.end.node),i=t&&u&&(n.equals(t)||n.equals(u)||n.isAfter(t)&&u.isAfter(n))),i):!1},n.prototype.trimInlineElement=function(n){var t,i,r,u;return!n||this.start.equalTo(this.end)?null:(t=n.getStartPosition(),i=n.getEndPosition(),t.isAfter(this.end)||this.start.isAfter(i))?null:(r=!1,u=!1,this.start.isAfter(t)&&(t=this.start,r=!0),i.isAfter(this.end)&&(i=this.end,u=!0),t.isAfter(i)||t.equalTo(i)?null:r||u?new f.default(n,r&&t,u&&i):n)},n}();t.default=o},"./packages/roosterjs-editor-dom/lib/entity/commitEntity.ts":function(n,t){function r(n,t,r,u){n&&(n.className="_Entity _EType_"+t+" "+(u?"_EId_"+u+" ":"")+"_EReadonly_"+(r?"1":"0"),r?n.contentEditable="false":n.getAttribute(i)&&n.removeAttribute(i))}Object.defineProperty(t,"__esModule",{value:!0});var i="contenteditable";t.default=r},"./packages/roosterjs-editor-dom/lib/entity/getEntityFromElement.ts":function(n,t){function i(n){var t,i=!1,r,u="",f=!1;return(t=n===null||n===void 0?void 0:n.className)===null||t===void 0?void 0:t.split(" ").forEach(function(n){n=="_Entity"?i=!0:n.indexOf("_EType_")==0?r=n.substr(7):n.indexOf("_EId_")==0?u=n.substr(5):n.indexOf("_EReadonly_")==0&&(f=n.substr(11)=="1")}),i?{wrapper:n,id:u,type:r,isReadonly:f}:null}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/entity/getEntitySelector.ts":function(n,t){function i(n,t){var i=n?"._EType_"+n:"",r=t?"._EId_"+t:"";return"._Entity"+i+r}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/event/cacheGetEventData.ts":function(n,t){function i(n,t,i){var r=n&&n.eventDataCache&&n.eventDataCache.hasOwnProperty(t)?n.eventDataCache[t]:i();return n&&(n.eventDataCache=n.eventDataCache||{},n.eventDataCache[t]=r),r}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/event/clearEventDataCache.ts":function(n,t){function i(n,t){n&&n.eventDataCache&&(t&&n.eventDataCache.hasOwnProperty(t)?delete n.eventDataCache[t]:t||(n.eventDataCache={}))}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/event/isCharacterValue.ts":function(n,t,i){function u(n){return!r.default(n)&&n.key&&n.key.length==1}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/event/isModifierKey.ts");t.default=u},"./packages/roosterjs-editor-dom/lib/event/isCtrlOrMetaPressed.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/Browser.ts"),u=r.Browser.isMac?function(n){return n.metaKey}:function(n){return n.ctrlKey};t.default=u},"./packages/roosterjs-editor-dom/lib/event/isModifierKey.ts":function(n,t){function f(n){var t=n.ctrlKey||n.key===i,f=n.altKey||n.key===r,e=n.metaKey||n.key===u;return t||f||e}Object.defineProperty(t,"__esModule",{value:!0});var i="Control",r="Alt",u="Meta";t.default=f},"./packages/roosterjs-editor-dom/lib/htmlSanitizer/HtmlSanitizer.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=i("./packages/roosterjs-editor-dom/lib/utils/changeElementTag.ts"),f=i("./packages/roosterjs-editor-dom/lib/htmlSanitizer/getInheritableStyles.ts"),s=i("./packages/roosterjs-editor-dom/lib/htmlSanitizer/getPredefinedCssForElement.ts"),h=i("./packages/roosterjs-editor-dom/lib/style/getStyles.ts"),c=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),l=i("./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),a=i("./packages/roosterjs-editor-dom/lib/style/setStyles.ts"),e=i("./packages/roosterjs-editor-dom/lib/utils/toArray.ts"),u=i("./packages/roosterjs-editor-dom/lib/htmlSanitizer/cloneObject.ts"),r=i("./packages/roosterjs-editor-dom/lib/htmlSanitizer/getAllowedValues.ts"),v=function(){function n(n){n=n||{};this.elementCallbacks=u.cloneObject(n.elementCallbacks);this.styleCallbacks=r.getStyleCallbacks(n.cssStyleCallbacks);this.attributeCallbacks=u.cloneObject(n.attributeCallbacks);this.tagReplacements=r.getTagReplacement(n.additionalTagReplacements);this.allowedAttributes=r.getAllowedAttributes(n.additionalAllowedAttributes);this.allowedCssClassesRegex=r.getAllowedCssClassesRegex(n.additionalAllowedCssClasses);this.defaultStyleValues=r.getDefaultStyleValues(n.additionalDefaultStyleValues);this.additionalPredefinedCssForElement=n.additionalPredefinedCssForElement;this.additionalGlobalStyleNodes=n.additionalGlobalStyleNodes||[];this.unknownTagReplacement=n.unknownTagReplacement}return n.convertInlineCss=function(t,i){var r=new n({additionalGlobalStyleNodes:i});return r.exec(t,!0)},n.sanitizeHtml=function(t,i){i=i||{};var r=new n(i),u=l.default(i.currentElementOrStyle,"HTMLElement")?f.default(i.currentElementOrStyle):i.currentElementOrStyle;return r.exec(t,i.convertCssOnly,u)},n.prototype.exec=function(n,t,i){var u=new DOMParser,r=u.parseFromString(n||"","text/html");return r&&r.body&&r.body.firstChild&&(this.convertGlobalCssToInlineCss(r),t||this.sanitize(r.body,i)),r&&r.body&&r.body.innerHTML||""},n.prototype.sanitize=function(n,t){if(!n)return"";t=u.cloneObject(t,f.default(null));this.processNode(n,t,{})},n.prototype.convertGlobalCssToInlineCss=function(n){for(var r,o,t,u=e.default(n.querySelectorAll("style")),s=this.additionalGlobalStyleNodes.reverse().map(function(n){return n.sheet}).concat(u.map(function(n){return n.sheet}).reverse()).filter(function(n){return n}),i=0,f=s;i<f.length;i++)for(r=f[i],o=function(t){var i=r.cssRules[t],s=i&&i.style?i.style.cssText:null,f,o,u,h;if(i.type!=CSSRule.STYLE_RULE||!s||!i.selectorText)return"continue";for(f=0,o=i.selectorText.split(",");f<o.length;f++)(u=o[f],!u||!u.trim()||u.indexOf(":")>=0)||(h=e.default(n.querySelectorAll(u)),h.forEach(function(n){return n.setAttribute("style",s+(n.getAttribute("style")||""))}))},t=r.cssRules.length-1;t>=0;t--)o(t);u.forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)})},n.prototype.processNode=function(n,t,i){var v=n.nodeType,y=v==1,w=v==3,b=v==11,r=!1,l,a,e,s,p;if(y){var h=c.default(n),k=this.elementCallbacks[h],f=this.tagReplacements[h.toLowerCase()];f===undefined&&(f=this.unknownTagReplacement);k?r=k(n,i):h.indexOf(":")>0?r=!0:h==f||f=="*"?r=!0:f&&/^[a-zA-Z][\w\-]*$/.test(f)&&(n=o.default(n,f),r=!0)}else w?(l=t["white-space"],r=l=="pre"||l=="pre-line"||l=="pre-wrap"||!/^[\r\n]*$/g.test(n.nodeValue)):r=b?!0:!1;if(r){if(w&&(t["white-space"]=="pre"||t["white-space"]=="pre-wrap"))n.nodeValue=n.nodeValue.replace(/^ /gm," ").replace(/ {2}/g,"  ");else if(y||b)for(a=u.cloneObject(t),e=n,y&&(this.processAttributes(e,i),this.preprocessCss(e,a),this.processCss(e,a,i)),s=e.firstChild,p=void 0;s;s=p)p=s.nextSibling,this.processNode(s,a,i)}else n.parentNode.removeChild(n)},n.prototype.preprocessCss=function(n,t){var i=s.default(n,this.additionalPredefinedCssForElement);i&&Object.keys(i).forEach(function(n){t[n]=i[n]})},n.prototype.processCss=function(n,t,i){var u=this,r=h.default(n);Object.keys(r).forEach(function(f){var e=r[f],s=u.styleCallbacks[f],o=t[f]!=undefined,h=(!s||s(e,n,t,i))&&e!="inherit"&&e.indexOf("expression")<0&&f.substr(0,1)!="-"&&u.defaultStyleValues[f]!=e&&(o&&e!=t[f]||!o&&e!="initial"&&e!="normal");h&&o&&(t[f]=e);h||delete r[f]});a.default(n,r)},n.prototype.processAttributes=function(n,t){for(var u=n.attributes.length-1;u>=0;u--){var f=n.attributes[u],r=f.name.toLowerCase().trim(),e=f.value,o=this.attributeCallbacks[r],i=o?o(e,n,t):this.allowedAttributes.indexOf(r)>=0||r.indexOf("data-")==0?e:null;r=="class"&&this.allowedCssClassesRegex&&(i=this.processCssClass(e,i));i===null||i===undefined||i.match(/s\n*c\n*r\n*i\n*p\n*t\n*:/i)?n.removeAttribute(r):f.value=i}},n.prototype.processCssClass=function(n,t){var r=this,u=n?n.split(" "):[],i=t?t.split(" "):[];return u.forEach(function(n){r.allowedCssClassesRegex.test(n)&&i.indexOf(n)<0&&i.push(n)}),i.length>0?i.join(" "):null},n}();t.default=v},"./packages/roosterjs-editor-dom/lib/htmlSanitizer/chainSanitizerCallback.ts":function(n,t){function i(n,t,i){if(n[t]){var r=n[t];n[t]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.apply(void 0,t),i.apply(void 0,t)}}else n[t]=i}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/htmlSanitizer/cloneObject.ts":function(n,t){function i(n,t){return Object.assign(t||{},n)}function r(n,t){var f=t||{},i,r,u;if(n)for(i=0,r=Object.keys(n);i<r.length;i++)u=r[i],f[u]=n[u];return f}Object.defineProperty(t,"__esModule",{value:!0});t.cloneObject=Object.assign?i:r},"./packages/roosterjs-editor-dom/lib/htmlSanitizer/createDefaultHtmlSanitizerOptions.ts":function(n,t){function i(){return{elementCallbacks:{},attributeCallbacks:{},cssStyleCallbacks:{},additionalTagReplacements:{},additionalAllowedAttributes:[],additionalAllowedCssClasses:[],additionalDefaultStyleValues:{},additionalGlobalStyleNodes:[],additionalPredefinedCssForElement:{},unknownTagReplacement:null}}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/htmlSanitizer/getAllowedValues.ts":function(n,t,i){function h(n){var t=r({},f),i=n||{};return Object.keys(i).forEach(function(n){n&&(t[n.toLowerCase()]=i[n])}),t}function c(n){return w(e.concat(n||[])).map(function(n){return n.toLocaleLowerCase()})}function l(n){var t=s.concat(n||[]);return t.length>0?new RegExp(t.join("|")):null}function a(n){var t=u.cloneObject(o);return n&&Object.keys(n).forEach(function(i){var r=n[i];r!==null&&r!==undefined?t[i]=r:delete t[i]}),t}function v(n){var t=u.cloneObject(n);return t.position=t.position||y,t.width=t.width||p,t}function y(){return null}function p(n,t){var i=t.tagName;return!(i=="LI"||i=="DIV")}function w(n){return n.filter(function(n,t,i){return i.indexOf(n)==t})}var r=this&&this.__assign||function(){return r=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/htmlSanitizer/cloneObject.ts"),f={a:"*",abbr:"*",address:"*",area:"*",article:"*",aside:"*",b:"*",bdi:"*",bdo:"*",blockquote:"*",body:"*",br:"*",button:"*",canvas:"*",caption:"*",center:"*",cite:"*",code:"*",col:"*",colgroup:"*",data:"*",datalist:"*",dd:"*",del:"*",details:"*",dfn:"*",dialog:"*",dir:"*",div:"*",dl:"*",dt:"*",em:"*",fieldset:"*",figcaption:"*",figure:"*",font:"*",footer:"*",h1:"*",h2:"*",h3:"*",h4:"*",h5:"*",h6:"*",head:"*",header:"*",hgroup:"*",hr:"*",html:"*",i:"*",img:"*",input:"*",ins:"*",kbd:"*",label:"*",legend:"*",li:"*",main:"*",map:"*",mark:"*",menu:"*",menuitem:"*",meter:"*",nav:"*",ol:"*",optgroup:"*",option:"*",output:"*",p:"*",picture:"*",pre:"*",progress:"*",q:"*",rp:"*",rt:"*",ruby:"*",s:"*",samp:"*",section:"*",select:"*",small:"*",span:"*",strike:"*",strong:"*",sub:"*",summary:"*",sup:"*",table:"*",tbody:"*",td:"*",template:"*",textarea:"*",tfoot:"*",th:"*",thead:"*",time:"*",tr:"*",tt:"*",u:"*",ul:"*","var":"*",wbr:"*",xmp:"*",form:"SPAN",applet:null,audio:null,base:null,basefont:null,embed:null,frame:null,frameset:null,iframe:null,link:null,meta:null,noscript:null,object:null,param:null,script:null,slot:null,source:null,style:null,title:null,track:null,video:null},e="accept,align,alt,checked,cite,color,cols,colspan,contextmenu,coords,datetime,default,dir,dirname,disabled,download,face,headers,height,hidden,high,href,hreflang,ismap,kind,label,lang,list,low,max,maxlength,media,min,multiple,open,optimum,pattern,placeholder,readonly,rel,required,reversed,rows,rowspan,scope,selected,shape,size,sizes,span,spellcheck,src,srclang,srcset,start,step,style,tabindex,target,title,translate,type,usemap,valign,value,width,wrap".split(","),o={"background-color":"transparent","border-bottom-color":"rgb(0, 0, 0)","border-bottom-style":"none","border-bottom-width":"0px","border-image-outset":"0","border-image-repeat":"stretch","border-image-slice":"100%","border-image-source":"none","border-image-width":"1","border-left-color":"rgb(0, 0, 0)","border-left-style":"none","border-left-width":"0px","border-right-color":"rgb(0, 0, 0)","border-right-style":"none","border-right-width":"0px","border-top-color":"rgb(0, 0, 0)","border-top-style":"none","border-top-width":"0px","outline-color":"transparent","outline-style":"none","outline-width":"0px",overflow:"visible","text-decoration":"none","-webkit-text-stroke-width":"0px","word-wrap":"break-word","margin-left":"0px","margin-right":"0px",padding:"0px","padding-top":"0px","padding-left":"0px","padding-right":"0px","padding-bottom":"0px",border:"0px","border-top":"0px","border-left":"0px","border-right":"0px","border-bottom":"0px","vertical-align":"baseline",float:"none"},s=[];t.getTagReplacement=h;t.getAllowedAttributes=c;t.getAllowedCssClassesRegex=l;t.getDefaultStyleValues=a;t.getStyleCallbacks=v},"./packages/roosterjs-editor-dom/lib/htmlSanitizer/getInheritableStyles.ts":function(n,t){function r(n){var t=n&&n.ownerDocument&&n.ownerDocument.defaultView,r=t&&t.getComputedStyle(n),u={};return i.forEach(function(n){return u[n]=r&&r.getPropertyValue(n)||""}),u}Object.defineProperty(t,"__esModule",{value:!0});var i="border-spacing,caption-side,color,cursor,direction,empty-cells,font-family,font-size,font-style,font-variant,font-weight,font,letter-spacing,line-height,list-style-image,list-style-position,list-style-type,list-style,orphans,quotes,text-align,text-indent,text-transform,visibility,white-space,widows,word-spacing".split(",");t.default=r},"./packages/roosterjs-editor-dom/lib/htmlSanitizer/getPredefinedCssForElement.ts":function(n,t,i){function f(n,t){var i=r.default(n);return u[i]||(t||{})[i]}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),u={B:{"font-weight":"bold"},EM:{"font-style":"italic"},I:{"font-style":"italic"},U:{"text-decoration":"underline"},P:{"margin-top":"1em","margin-bottom":"1em"},PRE:{"white-space":"pre"},S:{"text-decoration":"line-through"},STRIKE:{"text-decoration":"line-through"},SUB:{"vertical-align":"sub","font-size":"smaller"},SUP:{"vertical-align":"super","font-size":"smaller"}};t.default=f},"./packages/roosterjs-editor-dom/lib/index.ts":function(n,t,i){var h,c,l,a,v,y,p,w,b,k,d,r,g,nt,tt,it,rt,ut,ft,u,f,et,ot,st,ht,ct,lt,e,at,vt,o,s,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi,ki,di,gi,nr,tr,ir,rr,ur,fr,er,or,sr,hr,cr,lr,ar,vr,yr,pr,wr,br,kr;Object.defineProperty(t,"__esModule",{value:!0});h=i("./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts");t.getBlockElementAtNode=h.default;c=i("./packages/roosterjs-editor-dom/lib/blockElements/getFirstLastBlockElement.ts");t.getFirstLastBlockElement=c.default;l=i("./packages/roosterjs-editor-dom/lib/contentTraverser/ContentTraverser.ts");t.ContentTraverser=l.default;a=i("./packages/roosterjs-editor-dom/lib/contentTraverser/PositionContentSearcher.ts");t.PositionContentSearcher=a.default;v=i("./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts");t.getInlineElementAtNode=v.default;y=i("./packages/roosterjs-editor-dom/lib/inlineElements/ImageInlineElement.ts");t.ImageInlineElement=y.default;p=i("./packages/roosterjs-editor-dom/lib/inlineElements/LinkInlineElement.ts");t.LinkInlineElement=p.default;w=i("./packages/roosterjs-editor-dom/lib/inlineElements/NodeInlineElement.ts");t.NodeInlineElement=w.default;b=i("./packages/roosterjs-editor-dom/lib/inlineElements/PartialInlineElement.ts");t.PartialInlineElement=b.default;k=i("./packages/roosterjs-editor-dom/lib/utils/arrayPush.ts");t.arrayPush=k.default;d=i("./packages/roosterjs-editor-dom/lib/utils/applyTextStyle.ts");t.applyTextStyle=d.default;r=i("./packages/roosterjs-editor-dom/lib/utils/Browser.ts");t.Browser=r.Browser;t.getBrowserInfo=r.getBrowserInfo;g=i("./packages/roosterjs-editor-dom/lib/utils/applyFormat.ts");t.applyFormat=g.default;nt=i("./packages/roosterjs-editor-dom/lib/utils/changeElementTag.ts");t.changeElementTag=nt.default;tt=i("./packages/roosterjs-editor-dom/lib/utils/collapseNodes.ts");t.collapseNodes=tt.default;it=i("./packages/roosterjs-editor-dom/lib/utils/contains.ts");t.contains=it.default;rt=i("./packages/roosterjs-editor-dom/lib/utils/extractClipboardEvent.ts");t.extractClipboardEvent=rt.default;ut=i("./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts");t.findClosestElementAncestor=ut.default;ft=i("./packages/roosterjs-editor-dom/lib/utils/fromHtml.ts");t.fromHtml=ft.default;u=i("./packages/roosterjs-editor-dom/lib/utils/getComputedStyles.ts");t.getComputedStyles=u.default;t.getComputedStyle=u.getComputedStyle;f=i("./packages/roosterjs-editor-dom/lib/utils/getPendableFormatState.ts");t.getPendableFormatState=f.default;t.PendableFormatCommandMap=f.PendableFormatCommandMap;et=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts");t.getTagOfNode=et.default;ot=i("./packages/roosterjs-editor-dom/lib/utils/isBlockElement.ts");t.isBlockElement=ot.default;st=i("./packages/roosterjs-editor-dom/lib/utils/isNodeEmpty.ts");t.isNodeEmpty=st.default;ht=i("./packages/roosterjs-editor-dom/lib/utils/isVoidHtmlElement.ts");t.isVoidHtmlElement=ht.default;ct=i("./packages/roosterjs-editor-dom/lib/utils/matchLink.ts");t.matchLink=ct.default;lt=i("./packages/roosterjs-editor-dom/lib/utils/queryElements.ts");t.queryElements=lt.default;e=i("./packages/roosterjs-editor-dom/lib/utils/splitParentNode.ts");t.splitParentNode=e.default;t.splitBalancedNodeRange=e.splitBalancedNodeRange;at=i("./packages/roosterjs-editor-dom/lib/utils/unwrap.ts");t.unwrap=at.default;vt=i("./packages/roosterjs-editor-dom/lib/utils/wrap.ts");t.wrap=vt.default;o=i("./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts");t.getNextLeafSibling=o.getNextLeafSibling;t.getPreviousLeafSibling=o.getPreviousLeafSibling;s=i("./packages/roosterjs-editor-dom/lib/utils/getLeafNode.ts");t.getFirstLeafNode=s.getFirstLeafNode;t.getLastLeafNode=s.getLastLeafNode;yt=i("./packages/roosterjs-editor-dom/lib/utils/getTextContent.ts");t.getTextContent=yt.default;pt=i("./packages/roosterjs-editor-dom/lib/utils/splitTextNode.ts");t.splitTextNode=pt.default;wt=i("./packages/roosterjs-editor-dom/lib/utils/normalizeRect.ts");t.normalizeRect=wt.default;bt=i("./packages/roosterjs-editor-dom/lib/utils/toArray.ts");t.toArray=bt.default;kt=i("./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");t.safeInstanceOf=kt.default;dt=i("./packages/roosterjs-editor-dom/lib/utils/readFile.ts");t.readFile=dt.default;gt=i("./packages/roosterjs-editor-dom/lib/utils/getInnerHTML.ts");t.getInnerHTML=gt.default;ni=i("./packages/roosterjs-editor-dom/lib/table/VTable.ts");t.VTable=ni.default;ti=i("./packages/roosterjs-editor-dom/lib/list/VList.ts");t.VList=ti.default;ii=i("./packages/roosterjs-editor-dom/lib/list/VListItem.ts");t.VListItem=ii.default;ri=i("./packages/roosterjs-editor-dom/lib/list/createVListFromRegion.ts");t.createVListFromRegion=ri.default;ui=i("./packages/roosterjs-editor-dom/lib/list/VListChain.ts");t.VListChain=ui.default;fi=i("./packages/roosterjs-editor-dom/lib/region/getRegionsFromRange.ts");t.getRegionsFromRange=fi.default;ei=i("./packages/roosterjs-editor-dom/lib/region/getSelectedBlockElementsInRegion.ts");t.getSelectedBlockElementsInRegion=ei.default;oi=i("./packages/roosterjs-editor-dom/lib/region/collapseNodesInRegion.ts");t.collapseNodesInRegion=oi.default;si=i("./packages/roosterjs-editor-dom/lib/region/isNodeInRegion.ts");t.isNodeInRegion=si.default;hi=i("./packages/roosterjs-editor-dom/lib/region/getSelectionRangeInRegion.ts");t.getSelectionRangeInRegion=hi.default;ci=i("./packages/roosterjs-editor-dom/lib/region/mergeBlocksInRegion.ts");t.mergeBlocksInRegion=ci.default;li=i("./packages/roosterjs-editor-dom/lib/selection/Position.ts");t.Position=li.default;ai=i("./packages/roosterjs-editor-dom/lib/selection/createRange.ts");t.createRange=ai.default;vi=i("./packages/roosterjs-editor-dom/lib/selection/getPositionRect.ts");t.getPositionRect=vi.default;yi=i("./packages/roosterjs-editor-dom/lib/selection/isPositionAtBeginningOf.ts");t.isPositionAtBeginningOf=yi.default;pi=i("./packages/roosterjs-editor-dom/lib/selection/getSelectionPath.ts");t.getSelectionPath=pi.default;wi=i("./packages/roosterjs-editor-dom/lib/selection/getHtmlWithSelectionPath.ts");t.getHtmlWithSelectionPath=wi.default;bi=i("./packages/roosterjs-editor-dom/lib/selection/setHtmlWithSelectionPath.ts");t.setHtmlWithSelectionPath=bi.default;ki=i("./packages/roosterjs-editor-dom/lib/selection/addRangeToSelection.ts");t.addRangeToSelection=ki.default;di=i("./packages/roosterjs-editor-dom/lib/selection/deleteSelectedContent.ts");t.deleteSelectedContent=di.default;gi=i("./packages/roosterjs-editor-dom/lib/snapshots/addSnapshot.ts");t.addSnapshot=gi.default;nr=i("./packages/roosterjs-editor-dom/lib/snapshots/canMoveCurrentSnapshot.ts");t.canMoveCurrentSnapshot=nr.default;tr=i("./packages/roosterjs-editor-dom/lib/snapshots/clearProceedingSnapshots.ts");t.clearProceedingSnapshots=tr.default;ir=i("./packages/roosterjs-editor-dom/lib/snapshots/moveCurrentSnapsnot.ts");t.moveCurrentSnapsnot=ir.default;rr=i("./packages/roosterjs-editor-dom/lib/snapshots/createSnapshots.ts");t.createSnapshots=rr.default;ur=i("./packages/roosterjs-editor-dom/lib/snapshots/canUndoAutoComplete.ts");t.canUndoAutoComplete=ur.default;fr=i("./packages/roosterjs-editor-dom/lib/htmlSanitizer/HtmlSanitizer.ts");t.HtmlSanitizer=fr.default;er=i("./packages/roosterjs-editor-dom/lib/htmlSanitizer/getInheritableStyles.ts");t.getInheritableStyles=er.default;or=i("./packages/roosterjs-editor-dom/lib/htmlSanitizer/createDefaultHtmlSanitizerOptions.ts");t.createDefaultHtmlSanitizerOptions=or.default;sr=i("./packages/roosterjs-editor-dom/lib/htmlSanitizer/chainSanitizerCallback.ts");t.chainSanitizerCallback=sr.default;hr=i("./packages/roosterjs-editor-dom/lib/entity/commitEntity.ts");t.commitEntity=hr.default;cr=i("./packages/roosterjs-editor-dom/lib/entity/getEntityFromElement.ts");t.getEntityFromElement=cr.default;lr=i("./packages/roosterjs-editor-dom/lib/entity/getEntitySelector.ts");t.getEntitySelector=lr.default;ar=i("./packages/roosterjs-editor-dom/lib/event/cacheGetEventData.ts");t.cacheGetEventData=ar.default;vr=i("./packages/roosterjs-editor-dom/lib/event/clearEventDataCache.ts");t.clearEventDataCache=vr.default;yr=i("./packages/roosterjs-editor-dom/lib/event/isModifierKey.ts");t.isModifierKey=yr.default;pr=i("./packages/roosterjs-editor-dom/lib/event/isCharacterValue.ts");t.isCharacterValue=pr.default;wr=i("./packages/roosterjs-editor-dom/lib/event/isCtrlOrMetaPressed.ts");t.isCtrlOrMetaPressed=wr.default;br=i("./packages/roosterjs-editor-dom/lib/style/getStyles.ts");t.getStyles=br.default;kr=i("./packages/roosterjs-editor-dom/lib/style/setStyles.ts");t.setStyles=kr.default},"./packages/roosterjs-editor-dom/lib/inlineElements/EmptyInlineElement.ts":function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(n,t){this.position=n;this.parentBlock=t}return n.prototype.getTextContent=function(){return""},n.prototype.getContainerNode=function(){return this.position.node},n.prototype.getParentBlock=function(){return this.parentBlock},n.prototype.getStartPosition=function(){return this.position},n.prototype.getEndPosition=function(){return this.position},n.prototype.isAfter=function(n){return n&&this.position.isAfter(n.getEndPosition())},n.prototype.isTextualInlineElement=function(){return!1},n.prototype.contains=function(){return!1},n.prototype.applyStyle=function(){},n}();t.default=i},"./packages/roosterjs-editor-dom/lib/inlineElements/ImageInlineElement.ts":function(n,t,i){var f=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r,u;Object.defineProperty(t,"__esModule",{value:!0});r=i("./packages/roosterjs-editor-dom/lib/inlineElements/NodeInlineElement.ts");u=function(n){function t(t,i){return n.call(this,t,i)||this}return f(t,n),t}(r.default);t.default=u},"./packages/roosterjs-editor-dom/lib/inlineElements/LinkInlineElement.ts":function(n,t,i){var f=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r,u;Object.defineProperty(t,"__esModule",{value:!0});r=i("./packages/roosterjs-editor-dom/lib/inlineElements/NodeInlineElement.ts");u=function(n){function t(t,i){return n.call(this,t,i)||this}return f(t,n),t}(r.default);t.default=u},"./packages/roosterjs-editor-dom/lib/inlineElements/NodeInlineElement.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/utils/applyTextStyle.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts"),r=i("./packages/roosterjs-editor-dom/lib/selection/Position.ts"),e=function(){function n(n,t){this.containerNode=n;this.parentBlock=t}return n.prototype.getTextContent=function(){return this.containerNode.nodeType==3?this.containerNode.nodeValue:this.containerNode.textContent},n.prototype.getContainerNode=function(){return this.containerNode},n.prototype.getParentBlock=function(){return this.parentBlock},n.prototype.getStartPosition=function(){return new r.default(this.containerNode,0).normalize()},n.prototype.getEndPosition=function(){return new r.default(this.containerNode,-1).normalize()},n.prototype.isTextualInlineElement=function(){return this.containerNode&&this.containerNode.nodeType==3},n.prototype.isAfter=function(n){return n&&f.default(this.containerNode,n.getContainerNode())},n.prototype.contains=function(n){var t=this.getStartPosition(),i=this.getEndPosition();return n&&n.isAfter(t)&&i.isAfter(n)},n.prototype.applyStyle=function(n){u.default(this.containerNode,n)},n}();t.default=e},"./packages/roosterjs-editor-dom/lib/inlineElements/PartialInlineElement.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var f=i("./packages/roosterjs-editor-dom/lib/utils/applyTextStyle.ts"),e=i("./packages/roosterjs-editor-dom/lib/selection/createRange.ts"),r=i("./packages/roosterjs-editor-dom/lib/selection/Position.ts"),u=i("./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts"),o=function(){function n(n,t,i){this.inlineElement=n;this.start=t;this.end=i}return n.prototype.getDecoratedInline=function(){return this.inlineElement},n.prototype.getContainerNode=function(){return this.inlineElement.getContainerNode()},n.prototype.getParentBlock=function(){return this.inlineElement.getParentBlock()},n.prototype.getTextContent=function(){var n=e.default(this.getStartPosition(),this.getEndPosition());return n.toString()},n.prototype.getStartPosition=function(){return this.start||this.inlineElement.getStartPosition()},n.prototype.getEndPosition=function(){return this.end||this.inlineElement.getEndPosition()},Object.defineProperty(n.prototype,"nextInlineElement",{get:function(){return this.end&&new n(this.inlineElement,this.end,null)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"previousInlineElement",{get:function(){return this.start&&new n(this.inlineElement,null,this.start)},enumerable:!0,configurable:!0}),n.prototype.contains=function(n){return n&&n.isAfter(this.getStartPosition())&&this.getEndPosition().isAfter(n)},n.prototype.isTextualInlineElement=function(){return this.inlineElement&&this.inlineElement.isTextualInlineElement()},n.prototype.isAfter=function(n){var i=this.getStartPosition(),t=n&&n.getEndPosition();return t&&(i.isAfter(t)||i.equalTo(t))},n.prototype.applyStyle=function(n){var t=this.getStartPosition().normalize(),i=this.getEndPosition().normalize(),e=this.getContainerNode(),o,s;t.isAtEnd&&(o=u.getNextLeafSibling(e,t.node),t=o?new r.default(o,0):null);i.offset==0&&(s=u.getPreviousLeafSibling(e,i.node),i=s?new r.default(s,-1):null);f.default(e,n,t,i)},n}();t.default=o},"./packages/roosterjs-editor-dom/lib/inlineElements/getFirstLastInlineElement.ts":function(n,t,i){function f(n){var t=u.getFirstLeafNode(n);return t?r.default(n,t):null}function e(n){var t=u.getLastLeafNode(n);return t?r.default(n,t):null}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts"),u=i("./packages/roosterjs-editor-dom/lib/utils/getLeafNode.ts");t.getFirstInlineElement=f;t.getLastInlineElement=e},"./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts":function(n,t,i){function h(n,t){var i=s.default(n,"Node")?r.default(n,t):n;return t&&i&&c(t,i)}function c(n,t){for(var r,s,h,l,c=[n],i=n.parentNode;i&&t.contains(i);i=i.parentNode)c.push(i);for(s=c.length-1;s>=0&&!r;s--)h=c[s],l=u.default(h),l=="A"?r=new e.default(h,t):l=="IMG"&&(r=new f.default(h,t));return r||new o.default(n,t)}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts"),u=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),f=i("./packages/roosterjs-editor-dom/lib/inlineElements/ImageInlineElement.ts"),e=i("./packages/roosterjs-editor-dom/lib/inlineElements/LinkInlineElement.ts"),o=i("./packages/roosterjs-editor-dom/lib/inlineElements/NodeInlineElement.ts"),s=i("./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");t.default=h},"./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementBeforeAfter.ts":function(n,t,i){function s(n,t){return r(n,t,!1)}function h(n,t){return r(n,t,!0)}function r(n,t,i){var s;if(!n||!t||!t.node)return null;t=t.normalize();var r=t.node,c=t.offset,h=t.isAtEnd,l=!1;return!i&&c==0&&!h||i&&h?r=f.getLeafSibling(n,r,i):r.nodeType==3&&(!i&&!h||i&&c>0)&&(l=!0),r&&o.default(r)&&(r=f.getLeafSibling(n,r,i)),s=e.default(n,r),s&&(l||s.contains(t))&&(s=i?new u.default(s,t,null):new u.default(s,null,t)),s}Object.defineProperty(t,"__esModule",{value:!0});var e=i("./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts"),u=i("./packages/roosterjs-editor-dom/lib/inlineElements/PartialInlineElement.ts"),o=i("./packages/roosterjs-editor-dom/lib/utils/shouldSkipNode.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts");t.getInlineElementBefore=s;t.getInlineElementAfter=h;t.getInlineElementBeforeAfter=r},"./packages/roosterjs-editor-dom/lib/list/VList.ts":function(n,t,i){function v(n){var t=null;a.default(n.childNodes).forEach(function(n){o.default(n)=="LI"?t=n:r.isListElement(n)?t=null:t&&!w.default(n,!0)&&t.appendChild(s.default(n)?n:f.default(n))})}function g(n){while(!r.isListElement(n.parentNode)){b.default(n,!0);var t=a.default(n.parentNode.childNodes).slice(1);t.length>0&&(s.default(t[0])||(t=[f.default(t)]),t.forEach(function(t){return n.appendChild(t)}));k.default(n.parentNode)}}function y(n){return l.default(n,"HTMLOListElement")?n.start:undefined}var e=this&&this.__spreadArrays||function(){for(var i=0,n=0,r=arguments.length;n<r;n++)i+=arguments[n].length;for(var u=Array(i),f=0,n=0;n<r;n++)for(var e=arguments[n],t=0,o=e.length;t<o;t++,f++)u[f]=e[t];return u};Object.defineProperty(t,"__esModule",{value:!0});var p=i("./packages/roosterjs-editor-dom/lib/utils/changeElementTag.ts"),r=i("./packages/roosterjs-editor-dom/lib/list/getListTypeFromNode.ts"),o=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),s=i("./packages/roosterjs-editor-dom/lib/utils/isBlockElement.ts"),w=i("./packages/roosterjs-editor-dom/lib/utils/isNodeEmpty.ts"),h=i("./packages/roosterjs-editor-dom/lib/selection/Position.ts"),c=i("./packages/roosterjs-editor-dom/lib/utils/queryElements.ts"),l=i("./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),b=i("./packages/roosterjs-editor-dom/lib/utils/splitParentNode.ts"),a=i("./packages/roosterjs-editor-dom/lib/utils/toArray.ts"),k=i("./packages/roosterjs-editor-dom/lib/utils/unwrap.ts"),u=i("./packages/roosterjs-editor-dom/lib/list/VListItem.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/wrap.ts"),d=function(){function n(n){if(this.rootList=n,this.items=[],!n)throw new Error("rootList must not be null");v(this.rootList);c.default(this.rootList,"ol,ul",v);c.default(this.rootList,"li",g);this.populateItems(this.rootList)}return n.prototype.contains=function(n){return this.items.some(function(t){return t.contains(n)})},n.prototype.getLastItemNumber=function(){var n=y(this.rootList);return n===undefined?n:n-1+this.items.filter(function(n){return n.getListType()==1&&n.getLevel()==1}).length},n.prototype.writeBack=function(){var f=this;if(!this.rootList)throw new Error("rootList must not be null");var r=this.rootList.ownerDocument,n=[r.createDocumentFragment()],t=r.createTextNode(""),i=y(this.rootList)||1,u;this.rootList.parentNode.replaceChild(t,this.rootList);this.items.forEach(function(t){t.writeBack(n,f.rootList);var r=n[1];l.default(r,"HTMLOListElement")&&(u!=r&&(i==1?r.removeAttribute("start"):r.start=i),t.getLevel()==1&&i++);u=r});t.parentNode.replaceChild(n[0],t);this.rootList=null},n.prototype.setIndentation=function(n,t,i){this.findListItems(n,t,function(n){return i==1?n.outdent():n.indent()})},n.prototype.changeListType=function(n,t,i){var r=!1;this.findListItems(n,t,function(n){r=r||n.getListType()!=i});this.findListItems(n,t,function(n){return r?n.changeListType(i):n.outdent()})},n.prototype.appendItem=function(n,t){var i=o.default(n);i=="DIV"?n=p.default(n,"LI"):i!="LI"&&(n=f.default(n,"LI"));this.items.push(t==0?new u.default(n):new u.default(n,t))},n.prototype.mergeVList=function(n){var r=this,t,i;n&&n!=this&&(i=this.items.length,n.items.forEach(function(n){return r.items.push(n)}),n.items.splice(0,n.items.length),this.mergeOrphanNodesAfter(i-1),(t=n.rootList.parentNode)===null||t===void 0?void 0:t.removeChild(n.rootList))},n.prototype.mergeOrphanNodesAfter=function(n){var t=this.items[n],i;if(t&&!t.isOrphanItem())for(i=n+1;i<=this.items.length;i++)if(!t||!t.canMerge(this.items[i])){t.mergeItems(this.items.splice(n+1,i-n-1));break}},n.prototype.findListItems=function(n,t,i){var f;if(this.items.length==0)return[];var e=new h.default(this.items[0].getNode(),0),o=new h.default(this.items[this.items.length-1].getNode(),-1),u=e.isAfter(n)?0:-1,r=this.items.length-(t.isAfter(o)?1:0);return this.items.forEach(function(i,f){u=i.contains(n.node)?f:u;r=i.contains(t.node)?f:r}),u=r<this.items.length?Math.max(0,u):u,r=u>=0?Math.min(this.items.length-1,r):r,f=u<=r?this.items.slice(u,r+1):[],i&&(f.forEach(i),this.mergeOrphanNodesAfter(r)),f},n.prototype.populateItems=function(n,t){var o,i,f;for(t===void 0&&(t=[]),o=r.default(n),i=n.firstChild;!!i;i=i.nextSibling)f=e(t,[o]),r.isListElement(i)?this.populateItems(i,f):(i.nodeType!=3||i.nodeValue.trim()!="")&&this.items.push(new(u.default.bind.apply(u.default,e([void 0,i],f))))},n}();t.default=d},"./packages/roosterjs-editor-dom/lib/list/VListChain.ts":function(n,t,i){function y(){return l+a++}Object.defineProperty(t,"__esModule",{value:!0});var o=i("./packages/roosterjs-editor-dom/lib/utils/arrayPush.ts"),s=i("./packages/roosterjs-editor-dom/lib/list/getRootListNode.ts"),h=i("./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts"),c=i("./packages/roosterjs-editor-dom/lib/region/isNodeInRegion.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/queryElements.ts"),r=i("./packages/roosterjs-editor-dom/lib/list/VList.ts"),l="__List_Chain_",u="listchain",e="listchainafter",a=0,v=function(){function n(n,t){this.region=n;this.name=t;this.lastNumber=0;this.lastNumberBeforeCursor=0}return n.createListChains=function(t,i,r){var e=Array.isArray(t)?t:t?[t]:[],u=[];return e.forEach(function(t){var e=[],c;f.default(t.rootNode,"ol",function(u){var f=s.default(t,"ol",u);if(c!=f){var o=e.filter(function(n){return n.canAppendToTail(f)})[0]||new n(t,(r||y)()),l=e.indexOf(o),a=i&&h.default(f,i);a?l<0&&e.push(o):(l>=0&&e.splice(l,1),e.unshift(o));o.append(f,a);c=f}});o.default(u,e)}),u},n.prototype.canAppendAtCursor=function(n){return this.lastNumberBeforeCursor+1==n},n.prototype.createVListAtBlock=function(n,t){var i,u;return n?(i=n.ownerDocument.createElement("ol"),i.start=t,this.applyChainName(i),n.parentNode.insertBefore(i,n),u=new r.default(i),u.appendItem(n,0),u):null},n.prototype.commit=function(){for(var n,i,f=this.getLists(),o=0,t=0;t<f.length;t++)n=f[t],n.start=o+1,i=new r.default(n),o=i.getLastItemNumber(),delete n.dataset[u],delete n.dataset[e],i.writeBack()},n.prototype.canAppendToTail=function(n){return this.lastNumber+1==n.start},n.prototype.append=function(n,t){this.applyChainName(n);this.lastNumber=new r.default(n).getLastItemNumber();t?n.dataset[e]="true":this.lastNumberBeforeCursor=this.lastNumber},n.prototype.applyChainName=function(n){n.dataset[u]=this.name},n.prototype.getLists=function(){var n=this;return f.default(this.region.rootNode,"ol[data-"+u+"="+this.name+"]").filter(function(t){return c.default(n.region,t)})},n}();t.default=v},"./packages/roosterjs-editor-dom/lib/list/VListItem.ts":function(n,t,i){function y(n,t,i,f){var s=n.ownerDocument,e;if(i==1&&f&&t==u.default(f))if(r.default(n,f))e=f.cloneNode(!1),e.removeAttribute("id");else{while(f.firstChild)f.removeChild(f.firstChild);e=f}else e=s.createElement(t==1?"ol":"ul");return t==1&&i>1&&(e.style.listStyleType=o[(i-1)%o.length]),e}function s(n,t,i){return!(n.length>0)||t&&e.default(n[0])||i&&e.default(n[n.length])||(n=[a.default(n)]),n}function p(n){var t=c.default(n.childNodes);return l.default(n),t}var h=this&&this.__spreadArrays||function(){for(var i=0,n=0,r=arguments.length;n<r;n++)i+=arguments[n].length;for(var u=Array(i),f=0,n=0;n<r;n++)for(var e=arguments[n],t=0,o=e.length;t<o;t++,f++)u[f]=e[t];return u};Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/contains.ts"),u=i("./packages/roosterjs-editor-dom/lib/list/getListTypeFromNode.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),e=i("./packages/roosterjs-editor-dom/lib/utils/isBlockElement.ts"),c=i("./packages/roosterjs-editor-dom/lib/utils/toArray.ts"),l=i("./packages/roosterjs-editor-dom/lib/utils/unwrap.ts"),a=i("./packages/roosterjs-editor-dom/lib/utils/wrap.ts"),o=[null,"lower-alpha","lower-roman"],v=function(){function n(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];if(this.node=n,!n)throw new Error("node must not be null");this.listTypes=h([0],i)}return n.prototype.getListType=function(){return this.listTypes[this.listTypes.length-1]},n.prototype.getLevel=function(){return this.listTypes.length-1},n.prototype.getNode=function(){return this.node},n.prototype.contains=function(n){return r.default(this.node,n,!0)},n.prototype.isOrphanItem=function(){return f.default(this.node)!="LI"},n.prototype.canMerge=function(n){return!(n===null||n===void 0?void 0:n.isOrphanItem())||this.listTypes.length!=n.listTypes.length?!1:this.listTypes.every(function(t,i){return n.listTypes[i]==t})},n.prototype.mergeItems=function(n){var t=this,i=(n===null||n===void 0?void 0:n.map(function(n){return n.node}))||[],r=s(i,!0,!1);r.forEach(function(n){return t.node.appendChild(n)})},n.prototype.indent=function(){var n=this.getListType();n!=0&&this.listTypes.push(n)},n.prototype.outdent=function(){this.listTypes.length>1&&this.listTypes.pop()},n.prototype.changeListType=function(n){n==0?this.listTypes=[n]:(this.outdent(),this.listTypes.push(n))},n.prototype.writeBack=function(n,t){for(var i=1,r;i<n.length;i++)if(u.default(n[i])!==this.listTypes[i]){n.splice(i);break}for(;i<this.listTypes.length;i++)r=y(n[0],this.listTypes[i],i,t),n[n.length-1].appendChild(r),n.push(r);n[n.length-1].appendChild(this.node);this.listTypes.length<=1&&s(f.default(this.node)=="LI"?p(this.node):[this.node],!0,!0)},n}();t.default=v},"./packages/roosterjs-editor-dom/lib/list/createVListFromRegion.ts":function(n,t,i){function b(n,t,i){var a,b,d,y,p,w;return n?(a=[],i?(b=r.default(n,e,i),b&&a.push(b)):(d=l.default(n),d.forEach(function(i){var u=r.default(n,e,i.getStartNode());u?(a[a.length-1]!=u&&a.push(u),a.length==1&&s.default(u,"HTMLOListElement")&&u.start>1&&(t=!1)):a.push(i.collapseToSingleElement())}),a.length!=0||n.rootNode.firstChild||(y=c.default("<div><br><\/div>",n.rootNode.ownerDocument)[0],n.rootNode.appendChild(y),a.push(y),n.fullSelectionStart=new o.default(y,0),n.fullSelectionEnd=new o.default(y,-1)),t&&(h(n,a,!1),h(n,a,!0)),a=a.filter(function(n){return!v.default(n,!0)})),p=null,a.length>0&&(w=a.shift(),p=f.isListElement(w)?new u.default(w):k(w),a.forEach(function(n){f.isListElement(n)?p.mergeVList(new u.default(n)):p.appendItem(n,0)})),p):null}function h(n,t,i){var u=t[i?t.length-1:0];u=w.getLeafSibling(n.rootNode,u,i,n.skipTags,!0);u=r.default(n,e,u);a.default(n,u)&&f.isListElement(u)&&(i?s.default(u,"HTMLOListElement")&&u.start!=1||t.push(u):t.unshift(u))}function k(n){var t=y.default(n.childNodes),f=t.length==1?t[0]:p.default(t,"SPAN"),r=n.ownerDocument.createElement("ol"),i;return n.appendChild(r),i=new u.default(r),i.appendItem(f,0),i}Object.defineProperty(t,"__esModule",{value:!0});var c=i("./packages/roosterjs-editor-dom/lib/utils/fromHtml.ts"),r=i("./packages/roosterjs-editor-dom/lib/list/getRootListNode.ts"),l=i("./packages/roosterjs-editor-dom/lib/region/getSelectedBlockElementsInRegion.ts"),a=i("./packages/roosterjs-editor-dom/lib/region/isNodeInRegion.ts"),o=i("./packages/roosterjs-editor-dom/lib/selection/Position.ts"),s=i("./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),v=i("./packages/roosterjs-editor-dom/lib/utils/shouldSkipNode.ts"),y=i("./packages/roosterjs-editor-dom/lib/utils/toArray.ts"),u=i("./packages/roosterjs-editor-dom/lib/list/VList.ts"),p=i("./packages/roosterjs-editor-dom/lib/utils/wrap.ts"),w=i("./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts"),f=i("./packages/roosterjs-editor-dom/lib/list/getListTypeFromNode.ts"),e="ol,ul";t.default=b},"./packages/roosterjs-editor-dom/lib/list/getListTypeFromNode.ts":function(n,t,i){function r(n){switch(u.default(n)){case"OL":return 1;case"UL":return 2;default:return 0}}function f(n){return r(n)!=0}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts");t.default=r;t.isListElement=f},"./packages/roosterjs-editor-dom/lib/list/getRootListNode.ts":function(n,t,i){function u(n,t,i){var u=n&&r.default(i,n.rootNode,t),f;if(u)for(f=void 0;f=r.default(u.parentNode,n.rootNode,t);)u=f;return u}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts");t.default=u},"./packages/roosterjs-editor-dom/lib/region/collapseNodesInRegion.ts":function(n,t,i){function e(n,t){var i,e,o;return!t||t.length==0?[]:(i=f.default(t[0],"Node")?t:[t[0].getStartNode(),t[t.length-1].getEndNode(),],i=i&&i.filter(function(t){return r.default(n,t)}),e=i[0],o=i[i.length-1],r.default(n,e)&&r.default(n,o)?u.default(n.rootNode,e,o,!0):[])}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/utils/collapseNodes.ts"),r=i("./packages/roosterjs-editor-dom/lib/region/isNodeInRegion.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");t.default=e},"./packages/roosterjs-editor-dom/lib/region/getRegionsFromRange.ts":function(n,t,i){function l(n,t,i){var r=[];if(n&&t){var f=o.default[i],e=f.innerSelector,s=f.skipTags,l=a(n,t,i),v=u.default(t.startContainer,n,e)||n,y=u.default(t.endContainer,n,e)||n,p=h(t,s);r=c(p,l,v,y)[0]}return r.filter(function(n){return!!n})}function h(n,t){var i=f.default.getStart(n).normalize(),r=f.default.getEnd(n).normalize();return function(n,u,f){return v(n,u,f,t)?{rootNode:n,nodeBefore:u,nodeAfter:f,skipTags:t,fullSelectionStart:i,fullSelectionEnd:r}:null}}function a(n,t,i){var f=[{innerNode:n,children:[]}],s=o.default[i],h=s.outerSelector,c=s.innerSelector,l=e.default(n,h,null,2,t);return e.default(n,c,function(t){var i=u.default(t,n,h),s,o,e;if(i&&l.indexOf(i)<0){for(s={innerNode:t,children:[]},o=f.length-1;o>=0;o--){var c=f[o],v=c.innerNode,a=c.children;if(r.default(v,i)){e=a.filter(function(n){return n.outerNode==i})[0];e||(e={outerNode:i,boundaries:[]},a.push(e));e.boundaries.push(s);break}}f.push(s)}},1,t),f[0]}function c(n,t,i,r,u){var s,e;u=u||t.innerNode==i;var h=!1,o=t.children,l=t.innerNode,f=[];if(o.length==0)f.push(n(l));else for(e=0;e<=o.length&&!h;e++){var v=o[e]||{},y=v.outerNode,a=v.boundaries,p=(s=o[e-1])===null||s===void 0?void 0:s.outerNode;u&&f.push(n(l,p,y));a===null||a===void 0?void 0:a.forEach(function(t){var e,o;e=c(n,t,i,r,u);o=e[0];u=e[1];h=e[2];f=f.concat(o)})}return[f,u,h||l==r]}function v(n,t,i,u){if(n){var f=t&&s.getNextLeafSibling(n,t,u),e=i&&s.getPreviousLeafSibling(n,i,u),o=!t||r.default(n,t)&&r.default(n,f),h=!i||r.default(n,i)&&r.default(n,e),c=!t||!i||!r.default(t,i,!0)&&!r.default(t,e,!0)&&!r.default(i,t,!0)&&!r.default(i,f,!0);return o&&h&&c}return!1}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/contains.ts"),u=i("./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts"),f=i("./packages/roosterjs-editor-dom/lib/selection/Position.ts"),e=i("./packages/roosterjs-editor-dom/lib/utils/queryElements.ts"),o=i("./packages/roosterjs-editor-dom/lib/region/regionTypeData.ts"),s=i("./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts");t.default=l;t.getRegionCreator=h},"./packages/roosterjs-editor-dom/lib/region/getSelectedBlockElementsInRegion.ts":function(n,t,i){function s(n,t){var l=e.default(n),i=[],h,c;if(l){var a=n.rootNode,v=n.skipTags,s=r.default.createSelectionTraverser(a,l,v);for(h=s===null||s===void 0?void 0:s.currentBlockElement;!!h;h=s.getNextBlockElement())i.push(h);i=i.filter(function(n){var i,t=n.getStartNode(),r=n.getEndNode();return t==r&&o.default(t,!0)?((i=t.parentNode)===null||i===void 0?void 0:i.removeChild(t),!1):!0})}return i.length==0&&n&&!n.rootNode.firstChild&&t&&(c=u.default("<div><br><\/div>",n.rootNode.ownerDocument)[0],n.rootNode.appendChild(c),i.push(f.default(n.rootNode,c))),i}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/contentTraverser/ContentTraverser.ts"),u=i("./packages/roosterjs-editor-dom/lib/utils/fromHtml.ts"),f=i("./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts"),e=i("./packages/roosterjs-editor-dom/lib/region/getSelectionRangeInRegion.ts"),o=i("./packages/roosterjs-editor-dom/lib/utils/shouldSkipNode.ts");t.default=s},"./packages/roosterjs-editor-dom/lib/region/getSelectionRangeInRegion.ts":function(n,t,i){function e(n){var p,w;if(!n)return null;var l=n.nodeBefore,a=n.nodeAfter,i=n.rootNode,b=n.skipTags,v=l?f.getNextLeafSibling(n.rootNode,l,n.skipTags):i.firstChild,y=a?f.getPreviousLeafSibling(i,a,b):i.lastChild,t=v&&y&&r.default(v,y);if(o(n)){if(t){var e=u.default.getStart(t).normalize(),s=u.default.getEnd(t).normalize(),h=n.fullSelectionEnd,c=n.fullSelectionStart;return c.isAfter(s)||e.isAfter(h)?null:(p=c.isAfter(e)?c:e,w=h.isAfter(s)?s:h,r.default(p,w))}}else return t}function o(n){var t=n;return!!t.fullSelectionEnd&&!!t.fullSelectionStart}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/selection/createRange.ts"),u=i("./packages/roosterjs-editor-dom/lib/selection/Position.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts");t.default=e},"./packages/roosterjs-editor-dom/lib/region/isNodeInRegion.ts":function(n,t,i){function u(n,t){return!!(n&&r.default(n.rootNode,t)&&(!n.nodeBefore||n.nodeBefore.compareDocumentPosition(t)==4)&&(!n.nodeAfter||n.nodeAfter.compareDocumentPosition(t)==2))}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/contains.ts");t.default=u},"./packages/roosterjs-editor-dom/lib/region/mergeBlocksInRegion.ts":function(n,t,i){function v(n,t,i){var b,k,d,y,g,w,tt,p,nt,v;if(e.default(n,t)&&e.default(n,i)&&(d=s.default(n.rootNode,i))&&!d.contains(t)){for(y=d.collapseToSingleElement(),g=l.collapse(n.rootNode,y,t,!1,!0),v=y;u.default(g,v);)w=v.parentNode,a.safeInstanceOf(w,"HTMLElement")&&(tt=r(r(r({},h.default(w)||{}),f.default(w)),f.default(y)),c.default(y,tt)),v=w;for(p=null,nt=y.childNodes.length==1&&y.attributes.length==0?y.firstChild:o.default(y,"SPAN"),v=nt;u.default(g,v)&&v.parentNode.childNodes.length==1;v=v.parentNode)p=v.parentNode;(b=t.parentNode)===null||b===void 0?void 0:b.insertBefore(nt,t.nextSibling);(k=p===null||p===void 0?void 0:p.parentNode)===null||k===void 0?void 0:k.removeChild(p)}}var r=this&&this.__assign||function(){return r=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=i("./packages/roosterjs-editor-dom/lib/utils/changeElementTag.ts"),u=i("./packages/roosterjs-editor-dom/lib/utils/contains.ts"),s=i("./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts"),h=i("./packages/roosterjs-editor-dom/lib/htmlSanitizer/getPredefinedCssForElement.ts"),f=i("./packages/roosterjs-editor-dom/lib/style/getStyles.ts"),e=i("./packages/roosterjs-editor-dom/lib/region/isNodeInRegion.ts"),c=i("./packages/roosterjs-editor-dom/lib/style/setStyles.ts"),l=i("./packages/roosterjs-editor-dom/lib/utils/collapseNodes.ts"),a=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=v},"./packages/roosterjs-editor-dom/lib/region/regionTypeData.ts":function(n,t){var i,r;Object.defineProperty(t,"__esModule",{value:!0});r=(i={},i[0]={skipTags:["TABLE"],outerSelector:"table",innerSelector:"td,th"},i);t.default=r},"./packages/roosterjs-editor-dom/lib/selection/Position.ts":function(n,t,i){function r(n){for(var t=0;n=n.previousSibling;)t++;return t}function u(n){return n.nodeType==3?n.nodeValue.length:n.nodeType==1?n.childNodes.length:1}Object.defineProperty(t,"__esModule",{value:!0});var f=i("./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts"),e=i("./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts"),o=function(){function n(n,t,i){this.isFromEndOfRange=i;n.node?(this.node=n.node,t=n.offset):this.node=n;switch(t){case-2:this.offset=r(this.node);this.node=this.node.parentNode;this.isAtEnd=!1;break;case-3:this.offset=r(this.node)+1;this.isAtEnd=!this.node.nextSibling;this.node=this.node.parentNode;break;case-1:this.offset=u(this.node);this.isAtEnd=!0;break;default:var e=u(this.node);this.offset=Math.max(0,Math.min(t,e));this.isAtEnd=t>0&&t>=e}this.element=f.default(this.node)}return n.prototype.normalize=function(){var t,i,r;if(this.node.nodeType==3||!this.node.firstChild)return this;for(t=this.node,i=this.isAtEnd?-1:this.offset;t.nodeType==1||t.nodeType==11;)if(r=this.isFromEndOfRange?i==-1?t.lastChild:t.childNodes[i-1]:i==0?t.firstChild:i==-1?t.lastChild:t.childNodes[i],r)t=r,i=this.isAtEnd||this.isFromEndOfRange?-1:0;else break;return new n(t,i,this.isFromEndOfRange)},n.prototype.equalTo=function(n){return n&&(this==n||this.node==n.node&&this.offset==n.offset&&this.isAtEnd==n.isAtEnd)},n.prototype.isAfter=function(n){return this.node==n.node?this.isAtEnd&&!n.isAtEnd||this.offset>n.offset:e.default(this.node,n.node)},n.prototype.move=function(t){return new n(this.node,Math.max(this.offset+t,0))},n.getStart=function(t){return new n(t.startContainer,t.startOffset)},n.getEnd=function(t){return t.collapsed?n.getStart(t):new n(t.endContainer,t.endOffset,!0)},n}();t.default=o},"./packages/roosterjs-editor-dom/lib/selection/addRangeToSelection.ts":function(n,t,i){function u(n,t){var f,e,o,i=(o=(e=(f=n===null||n===void 0?void 0:n.commonAncestorContainer)===null||f===void 0?void 0:f.ownerDocument)===null||e===void 0?void 0:e.defaultView)===null||o===void 0?void 0:o.getSelection(),s,u;if(i){if(s=!0,i.rangeCount>0)try{u=void 0;(t||r.Browser.isEdge)&&(u=i.rangeCount==1?i.getRangeAt(0):null)&&u.startContainer==n.startContainer&&u.startOffset==n.startOffset&&u.endContainer==n.endContainer&&u.endOffset==n.endOffset?s=!1:i.removeAllRanges()}catch(h){}s&&i.addRange(n)}}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/Browser.ts");t.default=u},"./packages/roosterjs-editor-dom/lib/selection/createRange.ts":function(n,t,i){function h(n,t,i,s){var h,c,l;return e(n)?(h=n,c=e(t)?t:null):u.default(n,"Node")&&(Array.isArray(t)?(h=o(n,t),c=Array.isArray(i)?o(n,i):null):typeof t=="number"?(h=new r.default(n,t),c=u.default(i,"Node")?new r.default(i,s):null):(u.default(t,"Node")||!t)&&(h=new r.default(n,-2),c=new r.default(t||n,-3))),h&&h.node?(l=h.node.ownerDocument.createRange(),h=f(h),c=f(c||h),l.setStart(h.node,h.offset),l.setEnd(c.node,c.offset),l):null}function f(n){return n.node.nodeType==1&&s.default(n.node)?new r.default(n.node,n.isAtEnd?-3:-2):n}function e(n){return n&&n.node}function o(n,t){var u,i;if(!n||!t)return null;for(i=0;i<t.length;i++)if(u=t[i],i<t.length-1&&n&&n.nodeType==1&&n.childNodes.length>u)n=n.childNodes[u];else break;return new r.default(n,u)}Object.defineProperty(t,"__esModule",{value:!0});var s=i("./packages/roosterjs-editor-dom/lib/utils/isVoidHtmlElement.ts"),r=i("./packages/roosterjs-editor-dom/lib/selection/Position.ts"),u=i("./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");t.default=h},"./packages/roosterjs-editor-dom/lib/selection/deleteSelectedContent.ts":function(n,t,i){function v(n,t){var i=null,l=c.default(n,"table,tr",null,2,t),a=e.default(n,t,0),v=a.map(function(n){var t=o.default(n),c;if(!t)return null;var a=t.startContainer,v=t.endContainer,y=t.startOffset,p=t.endOffset,e=r(v,p,!1),w=e[0],b=e[1],s=r(a,y,!0),h=s[0],k=s[1];return i=i||h,c=f.default(n,[k,w]),u.default(l,c),{region:n,beforeStart:h,afterEnd:b}}).filter(function(n){return!!n});return l.forEach(function(n){var t;if((t=n.parentNode)!==null&&t!==void 0)return t.removeChild(n)}),v.forEach(function(n){return s.default(n.region,n.beforeStart,n.afterEnd)}),i&&new h.default(i,-1)}function r(n,t,i){var e,o,r,u,f;return l.default(n,"Text")?(o=a.default(n,t,i),i?[o,n]:[n,o]):(r=n.childNodes[t-1],u=n.childNodes[t],r||u||(i?(u=n,r=u.previousSibling):(r=n,u=r.nextSibling)),!(r||u)||r&&u||(f=n.ownerDocument.createTextNode(""),(e=(r||u).parentNode)===null||e===void 0?void 0:e.insertBefore(f,u),r?u=f:r=f),[r,u])}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/utils/arrayPush.ts"),f=i("./packages/roosterjs-editor-dom/lib/region/collapseNodesInRegion.ts"),e=i("./packages/roosterjs-editor-dom/lib/region/getRegionsFromRange.ts"),o=i("./packages/roosterjs-editor-dom/lib/region/getSelectionRangeInRegion.ts"),s=i("./packages/roosterjs-editor-dom/lib/region/mergeBlocksInRegion.ts"),h=i("./packages/roosterjs-editor-dom/lib/selection/Position.ts"),c=i("./packages/roosterjs-editor-dom/lib/utils/queryElements.ts"),l=i("./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),a=i("./packages/roosterjs-editor-dom/lib/utils/splitTextNode.ts");t.default=v},"./packages/roosterjs-editor-dom/lib/selection/getHtmlWithSelectionPath.ts":function(n,t,i){function o(n,t){var o,s;if(!n)return"";var i=t||{},c=i.startContainer,l=i.endContainer,a=i.startOffset,v=i.endOffset,h=!1;if(e.default(n,"table",function(n){for(var i=null,t=n.firstChild;t;t=t.nextSibling)f.default(t)=="TR"?(i||(i=n.ownerDocument.createElement("tbody"),n.insertBefore(i,t)),i.appendChild(t),t=i,h=!0):i=null}),t&&h)try{t.setStart(c,a);t.setEnd(l,v)}catch(y){}return o=r.default(n),s=t&&u.default(n,t),s?o+"<!--"+JSON.stringify(s)+"-->":o}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/getInnerHTML.ts"),u=i("./packages/roosterjs-editor-dom/lib/selection/getSelectionPath.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),e=i("./packages/roosterjs-editor-dom/lib/utils/queryElements.ts");t.default=o},"./packages/roosterjs-editor-dom/lib/selection/getPositionRect.ts":function(n,t,i){function f(n){var i,t,e,s,f,o;return n?(i=u.default(n),t=i.getBoundingClientRect&&r.default(i.getBoundingClientRect()),t)?t:(n=n.normalize(),e=i.getClientRects&&i.getClientRects(),t=e&&e.length==1&&r.default(e[0]),t)?t:n.node.nodeType==3&&(s=n.node.ownerDocument,f=s.createElement("SPAN"),f.innerHTML="​",i=u.default(n),i.insertNode(f),t=f.getBoundingClientRect&&r.default(f.getBoundingClientRect()),f.parentNode.removeChild(f),t)?t:(o=n.element,o&&o.getBoundingClientRect&&(t=r.default(o.getBoundingClientRect()),t))?t:null:null}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/selection/createRange.ts"),r=i("./packages/roosterjs-editor-dom/lib/utils/normalizeRect.ts");t.default=f},"./packages/roosterjs-editor-dom/lib/selection/getSelectionPath.ts":function(n,t,i){function e(n,t){if(!t)return null;return{start:u(r.default.getStart(t),n),end:u(r.default.getEnd(t),n)}}function u(n,t){var o,r;if(!n||!t)return[];var i=n.node,u=n.offset,s=[],e;if(!f.default(t,i,!0))return[];if(i.nodeType==3){for(e=i.parentNode;i.previousSibling&&i.previousSibling.nodeType==3;)u+=i.previousSibling.nodeValue.length,i=i.previousSibling;s.unshift(u)}else e=i,i=i.childNodes[u];do{for(u=0,o=!1,r=e.firstChild;r&&r!=i;r=r.nextSibling){if(r.nodeType==3){if(r.nodeValue.length==0||o)continue;o=!0}else o=!1;u++}s.unshift(u);i=e;e=e.parentNode}while(i&&i!=t);return s}Object.defineProperty(t,"__esModule",{value:!0});var f=i("./packages/roosterjs-editor-dom/lib/utils/contains.ts"),r=i("./packages/roosterjs-editor-dom/lib/selection/Position.ts");t.default=e},"./packages/roosterjs-editor-dom/lib/selection/isPositionAtBeginningOf.ts":function(n,t,i){function e(n,t){if(n){var u=n.normalize(),i=u.node,f=u.offset;if(f==0){while(r.default(t,i)&&o(i))i=i.parentNode;return i==t}}return!1}function o(n){while(n.previousSibling)if(n=n.previousSibling,u.default(n)=="BR"||!f.default(n))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/contains.ts"),u=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/isNodeEmpty.ts");t.default=e},"./packages/roosterjs-editor-dom/lib/selection/setHtmlWithSelectionPath.ts":function(n,t,i){function u(n,t){n.innerHTML=t||"";var i=null,u=n.lastChild;try{i=u&&u.nodeType==8&&JSON.parse(u.nodeValue);i&&i.end&&i.end.length>0&&i.start&&i.start.length>0?n.removeChild(u):i=null}catch(f){}return i&&r.default(n,i.start,i.end)}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/selection/createRange.ts");t.default=u},"./packages/roosterjs-editor-dom/lib/snapshots/addSnapshot.ts":function(n,t,i){function u(n,t,i){if(n.currentIndex<0||t!=n.snapshots[n.currentIndex]){r.default(n);n.snapshots.push(t);n.currentIndex++;n.totalSize+=t.length;for(var u=0;u<n.snapshots.length&&n.totalSize>n.maxSize;)n.totalSize-=n.snapshots[u].length,u++;u>0&&(n.snapshots.splice(0,u),n.currentIndex-=u,n.autoCompleteIndex-=u);i&&(n.autoCompleteIndex=n.currentIndex)}}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/snapshots/clearProceedingSnapshots.ts");t.default=u},"./packages/roosterjs-editor-dom/lib/snapshots/canMoveCurrentSnapshot.ts":function(n,t){function i(n,t){var i=n.currentIndex+t;return i>=0&&i<n.snapshots.length}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/snapshots/canUndoAutoComplete.ts":function(n,t){function i(n){return n.autoCompleteIndex>=0&&n.currentIndex-n.autoCompleteIndex==1}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/snapshots/clearProceedingSnapshots.ts":function(n,t,i){function u(n){var i,t;if(r.default(n,1)){for(i=0,t=n.currentIndex+1;t<n.snapshots.length;t++)i+=n.snapshots[t].length;n.snapshots.splice(n.currentIndex+1);n.totalSize-=i;n.autoCompleteIndex=-1}}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/snapshots/canMoveCurrentSnapshot.ts");t.default=u},"./packages/roosterjs-editor-dom/lib/snapshots/createSnapshots.ts":function(n,t){function i(n){return{snapshots:[],totalSize:0,currentIndex:-1,autoCompleteIndex:-1,maxSize:n}}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/snapshots/moveCurrentSnapsnot.ts":function(n,t,i){function u(n,t){return r.default(n,t)?(n.currentIndex+=t,n.autoCompleteIndex=-1,n.snapshots[n.currentIndex]):null}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/snapshots/canMoveCurrentSnapshot.ts");t.default=u},"./packages/roosterjs-editor-dom/lib/style/getStyles.ts":function(n,t){function i(n){var t={},i=(n===null||n===void 0?void 0:n.getAttribute("style"))||"";return i.split(";").forEach(function(n){var i=n.indexOf(":"),r=n.slice(0,i),u=n.slice(i+1);r&&u&&(t[r.trim()]=u.trim())}),t}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/style/setStyles.ts":function(n,t){function i(n,t){if(n){var i=Object.keys(t||{}).map(function(n){var i=t[n];return n=n?n.trim():null,i=i?i.trim():null,n&&i?n+":"+i:null}).filter(function(n){return n}).join(";");i?n.setAttribute("style",i):n.removeAttribute("style")}}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/table/VTable.ts":function(n,t,i){function l(n){for(var t=n;t&&t.tagName!="TABLE";t=t.parentElement);return t}function f(n){return"solid 1px "+(n||"transparent")}function u(n){return{td:r(n.td),spanAbove:n.spanAbove,spanLeft:n.spanLeft}}function r(n){var t=n?n.cloneNode(!1):null;return e.default(t,"HTMLTableCellElement")&&(t.removeAttribute("id"),t.firstChild||t.appendChild(n.ownerDocument.createElement("br"))),t}function o(n,t){while(n.firstChild)t?t.appendChild(n.firstChild):n.removeChild(n.firstChild)}Object.defineProperty(t,"__esModule",{value:!0});var s=i("./packages/roosterjs-editor-dom/lib/utils/normalizeRect.ts"),e=i("./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),h=i("./packages/roosterjs-editor-dom/lib/utils/toArray.ts"),c=function(){function n(n){var t=this,r,i;this.trs=[];this.table=e.default(n,"HTMLTableElement")?n:l(n);this.table&&(r=e.default(n,"HTMLTableElement")?null:n,i=h.default(this.table.rows),this.cells=i.map(function(){return[]}),i.forEach(function(n,i){var s,u,e,o,f;for(t.trs[i%2]=n,s=0,u=0;s<n.cells.length;s++){for(;t.cells[i][u];u++);for(e=n.cells[s],e==r&&(t.col=u,t.row=i),o=0;o<e.colSpan;o++,u++)for(f=0;f<e.rowSpan;f++)t.cells[i+f][u]={td:o+f==0?e:null,spanLeft:o>0,spanAbove:f>0}}}))}return n.prototype.writeBack=function(){var n=this;this.cells?(o(this.table),this.cells.forEach(function(t,i){var u=r(n.trs[i%2]||n.trs[0]);n.table.appendChild(u);t.forEach(function(t,r){t.td&&(n.recalcSpans(i,r),u.appendChild(t.td))})})):this.table&&this.table.parentNode.removeChild(this.table)},n.prototype.applyFormat=function(n){n&&this.table&&(this.table.style.borderCollapse="collapse",this.trs[0].style.backgroundColor=n.bgColorOdd||"transparent",this.trs[1]&&(this.trs[1].style.backgroundColor=n.bgColorEven||"transparent"),this.cells.forEach(function(t){return t.filter(function(n){return n.td}).forEach(function(t){t.td.style.borderTop=f(n.topBorderColor);t.td.style.borderBottom=f(n.bottomBorderColor);t.td.style.borderLeft=f(n.verticalBorderColor);t.td.style.borderRight=f(n.verticalBorderColor)})}))},n.prototype.edit=function(n){var t=this,h,i,a,v,y,e,p,c,w,s,f,b,l,k;if(this.table){h=this.cells[this.row];i=h[this.col];switch(n){case 0:this.cells.splice(this.row,0,h.map(u));break;case 1:a=this.row+this.countSpanAbove(this.row,this.col);this.cells.splice(a,0,this.cells[a-1].map(function(n,i){var e=t.getCell(a,i),f;return e.spanAbove?u(e):n.spanLeft?(f=u(n),f.spanAbove=!1,f):{td:r(t.getTd(t.row,i))}}));break;case 2:this.forEachCellOfCurrentColumn(function(n,i){i.splice(t.col,0,u(n))});break;case 3:v=this.col+this.countSpanLeft(this.row,this.col);this.forEachCellOfColumn(v-1,function(n,i,f){var o=t.getCell(f,v),e;o.spanLeft?e=u(o):n.spanAbove?(e=u(n),e.spanLeft=!1):e={td:r(t.getTd(f,t.col))};i.splice(v,0,e)});break;case 6:this.forEachCellOfCurrentRow(function(n,i){var r=t.getCell(t.row+1,i);n.td&&n.td.rowSpan>1&&r.spanAbove&&(r.td=n.td)});this.cells.splice(this.row,1);break;case 5:this.forEachCellOfCurrentColumn(function(n,i,r){var u=t.getCell(r,t.col+1);n.td&&n.td.colSpan>1&&u.spanLeft&&(u.td=n.td);i.splice(t.col,1)});break;case 7:case 8:for(y=n==7?-1:1,e=this.row+y;e>=0&&e<this.cells.length;e+=y)if(f=this.getCell(e,this.col),f.td&&!f.spanAbove){p=e<this.row?f:i;c=e<this.row?i:f;p.td.colSpan==c.td.colSpan&&(o(c.td,p.td),c.td=null,c.spanAbove=!0);break}break;case 9:case 10:for(w=n==9?-1:1,s=this.col+w;s>=0&&s<this.cells[this.row].length;s+=w)if(f=this.getCell(this.row,s),f.td&&!f.spanLeft){b=s<this.col?f:i;l=s<this.col?i:f;b.td.rowSpan==l.td.rowSpan&&(o(l.td,b.td),l.td=null,l.spanLeft=!0);break}break;case 4:this.cells=null;break;case 12:i.td.rowSpan>1?this.getCell(this.row+1,this.col).td=r(i.td):(k=h.map(function(n){return{td:n==i?r(n.td):null,spanAbove:n!=i,spanLeft:n.spanLeft}}),this.cells.splice(this.row+1,0,k));break;case 11:i.td.colSpan>1?this.getCell(this.row,this.col+1).td=r(i.td):this.forEachCellOfCurrentColumn(function(n,i){i.splice(t.col+1,0,{td:i==h?r(n.td):null,spanAbove:n.spanAbove,spanLeft:i!=h})})}}},n.prototype.forEachCellOfCurrentColumn=function(n){this.forEachCellOfColumn(this.col,n)},n.prototype.getCellsWithBorder=function(n,t){for(var c,u,r,f,l,i=[],e=0,o=t?-1:Number.MAX_SAFE_INTEGER,h=0;h<this.cells.length;h++)for(c=0;c<this.cells[h].length;c++)if(u=this.getCell(h,c),u.td)if(r=s.default(u.td.getBoundingClientRect()),f=!1,t){if(r.right==n)f=!0,r.left>o&&(o=r.left,e=i.length),u.td.setAttribute("originalLeftBorder",r.left.toString()),i.push(u.td);else if(f)break}else if(r.left==n)f=!0,r.right<o&&(o=r.right,e=i.length),u.td.setAttribute("originalRightBorder",r.right.toString()),i.push(u.td);else if(f)break;return i.length>0&&(l=i[0],i[0]=i[e],i[e]=l),i},n.prototype.forEachCellOfCurrentRow=function(n){this.forEachCellOfRow(this.row,n)},n.prototype.getCell=function(n,t){return this.cells&&this.cells[n]&&this.cells[n][t]||{}},n.prototype.getCurrentTd=function(){return this.getTd(this.row,this.col)},n.prototype.getTd=function(n,t){if(this.cells&&(n=Math.min(this.cells.length-1,n),t=this.cells[n]?Math.min(this.cells[n].length-1,t):t,!isNaN(n)&&!isNaN(t)))while(n>=0&&t>=0){var i=this.getCell(n,t);if(i.td)return i.td;if(i.spanLeft)t--;else if(i.spanAbove)n--;else break}return null},n.prototype.forEachCellOfColumn=function(n,t){for(var i=0;i<this.cells.length;i++)t(this.getCell(i,n),this.cells[i],i)},n.prototype.forEachCellOfRow=function(n,t){for(var i=0;i<this.cells[n].length;i++)t(this.getCell(n,i),i)},n.prototype.recalcSpans=function(n,t){var i=this.getCell(n,t).td;i&&(i.colSpan=this.countSpanLeft(n,t),i.rowSpan=this.countSpanAbove(n,t),i.colSpan==1&&i.removeAttribute("colSpan"),i.rowSpan==1&&i.removeAttribute("rowSpan"))},n.prototype.countSpanLeft=function(n,t){for(var r,u=1,i=t+1;i<this.cells[n].length;i++){if(r=this.getCell(n,i),r.td||!r.spanLeft)break;u++}return u},n.prototype.countSpanAbove=function(n,t){for(var r,u=1,i=n+1;i<this.cells.length;i++){if(r=this.getCell(i,t),r.td||!r.spanAbove)break;u++}return u},n}();t.default=c},"./packages/roosterjs-editor-dom/lib/utils/Browser.ts":function(n,t){function i(n,t){var e=n.indexOf("rv:")!=-1&&n.indexOf("Trident")!=-1,r=n.indexOf("MSIE")!=-1||e,u=!1,f=!1,o=!1,i=!1,s=n.indexOf("WebKit")!=-1,h,c;return r||(u=n.indexOf("Chrome")!=-1,f=n.indexOf("Firefox")!=-1,n.indexOf("Safari")!=-1&&(o=n.indexOf("Chrome")==-1&&n.indexOf("Android")==-1),i=n.indexOf("Edge")!=-1,i&&(s=u=f=!1)),h=t.indexOf("Mac")!=-1,c=t.indexOf("Win")!=-1||t.indexOf("NT")!=-1,{isMac:h,isWin:c,isWebKit:s,isIE:r,isIE11OrGreater:e,isSafari:o,isChrome:u,isFirefox:f,isEdge:i,isIEOrEdge:r||i}}Object.defineProperty(t,"__esModule",{value:!0});t.getBrowserInfo=i;t.Browser=window?i(window.navigator.userAgent,window.navigator.appVersion):{}},"./packages/roosterjs-editor-dom/lib/utils/applyFormat.ts":function(n,t){function i(n,t,i){if(t){var f=n.style,e=t.fontFamily,o=t.fontSize,s=t.textColor,r=t.textColors,h=t.backgroundColor,u=t.backgroundColors,c=t.bold,l=t.italic,a=t.underline;e&&(f.fontFamily=e);o&&(f.fontSize=o);(s||r)&&(f.color=(i?r===null||r===void 0?void 0:r.darkModeColor:r===null||r===void 0?void 0:r.lightModeColor)||s,r&&i&&(n.dataset.ogsc=r.lightModeColor));(h||u)&&(f.backgroundColor=(i?u===null||u===void 0?void 0:u.darkModeColor:u===null||u===void 0?void 0:u.lightModeColor)||h,u&&i&&(n.dataset.ogsb=u.lightModeColor));c&&(f.fontWeight="bold");l&&(f.fontStyle="italic");a&&(f.textDecoration="underline")}}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/utils/applyTextStyle.ts":function(n,t,i){function l(n,t,i,l){var a,y;for(i===void 0&&(i=new u.default(n,0).normalize()),l===void 0&&(l=new u.default(n,-1).normalize()),a=[];i&&l&&l.isAfter(i);){var v=i.node,w=r.default(v.parentNode),p=s.getNextLeafSibling(n,v);v.nodeType==3&&["TR","TABLE"].indexOf(w)<0&&(v!=l.node||l.isAtEnd||(v=f.default(v,l.offset,!0)),i.offset>0&&(v=f.default(v,i.offset,!1)),a.push(v));i=p&&new u.default(p,0)}a.length>0&&(a.every(function(n){return n.parentNode==a[0].parentNode})&&(y=a.shift(),a.forEach(function(n){y.nodeValue+=n.nodeValue;n.parentNode.removeChild(n)}),a=[y]),a.forEach(function(n){while(r.default(n)!="SPAN"&&c.indexOf(r.default(n.parentNode))>=0)e(n,t),n=h.splitBalancedNodeRange(n);r.default(n)!="SPAN"&&(e(n,t),n=o.default(n,"SPAN"));t(n)}))}function e(n,t){n&&n.nodeType==1&&t(n,!0)}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),u=i("./packages/roosterjs-editor-dom/lib/selection/Position.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/splitTextNode.ts"),o=i("./packages/roosterjs-editor-dom/lib/utils/wrap.ts"),s=i("./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts"),h=i("./packages/roosterjs-editor-dom/lib/utils/splitParentNode.ts"),c="SPAN,B,I,U,EM,STRONG,STRIKE,S,SMALL".split(",");t.default=l},"./packages/roosterjs-editor-dom/lib/utils/arrayPush.ts":function(n,t){function i(n,t){Array.prototype.push.apply(n,t)}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/utils/changeElementTag.ts":function(n,t,i){function f(n,t){var e,i,f,o;if(!n||!t)return null;for(i=n.ownerDocument.createElement(t),f=0;f<n.attributes.length;f++)o=n.attributes[f],i.setAttribute(o.name,o.value);while(n.firstChild)i.appendChild(n.firstChild);return(r.default(n)=="P"||r.default(i)=="P")&&(e=u.default(n,["margin-top","margin-bottom",]),i.style.marginTop=e[0],i.style.marginBottom=e[1]),n.parentNode&&n.parentNode.replaceChild(i,n),i}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/utils/getComputedStyles.ts"),r=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts");t.default=f},"./packages/roosterjs-editor-dom/lib/utils/collapseNodes.ts":function(n,t,i){function o(n,t,i,f){if(!r.default(n,t)||!r.default(n,i))return[];if(t=u(n,t,i,!0,f),i=u(n,i,t,!1,f),r.default(t,i,!0))return[t];if(r.default(i,t))return[i];if(t.parentNode==i.parentNode){var o=e.default(t.parentNode.childNodes),s=o.indexOf(t),h=o.indexOf(i);return o.slice(s,h+1)}return[t,i]}function u(n,t,i,u,e){while(t.parentNode!=n&&!r.default(t.parentNode,i)){if(u&&t.previousSibling||!u&&t.nextSibling){if(!e)break;f.default(t,u)}t=t.parentNode}return t}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/contains.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/splitParentNode.ts"),e=i("./packages/roosterjs-editor-dom/lib/utils/toArray.ts");t.default=o;t.collapse=u},"./packages/roosterjs-editor-dom/lib/utils/contains.ts":function(n,t,i){function u(n,t,i){return!n||!t?!1:i&&n==t?!0:(r.default(t,"Range")&&(t=t&&t.commonAncestorContainer,i=!0),t&&t.nodeType==3&&(t=t.parentNode,i=!0),n.nodeType!=1&&n.nodeType!=11)?!!i&&n==t:!!(i||n!=t)&&f(n,t)}function f(n,t){if(n.contains)return n.contains(t);while(t){if(t==n)return!0;t=t.parentNode}return!1}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");t.default=u},"./packages/roosterjs-editor-dom/lib/utils/extractClipboardEvent.ts":function(n,t,i){function l(n,t,i){var p,l=n.clipboardData||n.target.ownerDocument.defaultView.clipboardData,s={types:l.types?e.default(l.types):[],text:l.getData("text"),image:a(l),rawHtml:undefined,customValues:{}},f=[],w,b,y;if(n.clipboardData&&n.clipboardData.items)for(n.preventDefault(),s.rawHtml=null,w=n.clipboardData.items,b=function(n){var t=w[n],e;switch(t.type){case h:f.push({promise:u(t),callback:function(n){s.rawHtml=o.Browser.isEdge?v(n):n}});break;case c:(i===null||i===void 0?void 0:i.allowLinkPreview)&&f.push({promise:u(t),callback:function(n){try{s.linkPreview=JSON.parse(n)}catch(t){}}});break;default:t.type.indexOf(r)==0&&(e=t.type.substr(r.length),((p=i===null||i===void 0?void 0:i.allowedCustomPasteType)===null||p===void 0?void 0:p.indexOf(e))>=0&&f.push({promise:u(t),callback:function(n){return s.customValues[e]=n}}))}},y=0;y<w.length;y++)b(y);Promise.all(f.map(function(n){return n.promise})).then(function(n){for(var i=0;i<f.length;i++)f[i].callback(n[i]);t(s)})}function a(n){for(var i,r,u=n.items?n.items.length:0,t=0;t<u;t++)if(i=n.items[t],i.type&&i.type.indexOf(f)==0)return i.getAsFile();for(u=n.files?n.files.length:0,t=0;t<u;t++)if(r=n.files.item(t),r.type&&r.type.indexOf(f)==0)return r;return null}function v(n){var t=s.exec(n),i,r;return t&&t.length==3&&(i=parseInt(t[1]),r=parseInt(t[2]),i>0&&r>i&&(n=n.substring(i,r))),n}function u(n){return new Promise(function(t){n.getAsString(function(n){t(n)})})}Object.defineProperty(t,"__esModule",{value:!0});var e=i("./packages/roosterjs-editor-dom/lib/utils/toArray.ts"),o=i("./packages/roosterjs-editor-dom/lib/utils/Browser.ts"),s=/^Version:[0-9\.]+\s+StartHTML:\s*([0-9]+)\s+EndHTML:\s*([0-9]+)\s+/i,r="text/",f="image/",h=r+"html",c=r+"link-preview";t.default=l},"./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts":function(n,t,i){function u(n,t,i){n=n?n.nodeType==1?n:n.parentNode:null;var u=n&&n.nodeType==1?n:null;if(u&&i)if(u.closest)u=u.closest(i);else while(u&&u!=t&&!(u.matches||u.msMatchesSelector).call(u,i))u=u.parentElement;return!t||r.default(t,u)?u:null}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/contains.ts");t.default=u},"./packages/roosterjs-editor-dom/lib/utils/fromHtml.ts":function(n,t,i){function u(n,t){var i=t.createElement("DIV");return i.innerHTML=n,r.default(i.childNodes)}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/toArray.ts");t.default=u},"./packages/roosterjs-editor-dom/lib/utils/getComputedStyles.ts":function(n,t,i){function r(n,t){var r,o,l,s,f,h,c,i;if(t===void 0&&(t=["font-family","font-size","color","background-color"]),r=u.default(n),o=[],t=Array.isArray(t)?t:[t],r&&(l=r.ownerDocument.defaultView||window,s=l.getComputedStyle(r),s))for(f=0,h=t;f<h.length;f++)c=h[f],i=(s.getPropertyValue(c)||"").toLowerCase(),i=c=="font-size"?e(i):i,o.push(i);return o}function f(n,t){return r(n,t)[0]||""}function e(n){return n&&n.indexOf("px")==n.length-2?Math.round(parseFloat(n)*75+.05)/100+"pt":n}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts");t.default=r;t.getComputedStyle=f},"./packages/roosterjs-editor-dom/lib/utils/getInnerHTML.ts":function(n,t,i){function u(n){if(r.default(n,"HTMLElement"))return n.innerHTML;if(n){var t=n.ownerDocument.createElement("span");return t.appendChild(n.cloneNode(!0)),t.innerHTML}return""}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");t.default=u},"./packages/roosterjs-editor-dom/lib/utils/getLeafNode.ts":function(n,t,i){function r(n,t){for(var r=function(n){return t?n.firstChild:n.lastChild},i=r(n);i&&r(i);)i=r(i);return i&&u.default(i)&&(i=f.getLeafSibling(n,i,t)),i}function e(n){return r(n,!0)}function o(n){return r(n,!1)}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/utils/shouldSkipNode.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts");t.getFirstLeafNode=e;t.getLastLeafNode=o},"./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts":function(n,t,i){function r(n,t,i,r,o){var l=null,a=i?function(n){return n.nextSibling}:function(n){return n.previousSibling},v=i?function(n){return n.firstChild}:function(n){return n.lastChild},s,c,h;if(u.default(n,t))for(s=t,c=!0;c;){for(h=s.parentNode,s=a(s);!s&&h!=n;)s=a(h),h=h.parentNode;while(s&&(!r||r.indexOf(f.default(s))<0)&&v(s))s=v(s);if(c=s&&e.default(s,o),!c){l=s;break}}return l}function o(n,t,i){return r(n,t,!0,i)}function s(n,t,i){return r(n,t,!1,i)}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/utils/contains.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),e=i("./packages/roosterjs-editor-dom/lib/utils/shouldSkipNode.ts");t.getLeafSibling=r;t.getNextLeafSibling=o;t.getPreviousLeafSibling=s},"./packages/roosterjs-editor-dom/lib/utils/getPendableFormatState.ts":function(n,t){function i(n){var i=Object.keys(t.PendableFormatCommandMap);return i.reduce(function(i,r){return i[r]=n.queryCommandState(t.PendableFormatCommandMap[r]),i},{})}Object.defineProperty(t,"__esModule",{value:!0});t.PendableFormatCommandMap={isBold:"bold",isItalic:"italic",isUnderline:"underline",isStrikeThrough:"strikeThrough",isSubscript:"subscript",isSuperscript:"superscript"};t.default=i},"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts":function(n,t){function i(n){return n&&n.nodeType==1?n.tagName.toUpperCase():""}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/utils/getTextContent.ts":function(n,t,i){function u(n){for(var t=r.default.createBodyTraverser(n),i=t&&t.currentBlockElement,u=[];i;)u.push(i.getTextContent()),i=t.getNextBlockElement();return u.join("\n")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/contentTraverser/ContentTraverser.ts");t.default=u},"./packages/roosterjs-editor-dom/lib/utils/isBlockElement.ts":function(n,t,i){function e(n){var t=r.default(n);return!!(t&&(f.indexOf(n.style.display)>=0||u.indexOf(t)>=0))}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),u="ADDRESS,ARTICLE,ASIDE,BLOCKQUOTE,CANVAS,DD,DIV,DL,DT,FIELDSET,FIGCAPTION,FIGURE,FOOTER,FORM,H1,H2,H3,H4,H5,H6,HEADER,HR,LI,MAIN,NAV,NOSCRIPT,OL,OUTPUT,P,PRE,SECTION,TABLE,TD,TH,TFOOT,UL,VIDEO".split(","),f=["block","list-item","table-cell"];t.default=e},"./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts":function(n,t){function i(n,t){return!!(n&&t&&(t.compareDocumentPosition(n)&4)==4)}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/utils/isNodeEmpty.ts":function(n,t,i){function s(n,t){if(n){if(n.nodeType==3)return r(n.nodeValue,t)=="";if(n.nodeType==1){var i=n,o=r(i.textContent,t);if(o!=""||f.indexOf(u.default(i))>=0||i.querySelectorAll(e)[0])return!1}}else return!1;return!0}function r(n,t){return n=n.replace(o,""),t?n.trim():n}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),f=["IMG"],e="TABLE,IMG,LI",o=/\u200b/g;t.default=s},"./packages/roosterjs-editor-dom/lib/utils/isVoidHtmlElement.ts":function(n,t,i){function f(n){return!!n&&u.indexOf(r.default(n))>=0}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),u="AREA,BASE,BR,COL,COMMAND,EMBED,HR,IMG,INPUT,KEYGEN,LINK,META,PARAM,SOURCE,TRACK,WBR".split(",");t.default=f},"./packages/roosterjs-editor-dom/lib/utils/matchLink.ts":function(n,t){function s(n){var i,r;if(n)for(i=0,r=Object.keys(f);i<r.length;i++){var u=r[i],t=f[u],e=n.match(t.match);if(e&&e[0]==n&&(!t.except||!t.except.test(n)))return{scheme:u,originalUrl:n,normalizedUrl:t.normalizeUrl?t.normalizeUrl(n):n}}return null}Object.defineProperty(t,"__esModule",{value:!0});var r=/^[^?]+%[^0-9a-f]+|^[^?]+%[0-9a-f][^0-9a-f]+|^[^?]+%00|^[^?]+%$|^https?:\/\/[^?\/]+@|^www\.[^?\/]+@/i,u="[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",e="(?:"+u+"\\.)*"+u,o=e+"(?:\\:[0-9]+)?",i=o+"(?:[\\/\\?]\\S*)?",f={http:{match:new RegExp("^(?:microsoft-edge:)?http:\\/\\/"+i+"|www\\."+i,"i"),except:r,normalizeUrl:function(n){return new RegExp("^(?:microsoft-edge:)?http:\\/\\/","i").test(n)?n:"http://"+n}},https:{match:new RegExp("^(?:microsoft-edge:)?https:\\/\\/"+i,"i"),except:r},mailto:{match:new RegExp("^mailto:\\S+@\\S+\\.\\S+","i")},notes:{match:new RegExp("^notes:\\/\\/\\S+","i")},file:{match:new RegExp("^file:\\/\\/\\/?\\S+","i")},unc:{match:new RegExp("^\\\\\\\\\\S+","i")},ftp:{match:new RegExp("^ftp:\\/\\/"+i+"|ftp\\."+i,"i"),normalizeUrl:function(n){return new RegExp("^ftp:\\/\\/","i").test(n)?n:"ftp://"+n}},news:{match:new RegExp("^news:(\\/\\/)?"+i,"i")},telnet:{match:new RegExp("^telnet:(\\/\\/)?"+i,"i")},gopher:{match:new RegExp("^gopher:\\/\\/"+i,"i")},wais:{match:new RegExp("^wais:(\\/\\/)?"+i,"i")}};t.default=s},"./packages/roosterjs-editor-dom/lib/utils/normalizeRect.ts":function(n,t){function i(n){var t=n||{left:0,right:0,top:0,bottom:0},i=t.left,r=t.right,u=t.top,f=t.bottom;return i+r+u+f>0?{left:Math.round(i),right:Math.round(r),top:Math.round(u),bottom:Math.round(f)}:null}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/utils/queryElements.ts":function(n,t,i){function f(n,t,i,r,f){var h,l;if(r===void 0&&(r=0),!n||!t)return[];if(h=u.default(n.querySelectorAll(t)),r!=0&&f){var o=f.startContainer,a=f.startOffset,s=f.endContainer,c=f.endOffset;o.nodeType==1&&o.firstChild&&(l=o.childNodes[a],o=l||o.lastChild);s=s.nodeType==1&&s.firstChild&&c>0?s.childNodes[c-1]:s;h=h.filter(function(n){return e(n,o,s,r==2)})}return i&&h.forEach(i),h}function e(n,t,i,u){var o=n.compareDocumentPosition(t),f=n.compareDocumentPosition(i),e=[0,8];return u||e.push(16),r(o,e)||r(f,e)||r(o,[2])&&r(f,[4])&&!r(f,[16])}function r(n,t){return t.some(function(t){return t==0?n==0:(n&t)==t})}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/utils/toArray.ts");t.default=f},"./packages/roosterjs-editor-dom/lib/utils/readFile.ts":function(n,t){function i(n,t){if(n&&t){var i=new FileReader;i.onload=function(){t(i.result)};i.onerror=function(){t(null)};i.readAsDataURL(n)}}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts":function(n,t){function i(n){var t=n&&(n.commonAncestorContainer||n),i=t&&(t.ownerDocument||(Object.prototype.toString.apply(t)=="[object HTMLDocument]"?t:null));return i&&(i.defaultView||window)}function r(n,t){var r=i(n),u=r&&r[t],f=window,e=f&&f[t];return e&&n instanceof e||u&&n instanceof u}Object.defineProperty(t,"__esModule",{value:!0});t.getTargetWindow=i;t.default=r},"./packages/roosterjs-editor-dom/lib/utils/shouldSkipNode.ts":function(n,t,i){function r(n,t){var s,i;if(n.nodeType==3)return!n.nodeValue||n.textContent==""||e.test(n.nodeValue)?!0:t&&n.nodeValue.replace(o,"")==""?!0:!1;if(n.nodeType==1){if(f.getComputedStyle(n,"display")=="none")return!0;if(s=u.default(n),s=="DIV"||s=="SPAN"){for(i=n.firstChild;!!i;i=i.nextSibling)if(!r(i,t))return!1;return!0}return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),f=i("./packages/roosterjs-editor-dom/lib/utils/getComputedStyles.ts"),e=/^[\r\n]+$/gm,o=/[\t\r\n\u0020\u200B]/gm;t.default=r},"./packages/roosterjs-editor-dom/lib/utils/splitParentNode.ts":function(n,t,i){function r(n,t){if(!n||!n.parentNode)return null;var r=n.parentNode,i=r.cloneNode(!1);if(i.removeAttribute("id"),t)while(r.firstChild&&r.firstChild!=n)i.appendChild(r.firstChild);else while(n.nextSibling)i.appendChild(n.nextSibling);return i.firstChild&&i.innerHTML!=""?r.parentNode.insertBefore(i,t?r:r.nextSibling):i=null,i}function f(n){var t=Array.isArray(n)?n[0]:n,i=Array.isArray(n)?n[n.length-1]:n,f=t&&i&&t.parentNode==i.parentNode?t.parentNode:null,e;return f&&(u.default(t,i)&&(e=i,i=t,t=e),r(t,!0),r(i,!1)),f}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts");t.default=r;t.splitBalancedNodeRange=f},"./packages/roosterjs-editor-dom/lib/utils/splitTextNode.ts":function(n,t){function i(n,t,i){var r=n.nodeValue.substr(0,t),u=n.nodeValue.substr(t),f=n.ownerDocument.createTextNode(i?r:u);return n.nodeValue=i?u:r,n.parentNode.insertBefore(f,i?n:n.nextSibling),f}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/utils/toArray.ts":function(n,t){function i(n){return[].slice.call(n)}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/utils/unwrap.ts":function(n,t){function i(n){var t=n?n.parentNode:null;if(!t)return null;while(n.firstChild)t.insertBefore(n.firstChild,n);return t.removeChild(n),t}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-dom/lib/utils/wrap.ts":function(n,t,i){function f(n,t){var f,e,i,o,s;if(n=n?r.default(n,"Node")?[n]:n:[],n.length==0||!n[0])return null;for(r.default(t,"HTMLElement")||(f=n[0].ownerDocument,t=t||"div",t=/^\w+$/.test(t)?f.createElement(t):u.default(t,f)[0]),e=n[0].parentNode,e&&e.insertBefore(t,n[0]),i=0,o=n;i<o.length;i++)s=o[i],t.appendChild(s);return t}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/utils/fromHtml.ts"),r=i("./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");t.default=f},"./packages/roosterjs-editor-plugins/lib/ContentEdit.ts":function(n,t,i){function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});r(i("./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/index.ts"))},"./packages/roosterjs-editor-plugins/lib/ContextMenu.ts":function(n,t,i){function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});r(i("./packages/roosterjs-editor-plugins/lib/plugins/ContextMenu/index.ts"))},"./packages/roosterjs-editor-plugins/lib/CustomReplace.ts":function(n,t,i){function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});r(i("./packages/roosterjs-editor-plugins/lib/plugins/CustomReplace/index.ts"))},"./packages/roosterjs-editor-plugins/lib/CutPasteListChain.ts":function(n,t,i){function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});r(i("./packages/roosterjs-editor-plugins/lib/plugins/CutPasteListChain/index.ts"))},"./packages/roosterjs-editor-plugins/lib/HyperLink.ts":function(n,t,i){function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});r(i("./packages/roosterjs-editor-plugins/lib/plugins/HyperLink/index.ts"))},"./packages/roosterjs-editor-plugins/lib/ImageResize.ts":function(n,t,i){function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});r(i("./packages/roosterjs-editor-plugins/lib/plugins/ImageResize/index.ts"))},"./packages/roosterjs-editor-plugins/lib/Paste.ts":function(n,t,i){function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});r(i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/index.ts"))},"./packages/roosterjs-editor-plugins/lib/Picker.ts":function(n,t,i){function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});r(i("./packages/roosterjs-editor-plugins/lib/plugins/Picker/index.ts"))},"./packages/roosterjs-editor-plugins/lib/TableResize.ts":function(n,t,i){function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});r(i("./packages/roosterjs-editor-plugins/lib/plugins/TableResize/index.ts"))},"./packages/roosterjs-editor-plugins/lib/Watermark.ts":function(n,t,i){function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});r(i("./packages/roosterjs-editor-plugins/lib/plugins/Watermark/index.ts"))},"./packages/roosterjs-editor-plugins/lib/index.ts":function(n,t,i){function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});r(i("./packages/roosterjs-editor-plugins/lib/ContentEdit.ts"));r(i("./packages/roosterjs-editor-plugins/lib/ContextMenu.ts"));r(i("./packages/roosterjs-editor-plugins/lib/CustomReplace.ts"));r(i("./packages/roosterjs-editor-plugins/lib/CutPasteListChain.ts"));r(i("./packages/roosterjs-editor-plugins/lib/HyperLink.ts"));r(i("./packages/roosterjs-editor-plugins/lib/ImageResize.ts"));r(i("./packages/roosterjs-editor-plugins/lib/Paste.ts"));r(i("./packages/roosterjs-editor-plugins/lib/Picker.ts"));r(i("./packages/roosterjs-editor-plugins/lib/TableResize.ts"));r(i("./packages/roosterjs-editor-plugins/lib/Watermark.ts"))},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/ContentEdit.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/getAllFeatures.ts"),u=function(){function n(n,t){this.settingsOverride=n;this.additionalFeatures=t}return n.prototype.getName=function(){return"ContentEdit"},n.prototype.initialize=function(n){var t=this,i=[],u=r.default();Object.keys(u).forEach(function(n){var r=u[n],f=t.settingsOverride&&t.settingsOverride[n]!==undefined;(f&&t.settingsOverride[n]||!f&&!r.defaultDisabled)&&i.push(r)});i.concat(this.additionalFeatures||[]).forEach(function(t){return n.addContentEditFeature(t)})},n.prototype.dispose=function(){},n}();t.default=u},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/autoLinkFeatures.ts":function(n,t,i){function f(n,t){return n.eventType==0||n.eventType==7&&n.source=="Paste"?r.cacheGetEventData(n,"LINK_DATA",function(){var h=n.eventType==7&&n.source=="Paste"&&n.data,f=r.matchLink((h.text||"").trim()),s=t.getContentSearcherOfCursor(n),u;if(f&&s.getRangeFromText(f.originalUrl,!1))return f;if(u=s&&s.getWordBefore(),u&&u.length>o){var c=u.match(e),l=(c||[])[0]||"",i=u.substring(0,u.length-l.length);return["()","{}","[]"].forEach(function(n){i[i.length-1]==n[1]&&i.indexOf(n[0])<0&&(i=i.substr(0,i.length-1))}),r.matchLink(i)}return null}):null}function c(n,t){var i=t.getContentSearcherOfCursor(n),u=i.getInlineElementBefore();return u instanceof r.LinkInlineElement}function l(n,t){var i=t.getDocument().createElement("a"),e=f(n,t),o=t.getContentSearcherOfCursor();i.textContent=e.originalUrl;i.href=e.normalizedUrl;t.runAsync(function(t){t.addUndoSnapshot(function(){return u.replaceWithNode(t,e.originalUrl,i,!1,o),r.clearEventDataCache(n),i},"AutoLink",!0)})}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-api/lib/index.ts"),r=i("./packages/roosterjs-editor-dom/lib/index.ts"),e=/[.+=\s:;"',>]+$/i,o=5,s={keys:[13,32,257],shouldHandleEvent:f,handleEvent:l},h={keys:[8],shouldHandleEvent:c,handleEvent:function(n,t){n.rawEvent.preventDefault();u.removeLink(t)},defaultDisabled:!0};t.AutoLinkFeatures={autoLink:s,unlinkWhenBackspaceAfterLink:h}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/cursorFeatures.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u={keys:[37,39],allowFunctionKeys:!0,shouldHandleEvent:function(n,t,i){var u,f,e,o;return!i||!(u=t.getSelectionRange())||!u.collapsed||!(f=r.Position.getStart(u))||!t.isPositionAtBeginning(f)?!1:(e=r.getComputedStyle(f.element,"direction")=="rtl",o=n.rawEvent,!e&&o.which==37||e&&o.which==39)},handleEvent:function(n){n.rawEvent.preventDefault()},defaultDisabled:!r.Browser.isChrome};t.CursorFeatures={noCycleCursorMove:u}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/entityFeatures.ts":function(n,t,i){function f(n,t,i){var u=r.cacheGetEventData(n,"READONLY_ENTITY_ELEMENT",function(){var u=n.rawEvent.target,i=u&&t.getElementAtCursor(r.getEntitySelector(),u);return i&&!i.isContentEditable?i:null});return u&&i!==undefined&&t.triggerPluginEvent(15,{operation:i,rawEvent:n.rawEvent,entity:r.getEntityFromElement(u)}),u}function u(n,t,i,u,f){var e=r.cacheGetEventData(n,"NEIGHBOR_ENTITY_ELEMENT_"+i+"_"+u,function(){var s=t.getSelectionRange(),o;if(u&&!s.collapsed)return null;var n=r.Position.getEnd(s).normalize(),l=n.offset==0||n.isAtEnd,h=null;if(l){var f=t.getBodyTraverser(n.node),c=i?n.offset==0?f.currentInlineElement:f.getNextInlineElement():n.isAtEnd?f.currentInlineElement:f.getPreviousInlineElement(),e=c&&c.getContainerNode();u||(o=t.getBlockElementAtNode(n.node),o&&o.contains(e)||(e=null));h=e&&t.getElementAtCursor(r.getEntitySelector(),e)}return h});return e&&f!==undefined&&t.triggerPluginEvent(15,{operation:f,rawEvent:n.rawEvent,entity:r.getEntityFromElement(e)}),e}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),e={keys:[13],shouldHandleEvent:function(n,t){return f(n,t)},handleEvent:function(n,t){f(n,t,1)}},o={keys:[27],shouldHandleEvent:function(n,t){return f(n,t)},handleEvent:function(n,t){f(n,t,3)}};var s={keys:[13],shouldHandleEvent:function(n,t){return u(n,t,!0,!1)},handleEvent:function(n,t){var i,e,o;n.rawEvent.preventDefault();var s=t.getSelectionRange(),u=r.Position.getEnd(s).normalize().node,f=t.getDocument().createElement("BR");u.parentNode.insertBefore(f,u.nextSibling);e=t.getBlockElementAtNode(u);e&&(o=e.collapseToSingleElement(),(i=f.parentNode)===null||i===void 0?void 0:i.removeChild(f));t.getSelectionRange().deleteContents();o.nextSibling&&t.select(o.nextSibling,0)}},h={keys:[8],shouldHandleEvent:function(n,t){return u(n,t,!1,!0)},handleEvent:function(n,t){u(n,t,!1,!0,5)}},c={keys:[46],shouldHandleEvent:function(n,t){return u(n,t,!0,!0)},handleEvent:function(n,t){u(n,t,!0,!0,4)}};t.EntityFeatures={clickOnEntity:e,escapeFromEntity:o,enterBeforeReadonlyEntity:s,backspaceAfterEntity:h,deleteBeforeEntity:c}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/listFeatures.ts":function(n,t,i){function s(n){return u.VListChain.createListChains(n.getSelectedRegions())}function e(n,t){var i,r;t.deleteContents();i=t.startContainer;(i===null||i===void 0?void 0:i.nodeType)!=3||i.nodeValue!=""||i.nextSibling||(r=n.getDocument().createElement("BR"),n.insertNode(r),n.select(r,-2))}function o(n,t){var e=f(n,t),o,i;e&&(o=e[0],i=u.getTagOfNode(o),i=="UL"?r.toggleBullet(t):i=="OL"&&r.toggleNumbering(t),t.focus(),n.rawEvent.preventDefault())}function f(n,t){var i=t.getElementAtCursor("LI,TABLE",null,n),r=i&&u.getTagOfNode(i)=="LI"&&t.getElementAtCursor("UL,OL",i);return r?[r,i]:null}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/index.ts"),u=i("./packages/roosterjs-editor-dom/lib/index.ts"),h={keys:[9],shouldHandleEvent:function(n,t){return!n.rawEvent.shiftKey&&f(n,t)},handleEvent:function(n,t){r.setIndentation(t,0);n.rawEvent.preventDefault()}},c={keys:[9],shouldHandleEvent:function(n,t){return n.rawEvent.shiftKey&&f(n,t)},handleEvent:function(n,t){r.setIndentation(t,1);n.rawEvent.preventDefault()}},l={keys:[8],shouldHandleEvent:function(n,t){var r=t.getElementAtCursor("LI",null,n),i=t.getSelectionRange();return r&&(i===null||i===void 0?void 0:i.collapsed)&&u.isPositionAtBeginningOf(u.Position.getStart(i),r)},handleEvent:function(n,t){var u=t.getElementAtCursor("LI",null,n),i;u.previousSibling?(i=s(t),t.runAsync(function(n){var t=n.getDocument().createElement("BR");n.insertNode(t);n.select(t,-3);r.experimentCommitListChains(n,i)})):o(n,t)},defaultDisabled:!0},a={keys:[8],shouldHandleEvent:function(n,t){var i=t.getElementAtCursor("LI",null,n);return i&&u.isNodeEmpty(i)&&!i.previousSibling},handleEvent:o},v={keys:[13],shouldHandleEvent:function(n,t){var i=t.getElementAtCursor("LI",null,n);return!n.rawEvent.shiftKey&&i&&u.isNodeEmpty(i)},handleEvent:function(n,t){t.addUndoSnapshot(function(){return o(n,t)},null,!0)},defaultDisabled:!u.Browser.isIE&&!u.Browser.isChrome},y={keys:[32],shouldHandleEvent:function(n,t){if(!f(n,t)){var i=t.getContentSearcherOfCursor(n),r=i.getSubStringBefore(4);return/^(\*|-|[0-9]{1,2}\.)$/.test(r)&&!i.getNearestNonTextInlineElement()}return!1},handleEvent:function(n,t){t.runAsync(function(n){n.addUndoSnapshot(function(){var u,f=n.getContentSearcherOfCursor(),t=f.getSubStringBefore(4),i=f.getRangeFromText(t,!0),o;i&&(t.indexOf("*")==0||t.indexOf("-")==0?(e(n,i),r.toggleBullet(n)):t.indexOf("1.")==0?(e(n,i),r.toggleNumbering(n)):(u=n.getSelectedRegions())&&u.length==1&&(o=parseInt(t),e(n,i),r.toggleNumbering(n,o)))},null,!0)})}},p={keys:[13,9,46,8,258],shouldHandleEvent:function(n,t){return t.queryElements("li",1).length>0},handleEvent:function(n,t){var i=s(t);t.runAsync(function(n){return r.experimentCommitListChains(n,i)})}};t.ListFeatures={autoBullet:y,indentWhenTab:h,outdentWhenShiftTab:c,outdentWhenBackspaceOnEmptyFirstLine:a,outdentWhenEnterOnEmptyLine:v,mergeInNewLineWhenBackspaceOnFirstChar:l,maintainListChain:p}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/markdownFeatures.ts":function(n,t,i){function r(n,t,i,r){return{keys:[n],shouldHandleEvent:function(n,i){return n.rawEvent.shiftKey===r&&!!e(n,i,t)},handleEvent:function(n,r){r.runAsync(function(r){o(n,r,t,i)})}}}function e(n,t,i){return u.cacheGetEventData(n,"MARKDOWN_RANGE",function(){var e=t.getContentSearcherOfCursor(n),r,f;return e.forEachTextInlineElement(function(n){var t,u;if(f&&r)return!0;if((t=n.getTextContent(),t[t.length-1].trim().length==0)||t[t.length-1]===i)return!1;if(f||(f=n.getStartPosition().move(t.length)),t[0]==i)r=n.getStartPosition();else for(u=t.length-1;u>0;u--){if(r)return!0;if(t[u]==i&&t[u-1].trim().length==0)return r=n.getStartPosition().move(u),!0}}),!!r&&!!f&&u.createRange(r,f)})}function o(n,t,i,r){t.addUndoSnapshot(function(){var u=e(n,t,i),o,s,h;!u||(o=u.cloneRange(),o.setStart(o.startContainer,o.startOffset+1),u.setEnd(u.endContainer,u.endOffset+1),s=t.getDocument().createElement(r),s.appendChild(o.extractContents()),u.deleteContents(),h=t.getDocument().createTextNode(f),u.insertNode(h),u.insertNode(s),t.select(h,-1))},"Format",!0)}var u,f;Object.defineProperty(t,"__esModule",{value:!0});u=i("./packages/roosterjs-editor-dom/lib/index.ts");f="​";var s=r(56,"*","b",!0),h=r(189,"_","i",!0),c=r(192,"~","s",!0),l=r(192,"`","code",!1);t.MarkdownFeatures={markdownBold:s,markdownItalic:h,markdownStrikethru:c,markdownInlineCode:l}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/quoteFeatures.ts":function(n,t,i){function f(n,t){return r.cacheGetEventData(n,"QUOTE_CHILD",function(){var i=t.getElementAtCursor(o),f,n,e;return i&&r.getTagOfNode(i)==u&&(f=t.getFocusedPosition(),n=f&&t.getBlockElementAtNode(f.normalize().node),n)?(e=n.getStartNode()==i?n.getStartNode():n.collapseToSingleElement(),r.isNodeEmpty(e)?e:null):null})}function e(n,t){t.addUndoSnapshot(function(){var i=f(n,t),e;r.getTagOfNode(i)==u&&(i=r.wrap(r.toArray(i.childNodes)));e=r.splitBalancedNodeRange(i);r.unwrap(e);t.select(i,0)});n.rawEvent.preventDefault()}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u="BLOCKQUOTE",o=[u,"LI","TD","TH"].join(","),s={keys:[8],shouldHandleEvent:function(n,t){var i=f(n,t);return i&&r.isNodeEmpty(i)&&!i.previousSibling},handleEvent:e},h={keys:[13],shouldHandleEvent:function(n,t){var i=f(n,t),u=n.rawEvent.shiftKey;return!u&&i&&r.isNodeEmpty(i)},handleEvent:function(n,t){return t.addUndoSnapshot(function(){return e(n,t)},null,!0)}};t.QuoteFeatures={unquoteWhenBackspaceOnEmptyFirstLine:s,unquoteWhenEnterOnEmptyLine:h}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/shortcutFeatures.ts":function(n,t,i){function r(n,t,i){return{winKey:n,macKey:t,action:i}}function s(n){return f.cacheGetEventData(n,"DEFAULT_SHORT_COMMAND",function(){var t=n.rawEvent,i=n.eventType==0&&!t.altKey?t.which|(t.metaKey&&8192)|(t.shiftKey&&16384)|(t.ctrlKey&&4096):0;return i&&e.filter(function(n){return(f.Browser.isMac?n.macKey:n.winKey)==i})[0]})}var f,u,e,o;Object.defineProperty(t,"__esModule",{value:!0});f=i("./packages/roosterjs-editor-dom/lib/index.ts");u=i("./packages/roosterjs-editor-api/lib/index.ts");e=[r(4162,8258,u.toggleBold),r(4169,8265,u.toggleItalic),r(4181,8277,u.toggleUnderline),r(4186,8282,function(n){return n.undo()}),r(4185,24666,function(n){return n.redo()}),r(4286,8382,u.toggleBullet),r(4287,8383,u.toggleNumbering),r(20670,24766,function(n){return u.changeFontSize(n,0)}),r(20668,24764,function(n){return u.changeFontSize(n,1)}),];o={allowFunctionKeys:!0,keys:[66,73,85,89,90,188,190,191],shouldHandleEvent:s,handleEvent:function(n,t){var i=s(n);i&&(i.action(t),n.rawEvent.preventDefault(),n.rawEvent.stopPropagation())}};t.ShortcutFeatures={defaultShortcut:o}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/structuredNodeFeatures.ts":function(n,t,i){function f(n,t){return r.cacheGetEventData(n,"FIRST_STRUCTURE",function(){var i=n.rawEvent.shiftKey?null:t.getElementAtCursor(o),f;return i&&(f=t.getSelectionRange(),f&&f.collapsed&&r.isPositionAtBeginningOf(r.Position.getStart(f),i)&&!t.getBodyTraverser(i).getPreviousBlockElement())?t.getElementAtCursor(u[r.getTagOfNode(i)]):null})}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),e=r.Browser.isEdge?"<div><span><br><\/span><\/div>":"<div><br><\/div>",u={TD:"TABLE",TH:"TABLE",LI:"OL,UL"},o=Object.keys(u).join(","),s={keys:[13],shouldHandleEvent:f,handleEvent:function(n,t){var i=f(n,t),u=r.fromHtml(e,t.getDocument())[0];t.addUndoSnapshot(function(){i.parentNode.insertBefore(u,i);r.getTagOfNode(i)=="TABLE"&&t.select(new r.Position(u,0).normalize())});n.rawEvent.preventDefault()},defaultDisabled:!0};t.StructuredNodeFeatures={insertLineBeforeStructuredNodeFeature:s}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/tableFeatures.ts":function(n,t,i){function u(n,t){return r.cacheGetEventData(n,"TABLECELL_FOR_TABLE_FEATURES",function(){var i=t.getFocusedPosition(),n=i&&t.getElementAtCursor("TD,TH,LI",i.node);return n&&(r.getTagOfNode(n)=="LI"?null:n)})}Object.defineProperty(t,"__esModule",{value:!0});var f=i("./packages/roosterjs-editor-api/lib/index.ts"),r=i("./packages/roosterjs-editor-dom/lib/index.ts"),e={keys:[9],shouldHandleEvent:u,handleEvent:function(n,t){for(var h,c=n.rawEvent.shiftKey,l=u(n,t),i=new r.VTable(l),s=c?-1:1,e=i.row,o=i.col+s;;o+=s){if(o<0||o>=i.cells[e].length){if(e+=s,e<0){t.select(i.table,-2);break}else if(e>=i.cells.length){f.editTable(t,1);break}o=c?i.cells[e].length-1:0}if(h=i.getCell(e,o),h.td){t.select(h.td,0);break}}n.rawEvent.preventDefault()}},o={keys:[38,40],shouldHandleEvent:u,handleEvent:function(n,t){var o,s=u(n,t),i=new r.VTable(s),l=n.rawEvent.which==38,y=l?-1:1,p=n.rawEvent.shiftKey,h=(o=t.getDocument().defaultView)===null||o===void 0?void 0:o.getSelection(),c=null,a,v,f,e;if(h){for(a=h.anchorNode,v=h.anchorOffset,f=i.row;f>=0&&f<i.cells.length;f+=y)if(e=i.getCell(f,i.col),e.td&&e.td!=s){c=e.td;break}t.runAsync(function(n){var f,e=n.getElementAtCursor(),t,u;r.contains(i.table,e)&&!r.contains(s,e,!0)&&(t=c?new r.Position(c,0):new r.Position(i.table,l?-2:-3),p?(t=t.node.nodeType==1&&r.isVoidHtmlElement(t.node)?new r.Position(t.node,t.isAtEnd?-3:-2):t,u=(f=n.getDocument().defaultView)===null||f===void 0?void 0:f.getSelection(),u===null||u===void 0?void 0:u.setBaseAndExtent(a,v,t.node,t.offset)):n.select(t))})}},defaultDisabled:!r.Browser.isChrome&&!r.Browser.isSafari};t.TableFeatures={tabInTable:e,upDownInTable:o}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/getAllFeatures.ts":function(n,t,i){function y(){return v}var r=this&&this.__assign||function(){return r=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/autoLinkFeatures.ts"),f=i("./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/cursorFeatures.ts"),e=i("./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/entityFeatures.ts"),o=i("./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/listFeatures.ts"),s=i("./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/markdownFeatures.ts"),h=i("./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/quoteFeatures.ts"),c=i("./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/shortcutFeatures.ts"),l=i("./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/structuredNodeFeatures.ts"),a=i("./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/tableFeatures.ts"),v=r(r(r(r(r(r(r(r(r({},o.ListFeatures),h.QuoteFeatures),a.TableFeatures),l.StructuredNodeFeatures),u.AutoLinkFeatures),c.ShortcutFeatures),f.CursorFeatures),s.MarkdownFeatures),e.EntityFeatures);t.default=y},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/index.ts":function(n,t,i){var r,u;Object.defineProperty(t,"__esModule",{value:!0});r=i("./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/ContentEdit.ts");t.ContentEdit=r.default;u=i("./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/getAllFeatures.ts");t.getAllFeatures=u.default},"./packages/roosterjs-editor-plugins/lib/plugins/ContextMenu/ContextMenu.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u='<div style="position: fixed; width: 0; height: 0"><\/div>',f=function(){function n(n){var t=this;this.options=n;this.onDismiss=function(){var i,n;t.container&&t.isMenuShowing&&((n=(i=t.options).dismiss)===null||n===void 0?void 0:n.call(i,t.container),t.isMenuShowing=!1)}}return n.prototype.getName=function(){return"ContextMenu"},n.prototype.initialize=function(n){this.editor=n},n.prototype.dispose=function(){this.onDismiss();this.container&&(this.container.parentNode.removeChild(this.container),this.container=null);this.editor=null},n.prototype.onPluginEvent=function(n){if(n.eventType==16&&n.items.length>0){var t=n.rawEvent,i=n.items;this.onDismiss();this.options.allowDefaultMenu||t.preventDefault();this.initContainer(t.pageX,t.pageY);this.options.render(this.container,i,this.onDismiss);this.isMenuShowing=!0}},n.prototype.initContainer=function(n,t){this.container||(this.container=r.fromHtml(u,this.editor.getDocument())[0],this.editor.insertNode(this.container,{position:4}));this.container.style.left=n+"px";this.container.style.top=t+"px"},n}();t.default=f},"./packages/roosterjs-editor-plugins/lib/plugins/ContextMenu/index.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-plugins/lib/plugins/ContextMenu/ContextMenu.ts");t.ContextMenu=r.default},"./packages/roosterjs-editor-plugins/lib/plugins/CustomReplace/CustomReplace.ts":function(n,t){function f(n){return Math.max.apply(null,n.map(function(n){return n.sourceString.length}))}function e(n){for(var f,i,r,t=new Set,u=0,e=n;u<e.length;u++)(f=e[u],i=f.sourceString,i.length!=0)&&(r=i[i.length-1],f.matchSourceCaseSensitive?t.add(r):(t.add(r.toLocaleLowerCase()),t.add(r.toLocaleUpperCase())));return t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(n,t,i){return{sourceString:n,replacementHTML:t,matchSourceCaseSensitive:i}},r=[i(":)","🙂",!0),i(";)","😉",!0),i(":O","😲",!0),i(":o","😯",!0),i("<3","❤️",!0),],u=function(){function n(n){n===void 0&&(n=r);this.updateReplacements(n)}return n.prototype.updateReplacements=function(n){this.replacements=n;this.longestReplacementLength=f(this.replacements);this.replacementEndCharacters=e(this.replacements)},n.prototype.getName=function(){return"CustomReplace"},n.prototype.initialize=function(n){this.editor=n},n.prototype.dispose=function(){this.editor=null},n.prototype.onPluginEvent=function(n){var o=this,f,u;if(!this.editor.isInIME()&&n.eventType==3&&n.rawEvent.data&&this.replacementEndCharacters.has(n.rawEvent.data)&&(f=this.editor.getSelectionRange(),f!=null)){var i=this.editor.getContentSearcherOfCursor(n),s=i.getSubStringBefore(this.longestReplacementLength),r=this.getMatchingReplacement(s);if(r!=null){var h=i.getSubStringBefore(r.sourceString.length),e=i.getRangeFromText(h,!0),c=this.editor.getDocument(),t=c.createElement("span");t.innerHTML=r.replacementHTML;u=t.childNodes.length==1?t.childNodes[0]:t;this.editor.addUndoSnapshot(function(){e.deleteContents();e.insertNode(u);o.editor.select(u,-1)},null,!0)}}},n.prototype.getMatchingReplacement=function(n){var u,t,r;if(n.length==0)return null;for(u=n.toLocaleLowerCase(),t=0,r=this.replacements;t<r.length;t++){var i=r[t],f=i.matchSourceCaseSensitive?[n,i.sourceString]:[u,i.sourceString.toLocaleLowerCase()],e=f[0],o=f[1];if(e.substring(e.length-o.length)==o)return i}return null},n}();t.default=u},"./packages/roosterjs-editor-plugins/lib/plugins/CustomReplace/index.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-plugins/lib/plugins/CustomReplace/CustomReplace.ts");t.CustomReplace=r.default},"./packages/roosterjs-editor-plugins/lib/plugins/CutPasteListChain/CutPasteListChain.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-api/lib/index.ts"),u=i("./packages/roosterjs-editor-dom/lib/index.ts"),f=function(){function n(){var n=this;this.onDrop=function(){n.cacheListChains("Drop")}}return n.prototype.getName=function(){return"CutPasteListChain"},n.prototype.initialize=function(n){this.editor=n;this.disposer=this.editor.addDomEventHandler("drop",this.onDrop)},n.prototype.dispose=function(){var n;(n=this.disposer)===null||n===void 0?void 0:n.call(this);this.disposer=null;this.editor=null},n.prototype.onPluginEvent=function(n){var t;switch(n.eventType){case 9:n.isCut&&this.cacheListChains("Cut");break;case 10:this.cacheListChains("Paste");break;case 7:((t=this.chains)===null||t===void 0?void 0:t.length)>0&&this.expectedChangeSource==n.source&&(r.experimentCommitListChains(this.editor,this.chains),this.chains=null,this.expectedChangeSource=null)}},n.prototype.cacheListChains=function(n){this.chains=u.VListChain.createListChains(this.editor.getSelectedRegions());this.expectedChangeSource=n},n}();t.default=f},"./packages/roosterjs-editor-plugins/lib/plugins/CutPasteListChain/index.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-plugins/lib/plugins/CutPasteListChain/CutPasteListChain.ts");t.CutPasteListChain=r.default},"./packages/roosterjs-editor-plugins/lib/plugins/HyperLink/HyperLink.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u=function(){function n(n,t,i){var r=this;n===void 0&&(n=function(n){return n});this.getTooltipCallback=n;this.target=t;this.onLinkClick=i;this.trackedLink=null;this.onMouse=function(n){var t=r.editor.getElementAtCursor("a[href]",n.target),i=r.tryGetHref(t);i&&r.editor.setEditorDomAttribute("title",n.type=="mouseover"?r.getTooltipCallback(i,t):null)};this.onBlur=function(){r.trackedLink&&r.updateLinkHrefIfShouldUpdate();r.resetLinkTracking()}}return n.prototype.getName=function(){return"Hyperlink"},n.prototype.initialize=function(n){this.editor=n;this.disposer=this.getTooltipCallback&&n.addDomEventHandler({mouseover:this.onMouse,mouseout:this.onMouse,blur:this.onBlur})},n.prototype.dispose=function(){this.disposer&&(this.disposer(),this.disposer=null);this.editor=null},n.prototype.onPluginEvent=function(n){var i,t,u,f,e;if(n.eventType!=6&&(n.eventType!=2||this.isContentEditValue(n.rawEvent)&&n.rawEvent.which!=32)&&n.eventType!=7||(t=this.editor.getElementAtCursor("A[href]",null,n),i=t!==this.trackedLink||n.eventType==2||n.eventType==7,this.trackedLink&&(i||this.tryGetHref(this.trackedLink)!==this.originalHref)&&(i&&this.updateLinkHrefIfShouldUpdate(),this.resetLinkTracking()),!this.trackedLink&&this.doesLinkDisplayMatchHref(t)&&(this.trackedLink=t,this.originalHref=this.tryGetHref(t))),n.eventType==6&&(t=this.editor.getElementAtCursor("A",n.rawEvent.srcElement),t)){if(this.onLinkClick&&this.onLinkClick(t,n.rawEvent)!==!1)return;if(u=void 0,!r.Browser.isFirefox&&(u=this.tryGetHref(t))&&r.isCtrlOrMetaPressed(n.rawEvent)&&n.rawEvent.button===0)try{f=this.target||"_blank";e=this.editor.getDocument().defaultView;e.open(u,f)}catch(o){}}},n.prototype.tryGetHref=function(n){try{return n?n.href:null}catch(t){}},n.prototype.isContentEditValue=function(n){return r.isCharacterValue(n)||n.which==8||n.which==46},n.prototype.updateLinkHrefIfShouldUpdate=function(){this.doesLinkDisplayMatchHref(this.trackedLink)||this.updateLinkHref()},n.prototype.resetLinkTracking=function(){this.trackedLink=null;this.originalHref=""},n.prototype.doesLinkDisplayMatchHref=function(n){if(n){var i=n.innerText.trim(),r=i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),u=new RegExp("^(?:https?:\\/\\/)?"+r+"\\/?","i"),t=this.tryGetHref(n);if(t!==null)return u.test(t)}return!1},n.prototype.updateLinkHref=function(){var t=this,n;this.trackedLink&&(n=r.matchLink(this.trackedLink.innerText.trim()),n!==null&&this.editor.addUndoSnapshot(function(){t.trackedLink.href=n.normalizedUrl}))},n}();t.default=u},"./packages/roosterjs-editor-plugins/lib/plugins/HyperLink/index.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-plugins/lib/plugins/HyperLink/HyperLink.ts");t.HyperLink=r.default},"./packages/roosterjs-editor-plugins/lib/plugins/ImageResize/ImageResize.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),s=i("./packages/roosterjs-editor-api/lib/index.ts"),h=46,c=8,l=16,a=17,v=18,u="IMAGE_RESIZE_WRAPPER",f=7,e=3,o=["nw","ne","se","sw"],y=o.concat(["n","e","s","w"]),p=function(){function n(n,t,i,r,u){var f=this;n===void 0&&(n=10);t===void 0&&(t=10);i===void 0&&(i="#DB626C");r===void 0&&(r=!1);u===void 0&&(u="img");this.minWidth=n;this.minHeight=t;this.selectionBorderColor=i;this.forcePreserveRatio=r;this.resizableImageSelector=u;this.startResize=function(n){var t=f.getSelectedImage(),i;f.editor&&t&&(f.startPageX=n.pageX,f.startPageY=n.pageY,f.startWidth=t.clientWidth,f.startHeight=t.clientHeight,f.editor.addUndoSnapshot(),i=f.editor.getDocument(),i.addEventListener("mousemove",f.doResize,!0),i.addEventListener("mouseup",f.finishResize,!0),f.direction=(n.srcElement||n.target).dataset.direction);f.stopEvent(n)};this.doResize=function(n){var r=f.getSelectedImage(),u;if(f.editor&&r){var h=n.pageX-f.startPageX,c=n.pageY-f.startPageY,i=f.calculateNewWidth(h),t=f.calculateNewHeight(c),l=f.isSingleDirectionNS(f.direction)||f.isSingleDirectionWE(f.direction),o=!l&&(f.forcePreserveRatio||n.shiftKey);if(o&&(t=Math.min(t,i*f.startHeight/f.startWidth),i=Math.min(i,t*f.startWidth/f.startHeight),u=f.startWidth>0&&f.startHeight>0?f.startWidth*1/f.startHeight:0,u>0&&(i<t*u?i=t*u:t=i/u)),r.style.width=i+"px",r.style.height=t+"px",o){var u=f.startWidth>0&&f.startHeight>0?f.startWidth*1/f.startHeight:0,s=Math.floor(r.clientWidth),e=Math.floor(r.clientHeight);i=Math.floor(i);t=Math.floor(t);(e!==t||s!==i)&&(e<t?i=e*u:t=s/u,r.style.width=i+"px",r.style.height=t+"px")}}f.stopEvent(n)};this.finishResize=function(n){var t=f.getSelectedImage(),i,r,u;f.editor&&t&&(i=f.editor.getDocument(),i.removeEventListener("mousemove",f.doResize,!0),i.removeEventListener("mouseup",f.finishResize,!0),r=t.clientWidth,u=t.clientHeight,t.style.width=r+"px",t.style.height=u+"px",t.width=r,t.height=u,f.resizeDiv.style.width="",f.resizeDiv.style.height="");f.direction=null;f.editor.addUndoSnapshot();f.editor.triggerContentChangedEvent("ImageResize",t);f.stopEvent(n)};this.stopEvent=function(n){n.stopPropagation();n.preventDefault()};this.removeResizeDiv=function(n){if(n===null||n===void 0?void 0:n.parentNode){var t=n.querySelector("img");return t&&n.parentNode.insertBefore(t,n),n.parentNode.removeChild(n),t}return null};this.onBlur=function(){f.hideResizeHandle()};this.onDragStart=function(n){(n.srcElement||n.target)==f.getSelectedImage()&&f.hideResizeHandle(!0)}}return n.prototype.getName=function(){return"ImageResize"},n.prototype.initialize=function(n){this.editor=n;this.disposer=n.addDomEventHandler({dragstart:this.onDragStart,blur:this.onBlur})},n.prototype.dispose=function(){this.hideResizeHandle();this.disposer();this.disposer=null;this.editor=null},n.prototype.onPluginEvent=function(n){var y=this,f,e,t,o,p,s,i;if(n.eventType==5)this.resizeDiv&&this.hideResizeHandle();else if(n.eventType==6){if(e=n.rawEvent,t=e.srcElement||e.target,r.getTagOfNode(t)=="IMG"&&t.isContentEditable){if(o=t.parentNode,p=o?r.toArray(o.querySelectorAll(this.resizableImageSelector)):[],p.indexOf(t)<0)return;s=this.getSelectedImage();s&&s!=t&&this.hideResizeHandle();this.resizeDiv||this.showResizeHandle(t)}}else n.eventType==0&&this.resizeDiv?(i=n.rawEvent,i.which==h||i.which==c?(this.editor.addUndoSnapshot(function(){y.editor.deleteNode(y.resizeDiv)}),this.resizeDiv=null,i.preventDefault()):i.which!=l&&i.which!=a&&i.which!=v&&this.hideResizeHandle(!0)):n.eventType==7&&n.source!="ImageResize"&&(n.source!="InsertEntity"||((f=n.data)===null||f===void 0?void 0:f.type)!=u)?(this.editor.queryElements(r.getEntitySelector(u),this.removeResizeDiv),this.resizeDiv=null):n.eventType==15&&n.entity.type==u&&(n.operation==8?this.removeResizeDiv(n.entity.wrapper):n.operation==1&&this.stopEvent(n.rawEvent))},n.prototype.showResizeHandle=function(n){this.resizeDiv=this.createResizeDiv(n);this.editor.select(this.resizeDiv,-3)},n.prototype.hideResizeHandle=function(n){if(this.resizeDiv){var i=this.resizeDiv.style.transform,t=this.removeResizeDiv(this.resizeDiv);t&&(t.style.transform=i,n&&this.editor.select(t));this.resizeDiv=null}},n.prototype.calculateNewWidth=function(n){var t=this.startWidth;return this.isSingleDirectionNS(this.direction)||(t=Math.max(this.startWidth+(this.isWest(this.direction)?-n:n),this.minWidth)),t},n.prototype.calculateNewHeight=function(n){var t=this.startHeight;return this.isSingleDirectionWE(this.direction)||(t=Math.max(this.startHeight+(this.isNorth(this.direction)?-n:n),this.minHeight)),t},n.prototype.createResizeDiv=function(n){var t=this,i=s.insertEntity(this.editor,u,n,!1,!0).wrapper,c,h;return i.style.position="relative",i.style.display=r.Browser.isSafari?"inline-block":"inline-flex",c=(this.editor.isFeatureEnabled("SingleDirectionResize")?y:o).map(function(n){return'<div style="position:absolute;'+(t.isWest(n)?"left":"right")+":"+(t.isSingleDirectionNS(n)?"50%":"0px")+";"+(t.isNorth(n)?"top":"bottom")+":"+(t.isSingleDirectionWE(n)?"50%":"0px")+'">\n                            <div id='+n+'-handle data-direction="'+n+'" style="position:relative;width:'+f+"px;height:"+f+"px;background-color: "+t.selectionBorderColor+";cursor: "+n+"-resize;"+(t.isNorth(n)?"top":"bottom")+":-"+e+"px;"+(t.isWest(n)?"left":"right")+":-"+e+'px"><\/div><\/div>'}).join("")+('<div style="position:absolute;left:0;right:0;top:0;bottom:0;border:solid 1px '+this.selectionBorderColor+';pointer-events:none;">'),r.fromHtml(c,this.editor.getDocument()).forEach(function(n){i.appendChild(n);n.addEventListener("mousedown",t.startResize)}),h=this.getSelectedImage(i),h&&h.style&&h.style.transform&&(i.style.transform=h.style.transform,h.style.transform=""),i},n.prototype.getSelectedImage=function(n){var t=n||this.resizeDiv;return t?t.getElementsByTagName("IMG")[0]:null},n.prototype.isNorth=function(n){return n&&n.substr(0,1)=="n"},n.prototype.isWest=function(n){return n&&(n.substr(1,1)=="w"||n=="w")},n.prototype.isSingleDirectionNS=function(n){return n&&(n=="n"||n=="s")},n.prototype.isSingleDirectionWE=function(n){return n&&(n=="w"||n=="e")},n}();t.default=p},"./packages/roosterjs-editor-plugins/lib/plugins/ImageResize/index.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-plugins/lib/plugins/ImageResize/ImageResize.ts");t.ImageResize=r.default},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/Paste.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var e=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/excelConverter/convertPastedContentFromExcel.ts"),o=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/pptConverter/convertPastedContentFromPowerPoint.ts"),s=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/teamsConverter/convertPastedContentFromTeams.ts"),h=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/convertPastedContentFromWord.ts"),c=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/lineMerge/handleLineMerge.ts"),l=i("./packages/roosterjs-editor-dom/lib/index.ts"),a=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/constants.ts"),r=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/convertPastedContentFromWordOnline.ts"),v="xmlns:w",y="urn:schemas-microsoft-com:office:word",p="xmlns:x",w="urn:schemas-microsoft-com:office:excel",u="ProgId",b="Excel.Sheet",k="PowerPoint.Slide",f="google-sheets-html-origin",d=function(){function n(n){n===void 0&&(n="SPAN");this.unknownTagReplacement=n}return n.prototype.getName=function(){return"Paste"},n.prototype.initialize=function(){},n.prototype.dispose=function(){},n.prototype.onPluginEvent=function(n){if(n.eventType==10){var i=n.htmlAttributes,t=n.fragment,g=n.sanitizingOption,d=void 0;i[v]==y?h.default(n):i[p]==w||i[u]==b?e.default(n):i[u]==k?o.default(n):(d=l.toArray(t.querySelectorAll(a.WAC_IDENTIFING_SELECTOR)))&&d.length>0?(d.forEach(function(n){n.style.display=null;n.style.margin=null}),r.isWordOnlineWithList(t)&&r.default(t)):t.querySelector(f)?g.additionalTagReplacements[f]="*":(s.default(t),c.default(t));g.unknownTagReplacement=this.unknownTagReplacement}},n}();t.default=d},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/excelConverter/convertPastedContentFromExcel.ts":function(n,t,i){function c(n){var f,i=n.fragment,s=n.sanitizingOption,c=n.htmlBefore,e=n.clipboardData,o=r(e.html,c),t;if(e.html!=o){for(t=(new DOMParser).parseFromString(o,"text/html");i.firstChild;)i.removeChild(i.firstChild);while((f=t===null||t===void 0?void 0:t.body)===null||f===void 0?void 0:f.firstChild)i.appendChild(t.body.firstChild)}u.chainSanitizerCallback(s.elementCallbacks,"TD",function(n){return n.style.borderStyle=="none"&&(n.style.border=h),!0})}function r(n,t){var i,u,r,h;return n.match(f)&&(i=t.match(o),u=i?i[0]:"<TR>",n=u+n+"<\/TR>"),n.match(e)&&(r=t.match(s),h=r?r[0]:"<TABLE>",n=h+n+"<\/TABLE>"),n}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/index.ts"),f=/<\/\s*td\s*>((?!<\/\s*tr\s*>)[\s\S])*$/i,e=/<\/\s*tr\s*>((?!<\/\s*table\s*>)[\s\S])*$/i,o=/<tr[^>]*>[^<]*/i,s=/<table[^>]*>[^<]*/i,h="solid 1px #d4d4d4";t.default=c;t.excelHandler=r},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/index.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/Paste.ts");t.Paste=r.default},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/lineMerge/handleLineMerge.ts":function(n,t,i){function e(n){for(var i=r.ContentTraverser.createBodyTraverser(n),t=[],e=i===null||i===void 0?void 0:i.currentBlockElement;e;e=i.getNextBlockElement())t.push({start:e.getStartNode(),end:e.getEndNode()});t.length>0&&(u(t[0]),u(t[t.length-1]),f(n,t[0],!0),f(n,t[t.length-1],!1))}function u(n){var u,f,e=n.start,i=n.end,t;e==i&&r.getTagOfNode(e)=="DIV"?(t=r.changeElementTag(e,"SPAN"),n.start=t,n.end=t,r.getTagOfNode(t.lastChild)=="BR"&&t.removeChild(t.lastChild)):r.getTagOfNode(i)=="BR"&&(t=i.ownerDocument.createTextNode(""),(u=i.parentNode)===null||u===void 0?void 0:u.insertBefore(t,i),n.end=t,(f=i.parentNode)===null||f===void 0?void 0:f.removeChild(i))}function f(n,t,i){var u,f=r.getBlockElementAtNode(n,t.start),e=i?r.getNextLeafSibling(n,t.end):r.getPreviousLeafSibling(n,t.start);(f===null||f===void 0?void 0:f.contains(e))&&((u=(i?t.end:t.start).parentNode)===null||u===void 0?void 0:u.insertBefore(t.start.ownerDocument.createElement("br"),i?t.end.nextSibling:t.start))}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=e},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/ListItemBlock.ts":function(n,t){function i(n){return n===void 0&&(n=null),{startElement:n,endElement:n,insertPositionNode:null,listItemContainers:n?[n]:[]}}Object.defineProperty(t,"__esModule",{value:!0});t.createListItemBlock=i},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/constants.ts":function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.WORD_ORDERED_LIST_SELECTOR='div.ListContainerWrapper > ul[class^="BulletListStyle"]';t.WORD_UNORDERED_LIST_SELECTOR='div.ListContainerWrapper > ol[class^="NumberListStyle"]';t.WORD_ONLINE_IDENTIFYING_SELECTOR=t.WORD_ORDERED_LIST_SELECTOR+","+t.WORD_UNORDERED_LIST_SELECTOR;t.LIST_CONTAINER_ELEMENT_CLASS_NAME="ListContainerWrapper";t.UNORDERED_LIST_TAG_NAME="UL";t.ORDERED_LIST_TAG_NAME="OL";var i="OutlineElement";t.WAC_IDENTIFING_SELECTOR='ul[class^="BulletListStyle"]>.'+i+',ol[class^="NumberListStyle"]>.'+i},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/convertPastedContentFromWordOnline.ts":function(n,t,i){function o(n){return!!(n&&n.querySelector(u.WORD_ONLINE_IDENTIFYING_SELECTOR))}function s(n){h(n);var t=c(n);t.forEach(function(t){var i,u,f;l(n,t);t.insertPositionNode=t.endElement.nextSibling;u=n.ownerDocument;t.listItemContainers.forEach(function(f){var o=a(f),s;i||(i=u.createElement(o));s=r.toArray(f.querySelectorAll("li"));s.forEach(function(f){var s=parseInt(f.getAttribute("data-aria-level"));r.getTagOfNode(i)!=o&&s==1&&(e(i,n,t),i=u.createElement(o));v(i,f,o,u)})});e(i,n,t);f=t.startElement.parentNode;f&&t.listItemContainers.forEach(function(n){f.removeChild(n)})})}function h(n){var t=r.toArray(n.querySelectorAll(u.WORD_ORDERED_LIST_SELECTOR+", "+u.WORD_UNORDERED_LIST_SELECTOR));t.forEach(function(n){var f=new RegExp("\\b"+u.LIST_CONTAINER_ELEMENT_CLASS_NAME+"\\b","g"),t,i;n.previousSibling&&(t=r.splitParentNode(n,!0),t.className=t.className.replace(f,""));n.nextSibling&&(i=r.splitParentNode(n,!1),i.className=i.className.replace(f,""))})}function c(n){for(var i,o,e,c=n.querySelectorAll("."+u.LIST_CONTAINER_ELEMENT_CLASS_NAME),s=[],t,h=0;h<c.length;h++)i=c[h],t?(o=t.listItemContainers,e=o[o.length-1],i==e.nextSibling||r.getFirstLeafNode(i)==r.getNextLeafSibling(e.parentNode,e)?(o.push(i),t.endElement=i):(t.endElement=e,s.push(t),t=f.createListItemBlock(i))):t=f.createListItemBlock(i);return(t===null||t===void 0?void 0:t.listItemContainers.length)>0&&s.push(t),s}function l(n,t){var i=r.collapseNodes(n,t.startElement,t.endElement,!0);i.forEach(function(n){r.getTagOfNode(n.firstChild)=="DIV"&&r.unwrap(n)})}function a(n){var t=r.getTagOfNode(n.firstChild);return t==u.UNORDERED_LIST_TAG_NAME||t==u.ORDERED_LIST_TAG_NAME?t:null}function v(n,t,i,f){var o,e,s,h;if(i){for(o=parseInt(t.getAttribute("data-aria-level")),e=n;o>1;)e.firstChild?(s=e.lastElementChild,h=r.getTagOfNode(s),h==u.UNORDERED_LIST_TAG_NAME||h==u.ORDERED_LIST_TAG_NAME?e=s:(e.appendChild(f.createElement(i)),e=e.lastElementChild)):(e.appendChild(f.createElement(i)),e=e.firstElementChild),o--;e.appendChild(t)}}function e(n,t,i){var u,r;n&&(u=i.insertPositionNode,u?(r=u.parentNode,r&&r.insertBefore(n,u)):(r=i.startElement.parentNode,r?r.appendChild(n):t.appendChild(n)))}Object.defineProperty(t,"__esModule",{value:!0});var f=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/ListItemBlock.ts"),u=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/constants.ts"),r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.isWordOnlineWithList=o;t.default=s},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/pptConverter/convertPastedContentFromPowerPoint.ts":function(n,t){function i(n){var u,i=n.fragment,r=n.clipboardData,t;if(r.html&&!r.text&&r.image){for(t=(new DOMParser).parseFromString(r.html,"text/html");i.firstChild;)i.removeChild(i.firstChild);while((u=t===null||t===void 0?void 0:t.body)===null||u===void 0?void 0:u.firstChild)i.appendChild(t.body.firstChild)}}Object.defineProperty(t,"__esModule",{value:!0});t.default=i},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/teamsConverter/convertPastedContentFromTeams.ts":function(n,t,i){function u(n){var t=n.firstChild;!t||t.nextSibling||r.getTagOfNode(t)!="DIV"||r.toArray(t.childNodes).some(function(n){return r.getTagOfNode(n)!="LI"})||r.changeElementTag(t,"UL")}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts");t.default=u},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/LevelLists.ts":function(n,t){function i(){return{listsMetadata:{},currentUniqueListId:-1}}Object.defineProperty(t,"__esModule",{value:!0});t.createLevelLists=i},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/WordConverterArguments.ts":function(n,t,i){function u(n){return{nodes:n,currentIndex:0,lists:{},listItems:[],currentListIdsByLevels:[r.createLevelLists()],lastProcessedItem:null}}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/LevelLists.ts");t.createWordConverterArguments=u},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/WordCustomData.ts":function(n,t){function u(){return{dict:{},nextNodeId:1}}function f(n,t,i,u){if(t.nodeType==1){var f=r(n,t);f!=""&&(n.dict[f]||(n.dict[f]={}),n.dict[f][i]=u)}}function e(n,t,i){if(t.nodeType==1){var u=r(n,t);if(u!="")return n.dict[u]&&n.dict[u][i]}return null}function r(n,t){var r=t.getAttribute(i);return r||(r=n.nextNodeId.toString(),n.nextNodeId++,t.setAttribute(i,r)),r}Object.defineProperty(t,"__esModule",{value:!0});var i="NodeId";t.createCustomData=u;t.setObject=f;t.getObject=e},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/convertPastedContentFromWord.ts":function(n,t,i){function o(n){var o=n.sanitizingOption,s=n.fragment,t,i;u.chainSanitizerCallback(o.elementCallbacks,"O:P",function(n){return n.innerHTML="&nbsp;",!0});t=f.createWordConverter();i=s.querySelectorAll("p");i.length>0&&(t.wordConverterArgs=e.createWordConverterArguments(i),r.processNodesDiscovery(t)&&r.processNodeConvert(t))}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/index.ts"),f=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/wordConverter.ts"),e=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/WordConverterArguments.ts"),r=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/converterUtils.ts");t.default=o},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/converterUtils.ts":function(n,t,i){function d(n){for(var t=n.wordConverterArgs,r,u,h,i,c,l,f;t.currentIndex<t.nodes.length;){if(r=t.nodes.item(t.currentIndex),u=it(r),u)h=t.currentListIdsByLevels[u.level-1]||b.createLevelLists(),t.currentListIdsByLevels[u.level-1]=h,t.lastProcessedItem&&s(r)!=t.lastProcessedItem&&et(t),i=h.listsMetadata[u.wordListId],i?i.ignore||i.numberOfItems!=1||(l=o(r,e),i.tagName=i.firstFakeBullet==l?"UL":"OL"):(c=o(r,e),i={numberOfItems:0,uniqueListId:n.nextUniqueId++,firstFakeBullet:c,ignore:!c||c.length==0,tagName:ut(c)},h.listsMetadata[u.wordListId]=i,t.lists[i.uniqueListId.toString()]=i),u.uniqueListId=i.uniqueListId,i.ignore||i.tagName=="OL"&&i.numberOfItems>0&&h.currentUniqueListId!=u.uniqueListId?(i.ignore=!0,t.currentListIdsByLevels[0].currentUniqueListId=-1,t.currentListIdsByLevels=t.currentListIdsByLevels.slice(0,1)):(t.currentListIdsByLevels.length>u.level&&(t.currentListIdsByLevels=t.currentListIdsByLevels.slice(0,u.level)),h.currentUniqueListId=u.uniqueListId,t.listItems.push(u),i.numberOfItems++),t.lastProcessedItem=r;else if(f=t.lastProcessedItem,f&&s(r)==f&&r.tagName==f.tagName&&r.className==f.className){for(f.appendChild(f.ownerDocument.createElement("br")),f.appendChild(f.ownerDocument.createElement("br"));r.firstChild!=null;)f.appendChild(r.firstChild);r.parentNode.removeChild(r)}t.currentIndex++}return t.listItems.length>0}function g(n){var t=n.wordConverterArgs,f,o;for(t.currentIndex=0;t.currentIndex<t.listItems.length;){var r=t.listItems[t.currentIndex],i=r.originalNode,u=t.lists[r.uniqueListId.toString()];if(!u.ignore&&(f=nt(n,i,r,u),f)){for(a(i,e),o=i.ownerDocument.createElement("LI");i.firstChild;)o.appendChild(i.firstChild);f.appendChild(o);i.parentNode.removeChild(i);u.tagName=="UL"?n.numBulletsConverted++:n.numNumberedConverted++}t.currentIndex++}return n.numBulletsConverted>0||n.numNumberedConverted>0}function nt(n,t,i,r){var e=l(t,i.level,r),o=u.getObject(n.wordCustomData,e,f),s;return(o&&o!=i.uniqueListId||!o&&e.firstChild)&&(s=t.ownerDocument.createElement(r.tagName),e.parentNode.insertBefore(s,e.nextSibling),e=s),u.setObject(n.wordCustomData,e,f,i.uniqueListId),tt(n,e,r)}function tt(n,t,i){if(i.tagName!=r.getTagOfNode(t)){var e=t.ownerDocument.createElement(i.tagName);for(u.setObject(n.wordCustomData,e,f,u.getObject(n.wordCustomData,t,f));t.firstChild;)e.appendChild(t.firstChild);t.parentNode.insertBefore(e,t);t.parentNode.removeChild(t);t=e}return t}function l(n,t,i){var e=null,u,o,f;return(t==1?u=s(n):(e=l(n,t-1,null),u=e.lastChild),u&&u.nodeType==1&&(o=r.getTagOfNode(u),o=="UL"||o=="OL"))?u:(f=n.ownerDocument.createElement(i?i.tagName:"UL"),t==1?n.parentNode.insertBefore(f,n):e.appendChild(f),f)}function a(n,t){for(var r=[],i=n.firstChild;i;i=i.nextSibling)i.nodeType==1&&t>1&&a(i,t-1),i=v(i,!0),(ft(i)||p(i))&&r.push(i);r.forEach(function(t){return n.removeChild(t)})}function it(n){var t,i;if(n.nodeType==1&&(t=w(n,c),t&&t.length>0))try{if(i=t.split(" "),i.length==3)return{level:parseInt(i[1].substr(5)),wordListId:t,originalNode:n,uniqueListId:0}}catch(r){}return null}function rt(n){return["o","·","§","-"].indexOf(n)>=0}function ut(n){return rt(n)?"UL":"OL"}function o(n,t){for(var r=null,i=n.firstChild;!r&&i;)i=v(i,!0),p(i)?(r=i.textContent.trim(),r.length==0&&(r="o")):i.nodeType==1&&t>1&&(r=o(i,t-1)),i=i.nextSibling;return r}function v(n,t){var u,i,r,e,f;if(n.nodeType==8&&(u=n.data,u&&u.trim().toLowerCase()=="[if !supportlists]")){for(i=n,r=null,e=0;e<4;e++){if(i=y(i),!i)break;if(i.nodeType==8&&(u=i.data,u&&u.trim().toLowerCase()=="[endif]")){r=i;break}}if(r){for(f=n.ownerDocument.createElement("span"),f.setAttribute("style","mso-list: ignore"),i=y(n);i!=r;)i=i.nextSibling,f.appendChild(i.previousSibling);r.parentNode.insertBefore(f,r);t&&(n.parentNode.removeChild(n),r.parentNode.removeChild(r));n=f}}return n}function s(n){var t=n;do t=t.previousSibling;while(t&&h(t));return t}function y(n){var t=n;do t=t.nextSibling;while(t&&h(t));return t}function p(n){if(n.nodeType==1){var t=w(n,c);if(t&&t.length>0&&t.trim().toLowerCase()=="ignore")return!0}return!1}function ft(n){return r.getTagOfNode(n)=="SPAN"&&!n.firstChild}function w(n,t){return r.getStyles(n)[t]||null}function h(n){var t,i;return n?n.nodeType==3?(t=n.nodeValue,t=t.replace(k,""),t.trim().length==0):(i=r.getTagOfNode(n),n.firstChild==n.lastChild&&(i=="SPAN"||i=="FONT"))?h(n.firstChild):!1:!0}function et(n){for(var i,t=0;t<n.currentListIdsByLevels.length;t++)i=n.currentListIdsByLevels[t],i&&(i.currentUniqueListId=-1)}Object.defineProperty(t,"__esModule",{value:!0});var b=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/LevelLists.ts"),u=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/WordCustomData.ts"),r=i("./packages/roosterjs-editor-dom/lib/index.ts"),e=5,f="UniqueListId",c="mso-list",k=/[\n|\r]/gi;t.processNodesDiscovery=d;t.processNodeConvert=g},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/wordConverter.ts":function(n,t,i){function u(){return{nextUniqueId:1,numBulletsConverted:0,numNumberedConverted:0,wordConverterArgs:null,wordCustomData:r.createCustomData()}}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/WordCustomData.ts");t.createWordConverter=u},"./packages/roosterjs-editor-plugins/lib/plugins/Picker/PickerPlugin.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=i("./packages/roosterjs-editor-api/lib/index.ts"),r=i("./packages/roosterjs-editor-dom/lib/index.ts"),u="Backspace",s="Tab",h="Enter",c=r.Browser.isIE?"Esc":"Escape",l=r.Browser.isIE?"Left":"ArrowLeft",a=r.Browser.isIE?"Up":"ArrowUp",f=r.Browser.isIE?"Right":"ArrowRight",e=r.Browser.isIE?"Down":"ArrowDown",v=r.Browser.isIE?"Del":"Delete",y="deleteContentBackwards",p="Unidentified",w=[0,229],b=function(){function n(n,t){this.dataProvider=n;this.pickerOptions=t;this.isPendingInputEventHandling=!1}return n.prototype.getName=function(){return"Picker"},n.prototype.initialize=function(n){var t=this;this.editor=n;this.dataProvider.onInitalize(function(n){var i,r;t.editor.focus();i=t.getWord(null);(!i||i.length==0)&&t.lastKnownRange&&(t.editor.select(t.lastKnownRange),i=t.getWord(null));r=function(){i?o.replaceWithNode(t.editor,i,n,!0):t.editor.insertNode(n);t.setIsSuggesting(!1)};t.editor.addUndoSnapshot(r,t.pickerOptions.changeSource,t.pickerOptions.handleAutoComplete)},function(n){t.setIsSuggesting(n)},n)},n.prototype.dispose=function(){this.editor=null;this.dataProvider.onDispose()},n.prototype.willHandleEventExclusively=function(n){return this.isSuggesting&&(n.eventType==0||n.eventType==2||n.eventType==3)},n.prototype.onPluginEvent=function(n){switch(n.eventType){case 7:if(n.source=="SetContent"&&this.dataProvider.onContentChanged){this.isSuggesting&&this.setIsSuggesting(!1);var t=[];this.editor.queryElements("[id^='"+this.pickerOptions.elementIdPrefix+"']",function(n){n.id&&t.push(n.id)});this.dataProvider.onContentChanged(t)}break;case 0:if(this.eventHandledOnKeyDown=!1,this.isAndroidKeyboardEvent(n))this.currentInputLength=this.calcInputLength(n),this.isPendingInputEventHandling=!0;else{this.onKeyDownEvent(n);this.isPendingInputEventHandling=!1}break;case 3:if(this.isPendingInputEventHandling)this.onAndroidInputEvent(n);break;case 2:if(!this.eventHandledOnKeyDown&&this.shouldHandleKeyUpEvent(n)){this.onKeyUpDomEvent(n);this.isPendingInputEventHandling=!1}break;case 6:this.isSuggesting&&this.setIsSuggesting(!1);break;case 14:if(this.dataProvider.onScroll)this.dataProvider.onScroll(n.scrollContainer)}},n.prototype.setLastKnownRange=function(n){this.lastKnownRange=n},n.prototype.setIsSuggesting=function(n){this.isSuggesting=n;n||this.setLastKnownRange(null);this.dataProvider.onIsSuggestingChanged(n);this.setAriaOwns(n);this.setAriaActiveDescendant(n?0:null)},n.prototype.cancelDefaultKeyDownEvent=function(n){this.eventHandledOnKeyDown=!0;n.rawEvent.preventDefault();n.rawEvent.stopImmediatePropagation()},n.prototype.getIdValue=function(n){var t=n;return t.attributes&&t.attributes.getNamedItem("id")?t.attributes.getNamedItem("id").value:null},n.prototype.getWordBeforeCursor=function(n){var t=this.editor.getContentSearcherOfCursor(n);return t?t.getWordBefore():null},n.prototype.replaceNode=function(n,t){n&&this.editor.deleteNode(n);t&&this.editor.insertNode(t)},n.prototype.getRangeUntilAt=function(n){var u=this,f=this.editor.getContentSearcherOfCursor(n),t,i;return f.forEachTextInlineElement(function(n){for(var f=!1,e=n.getTextContent(),r=e?e.length:-1;r>=0;){if(e[r]==u.pickerOptions.triggerCharacter){t=n.getStartPosition().move(r);f=!0;break}r--}return f&&(i=n.getEndPosition()),f}),r.createRange(t,i)||this.editor.getDocument().createRange()},n.prototype.shouldHandleKeyUpEvent=function(n){return this.isAndroidKeyboardEvent(n)||r.isCharacterValue(n.rawEvent)||this.isSuggesting&&!r.isModifierKey(n.rawEvent)},n.prototype.onKeyUpDomEvent=function(n){var i,u,r,o,t,s,h;if(this.isSuggesting){var i=this.getWord(n),u=i.substring(1),r=u.trim();i==this.pickerOptions.triggerCharacter||r&&r.length>0&&r.split(" ").length<=4?(this.dataProvider.queryStringUpdated(r,u==r),this.setLastKnownRange(this.editor.getSelectionRange())):this.setIsSuggesting(!1)}else if(i=this.getWordBeforeCursor(n),this.blockSuggestions)i!=null&&i[0]!=this.pickerOptions.triggerCharacter&&(this.blockSuggestions=!1);else if(i!=null&&i.split(" ").length<=4&&i[0]==this.pickerOptions.triggerCharacter&&(this.setIsSuggesting(!0),u=i.substring(1),r=u.trim(),this.dataProvider.queryStringUpdated(r,u==r),this.setLastKnownRange(this.editor.getSelectionRange()),this.dataProvider.setCursorPoint)){var c=this.editor.getContentSearcherOfCursor(n),f=this.editor.getDocument().createRange(),e=c.getInlineElementBefore().getContainerNode(),l=this.setRangeStart(f,e,i);l||(o=e.previousSibling,this.setRangeStart(f,o,this.pickerOptions.triggerCharacter));t=f.getBoundingClientRect();t.left==0&&t.bottom==0&&t.top==0&&(t=f.getClientRects()[0]);t&&(f.detach(),s={x:t.left,y:(t.bottom+t.top)/2},h=(t.bottom-t.top)/2,this.dataProvider.setCursorPoint(s,h))}},n.prototype.onKeyDownEvent=function(n){var t=n.rawEvent,r,o,w;if(this.isSuggesting)t.key==c?(this.setIsSuggesting(!1),this.blockSuggestions=!0,this.cancelDefaultKeyDownEvent(n)):t.key==u?(r=this.getWord(n),r==this.pickerOptions.triggerCharacter&&this.setIsSuggesting(!1)):this.dataProvider.shiftHighlight&&(this.pickerOptions.isHorizontal?t.key==l||t.key==f:t.key==a||t.key==e)?(this.dataProvider.shiftHighlight(this.pickerOptions.isHorizontal?t.key==f:t.key==e),this.dataProvider.getSelectedIndex&&this.setAriaActiveDescendant(this.dataProvider.getSelectedIndex()),this.cancelDefaultKeyDownEvent(n)):this.dataProvider.selectOption&&(t.key==h||t.key==s)&&(this.dataProvider.selectOption(),this.cancelDefaultKeyDownEvent(n));else if(t.key==u)o=this.tryRemoveNode(n),o&&this.cancelDefaultKeyDownEvent(n);else if(t.key==v){var y=this.editor.getContentSearcherOfCursor(n),i=y.getInlineElementAfter()?y.getInlineElementAfter().getContainerNode():null,p=i?this.getIdValue(i):null;p&&p.indexOf(this.pickerOptions.elementIdPrefix)==0&&(w=this.dataProvider.onRemove(i,!1),this.replaceNode(i,w),this.cancelDefaultKeyDownEvent(n))}},n.prototype.onAndroidInputEvent=function(n){if(this.newInputLength=this.calcInputLength(n),this.newInputLength<this.currentInputLength||n.rawEvent.inputType===y){var t=this.tryRemoveNode(n);t&&(this.eventHandledOnKeyDown=!0)}},n.prototype.calcInputLength=function(n){var t=this.getInlineElementBeforeCursor(n);return t?t.length:0},n.prototype.tryRemoveNode=function(n){var u=this.editor.getContentSearcherOfCursor(n),f=u.getInlineElementBefore(),t=f?f.getContainerNode():null,e=t?this.getIdValue(t):null,o=u.getInlineElementAfter(),i;return e&&e.indexOf(this.pickerOptions.elementIdPrefix)==0&&(o==null||!(o instanceof r.PartialInlineElement))?(i=this.dataProvider.onRemove(t,!0),i?(this.replaceNode(t,i),this.isPendingInputEventHandling?this.editor.runAsync(function(n){n.select(i,-3)}):this.editor.select(i,-3)):this.editor.deleteNode(t),!0):!1},n.prototype.getWord=function(n){var t=this.getRangeUntilAt(n).toString(),i=this.getWordBeforeCursor(n);return t==this.pickerOptions.triggerCharacter&&t!=i?i:t},n.prototype.setRangeStart=function(n,t,i){var r=t?t.textContent.lastIndexOf(i):-1;return r>-1?(n.setStart(t,r),!0):!1},n.prototype.setAriaOwns=function(n){this.editor.setEditorDomAttribute("aria-owns",n&&this.pickerOptions.suggestionsLabel?this.pickerOptions.suggestionsLabel:null)},n.prototype.setAriaActiveDescendant=function(n){this.editor.setEditorDomAttribute("aria-activedescendant",n!=null&&this.pickerOptions.suggestionLabelPrefix?this.pickerOptions.suggestionLabelPrefix+n.toString():null)},n.prototype.getInlineElementBeforeCursor=function(n){var t=this.editor.getContentSearcherOfCursor(n),i=t?t.getInlineElementBefore():null;return i?i.getTextContent():null},n.prototype.isAndroidKeyboardEvent=function(n){return n.rawEvent.key==p||n.rawEvent.key==undefined&&w.indexOf(n.rawEvent.charCode)>-1},n}();t.default=b},"./packages/roosterjs-editor-plugins/lib/plugins/Picker/index.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-plugins/lib/plugins/Picker/PickerPlugin.ts");t.PickerPlugin=r.default},"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/TableResize.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-dom/lib/index.ts"),c="#4A4A4A",l="white",u=12,o=1,h=5,e=30,a=20,s=4,f=12,v='<div style="position: fixed; cursor: row-resize; user-select: none"><\/div>',y='<div style="position: fixed; cursor: col-resize; user-select: none"><\/div>',p='<div style="position: fixed; cursor: nw-resize; user-select: none; border: 1px solid #808080"><\/div>',w='<div style="position: fixed; cursor: ne-resize; user-select: none; border: 1px solid #808080""><\/div>',b=function(){function n(){var n=this;this.tableRectMap=null;this.currentCellsToResize=[];this.nextCellsToResize=[];this.resizingState=0;this.insertingState=0;this.onMouseMove=function(t){var b,y,l,e,w,o,s,i,a,v,c;if(n.resizingState==0&&(n.tableRectMap||n.cacheRects(),n.tableRectMap)){for(n.setCurrentTable(null),y=n.tableRectMap.length-1;y>=0;){var k=n.tableRectMap[y],d=k.table,p=k.rect;if(t.pageX<=p.right+(n.isRTL?u:f)&&t.pageX>=p.left-(n.isRTL?f:u)&&t.pageY>=p.top-u&&t.pageY<=p.bottom+f){n.setCurrentTable(d);break}y--}if(n.currentTable)for(l=n.tableRectMap.filter(function(t){return t.table==n.currentTable})[0],n.setTableResizer(l.rect),e=0;e<n.currentTable.rows.length;e++){for(w=n.currentTable.rows[e],o=0;o<w.cells.length;o++)if(s=w.cells[o],i=r.normalizeRect(s.getBoundingClientRect()),i&&(n.isRTL?t.pageX>=i.left:t.pageX<=i.right)&&t.pageY<=i.bottom)if(e==0&&t.pageY<=i.top+h){if(a=null,(n.isRTL?t.pageX<=i.left+(i.right-i.left)/2:t.pageX>=i.left+(i.right-i.left)/2)?a=s:(n.isRTL?t.pageX<=i.right:t.pageX>=i.left)&&(c=s.previousElementSibling,c&&(a=c)),a){n.setCurrentTd(null);t.buttons==0&&n.setCurrentInsertTd(2,a,l.rect);break}}else if(o==0&&(n.isRTL?t.pageX>=i.right-h:t.pageX<=i.left+h)){if(v=null,t.pageY>=i.top+(i.bottom-i.top)/2?v=s:t.pageY>=i.top&&(c=(b=n.currentTable.rows[e-1])===null||b===void 0?void 0:b.cells[0],c&&(v=c)),v){n.setCurrentTd(null);t.buttons==0&&n.setCurrentInsertTd(1,v,l.rect);break}}else{n.setCurrentTd(s,l.rect,n.isRTL?i.left:i.right,i.bottom);n.setCurrentInsertTd(0);break}if(o<w.cells.length)break}else n.setTableResizer(null)}};this.insertTd=function(){n.editor.addUndoSnapshot(function(t,i){var u=new r.VTable(n.currentInsertTd);u.edit(n.insertingState==1?1:3);u.writeBack();n.editor.select(t,i);n.setCurrentInsertTd(0)},"Format")};this.startResizingTable=function(t){if(n.currentTable!=null){n.resizingState=3;var i=r.normalizeRect(n.currentTable.getBoundingClientRect());n.isRTL?n.currentTable.setAttribute("currentLeftBorder",i.left.toString()):n.currentTable.setAttribute("currentRightBorder",i.right.toString());n.currentTable.setAttribute("currentBottomBorder",i.bottom.toString());n.startResizeCells(t)}};this.startHorizontalResizeCells=function(t){n.resizingState=1;n.startResizeCells(t)};this.startVerticalResizeCells=function(t){var u,i;n.resizingState=2;u=new r.VTable(n.currentTd);u&&(i=r.normalizeRect(n.currentTd.getBoundingClientRect()),n.currentCellsToResize=u.getCellsWithBorder(n.isRTL?i.left:i.right,!n.isRTL),n.nextCellsToResize=u.getCellsWithBorder(n.isRTL?i.left:i.right,n.isRTL));n.startResizeCells(t)};this.frameAnimateResizeCells=function(t){n.editor.runAsync(function(){return n.resizeCells(t)})};this.resizeCells=function(t){var h,c,i,tt,y,it,p,rt,w,u,f,l,v;if(n.setTableResizer(null),n.resizingState!==0){if(n.resizingState===3){var o=r.normalizeRect(n.currentTable.getBoundingClientRect()),f=new r.VTable(n.currentTable),s=parseFloat(n.currentTable.getAttribute(n.isRTL?"currentLeftBorder":"currentRightBorder")),b=parseFloat(n.currentTable.getAttribute("currentBottomBorder")),k=1+(n.isRTL?(s-t.pageX)/(o.right-s):(t.pageX-s)/(s-o.left)),d=1+(t.pageY-b)/(b-o.top),g=Math.abs(k-1)>.001,nt=Math.abs(d-1)>.001;if(g||nt)for(h=0;h<f.cells.length;h++)for(c=0;c<f.cells[h].length;c++)i=f.cells[h][c],i.td&&(g&&(tt=i.td.style.width?parseFloat(i.td.style.width.substr(0,i.td.style.width.length-2)):i.td.getBoundingClientRect().right-i.td.getBoundingClientRect().left,y=tt*k,i.td.style.boxSizing="border-box",y>=e&&(i.td.style.wordBreak="break-word",i.td.style.width=y+"px")),nt&&(c==0?(it=i.td.getBoundingClientRect().bottom-i.td.getBoundingClientRect().top,p=it*d,p>=a&&(i.td.style.height=p+"px")):i.td.style.height=""));o=r.normalizeRect(n.currentTable.getBoundingClientRect());s=n.isRTL?o.left:o.right;n.currentTable.setAttribute(n.isRTL?"currentLeftBorder":"currentRightBorder",s.toString());rt=n.currentTable.getBoundingClientRect().bottom;n.currentTable.setAttribute("currentBottomBorder",rt.toString());f.writeBack();return}if(n.currentTd&&(w=r.normalizeRect(n.currentTd.getBoundingClientRect()),w)){if(u=n.resizingState==1?t.pageY:t.pageX,f=new r.VTable(n.currentTd),n.resizingState==1)f.table.style.height=null,f.forEachCellOfCurrentRow(function(t){t.td&&(t.td.style.height=t.td==n.currentTd?u-w.top+"px":null)});else{if(l=void 0,v=void 0,n.isRTL?(l=n.nextCellsToResize.length>0?parseInt(n.nextCellsToResize[0].getAttribute("originalLeftBorder")):0,v=parseInt(n.currentCellsToResize[0].getAttribute("originalRightBorder"))):(l=parseInt(n.currentCellsToResize[0].getAttribute("originalLeftBorder")),v=n.nextCellsToResize.length>0?parseInt(n.nextCellsToResize[0].getAttribute("originalRightBorder")):Number.MAX_SAFE_INTEGER),t.shiftKey){if(!n.isRTL&&u<=l+e||n.isRTL&&u>=v-e)return}else if(u<=l+e||u>=v-e)return;n.currentCellsToResize.forEach(function(t){var i=r.normalizeRect(t.getBoundingClientRect());t.style.wordBreak="break-word";t.style.boxSizing="border-box";t.style.width=n.isRTL?i.right-u+"px":u-i.left+"px"});t.shiftKey||n.nextCellsToResize.forEach(function(t){t.style.wordBreak="break-word";var i=n.isRTL?u-parseInt(t.getAttribute("originalLeftBorder")):parseInt(t.getAttribute("originalRightBorder"))-u;t.style.boxSizing="border-box";t.style.width=i+"px"})}f.writeBack()}}};this.endResizeCells=function(t){var i=n.editor.getDocument();i.removeEventListener("mousemove",n.frameAnimateResizeCells,!0);i.removeEventListener("mouseup",n.endResizeCells,!0);n.currentCellsToResize=[];n.nextCellsToResize=[];n.editor.addUndoSnapshot(function(i,r){n.frameAnimateResizeCells(t);n.editor.select(i,r)},"Format");n.setCurrentTd(null);n.setTableResizer(null);n.resizingState=0}}return n.prototype.getName=function(){return"TableResize"},n.prototype.initialize=function(n){this.editor=n;this.setupResizerContainer();this.onMouseMoveDisposer=this.editor.addDomEventHandler("mousemove",this.onMouseMove)},n.prototype.dispose=function(){this.onMouseMoveDisposer();this.tableRectMap=null;this.removeResizerContainer();this.setCurrentTable(null);this.editor=null},n.prototype.onPluginEvent=function(n){switch(n.eventType){case 3:case 7:case 14:this.tableRectMap=null}},n.prototype.setupResizerContainer=function(){var n=this.editor.getDocument();this.resizerContainer=n.createElement("div");this.editor.insertNode(this.resizerContainer,{updateCursor:!1,insertOnNewLine:!1,replaceSelection:!1,position:4});this.tableResizerContainer=n.createElement("div");this.editor.insertNode(this.tableResizerContainer,{updateCursor:!1,insertOnNewLine:!1,replaceSelection:!1,position:4})},n.prototype.removeResizerContainer=function(){var n,t,i,r;(t=(n=this.resizerContainer)===null||n===void 0?void 0:n.parentNode)===null||t===void 0?void 0:t.removeChild(this.resizerContainer);this.resizerContainer=null;(r=(i=this.tableResizerContainer)===null||i===void 0?void 0:i.parentNode)===null||r===void 0?void 0:r.removeChild(this.tableResizerContainer);this.tableResizerContainer=null},n.prototype.setCurrentInsertTd=function(n,t,i){var r,u;(t!=this.currentInsertTd||n!=this.insertingState)&&(this.currentInsertTd&&((u=(r=this.inserter)===null||r===void 0?void 0:r.parentNode)===null||u===void 0?void 0:u.removeChild(this.inserter),this.inserter=null),this.insertingState=n,this.currentInsertTd=t,this.currentInsertTd&&(this.inserter=this.createInserter(i),this.resizerContainer.appendChild(this.inserter)))},n.prototype.createInserter=function(n){if(this.insertingState!=0){var f=r.normalizeRect(this.currentInsertTd.getBoundingClientRect()),s=this.editor.getDefaultFormat().backgroundColor,e=s||"white",t=this.editor.isDarkMode()?l:c,h=this.isRTL?"right":"left",a='<div style="position: fixed; width: '+u+"px; height: "+u+"px; font-size: 16px; color: "+t+"; line-height: 10px; vertical-align: middle; text-align: center; cursor: pointer; border: solid "+o+"px "+t+"; border-radius: 50%; background-color: "+e+'"><div style="position: absolute; '+h+": 12px; top: 5px; height: 3px; border-top: 1px solid "+t+"; border-bottom: 1px solid "+t+"; border-right: 1px solid "+t+"; border-left: 0px; box-sizing: border-box; background-color: "+e+';"><\/div>+<\/div>',v='<div style="position: fixed; width: '+u+"px; height: "+u+"px; font-size: 16px; color: "+t+"; line-height: 10px; vertical-align: middle; text-align: center; cursor: pointer; border: solid "+o+"px "+t+"; border-radius: 50%; background-color: "+e+'"><div style="position: absolute; left: 5px; top: 12px; width: 3px; border-left: 1px solid '+t+"; border-right: 1px solid "+t+"; border-bottom: 1px solid "+t+"; border-top: 0px; box-sizing: border-box; background-color: "+e+';"><\/div>+<\/div>',i=r.fromHtml(this.insertingState==1?a:v,this.editor.getDocument())[0];return f&&(this.insertingState==1?(i.style.left=this.isRTL?f.right+"px":f.left-(u-1+2*o)+"px",i.style.top=f.bottom-8+"px",i.firstChild.style.width=n.right-n.left+"px"):(i.style.left=this.isRTL?f.left-8+"px":f.right-8+"px",i.style.top=f.top-(u-1+2*o)+"px",i.firstChild.style.height=n.bottom-n.top+"px")),i.addEventListener("click",this.insertTd),i}},n.prototype.setCurrentTable=function(n){this.currentTable!=n&&(this.setCurrentTd(null),this.setCurrentInsertTd(0),this.currentTable=n)},n.prototype.setCurrentTd=function(n,t,i,r){var u,f,e,o;this.currentTd!=n&&(this.currentTd&&((f=(u=this.horizontalResizer)===null||u===void 0?void 0:u.parentNode)===null||f===void 0?void 0:f.removeChild(this.horizontalResizer),(o=(e=this.verticalResizer)===null||e===void 0?void 0:e.parentNode)===null||o===void 0?void 0:o.removeChild(this.verticalResizer),this.horizontalResizer=null,this.verticalResizer=null),this.currentTd=n,this.currentTd&&(this.horizontalResizer=this.createCellsResizer(!0,t.left,r-s+1,t.right-t.left,s),this.verticalResizer=this.createCellsResizer(!1,i-s+1,t.top,s,t.bottom-t.top),this.resizerContainer.appendChild(this.horizontalResizer),this.resizerContainer.appendChild(this.verticalResizer)))},n.prototype.setTableResizer=function(n){for(var t;(t=this.tableResizerContainer)===null||t===void 0?void 0:t.hasChildNodes();)this.tableResizerContainer.removeChild(this.tableResizerContainer.lastChild);this.tableResizer=null;n&&(this.tableResizer=this.createTableResizer(n),this.tableResizerContainer.appendChild(this.tableResizer))},n.prototype.createTableResizer=function(n){var t=r.fromHtml(this.isRTL?w:p,this.editor.getDocument())[0];return t.style.top=n.bottom+"px",t.style.left=this.isRTL?n.left-f-2+"px":n.right+"px",t.style.width=f+"px",t.style.height=f+"px",t.addEventListener("mousedown",this.startResizingTable),t},n.prototype.createCellsResizer=function(n,t,i,u,f){var e=r.fromHtml(n?v:y,this.editor.getDocument())[0];return e.style.top=i+"px",e.style.left=t+"px",e.style.width=u+"px",e.style.height=f+"px",e.addEventListener("mousedown",n?this.startHorizontalResizeCells:this.startVerticalResizeCells),e},n.prototype.startResizeCells=function(){var n=this.editor.getDocument();n.addEventListener("mousemove",this.frameAnimateResizeCells,!0);n.addEventListener("mouseup",this.endResizeCells,!0)},n.prototype.cacheRects=function(){var n=this;this.tableRectMap=[];this.editor.queryElements("table",function(t){if(t.isContentEditable){var i=r.normalizeRect(t.getBoundingClientRect());i&&n.tableRectMap.push({table:t,rect:i})}});this.isRTL=r.getComputedStyle(this.editor.getDocument().body,"direction")=="rtl"},n}();t.default=b},"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/index.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-plugins/lib/plugins/TableResize/TableResize.ts");t.TableResize=r.default},"./packages/roosterjs-editor-plugins/lib/plugins/Watermark/Watermark.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs-editor-dom/lib/index.ts"),f=i("./packages/roosterjs-editor-api/lib/index.ts"),r="WATERMARK_WRAPPER",e=function(){function n(n,t){var i=this;this.watermark=n;this.format=t;this.showHideWatermark=function(){var n=i.editor.hasFocus(),t=i.editor.queryElements(u.getEntitySelector(r)),e=t.length>0;n&&e?(t.forEach(i.removeWatermark),i.editor.focus()):n||e||!i.editor.isEmpty()||f.insertEntity(i.editor,r,i.editor.getDocument().createTextNode(i.watermark),!1,!1,0)};this.removeWatermark=function(n){var t=n.parentNode;t===null||t===void 0?void 0:t.removeChild(n);i.editor.contains(t)&&u.getTagOfNode(t)=="DIV"&&!t.firstChild&&t.appendChild(i.editor.getDocument().createElement("BR"))};this.format=this.format||{fontSize:"14px",textColor:"#aaa"}}return n.prototype.getName=function(){return"Watermark"},n.prototype.initialize=function(n){this.editor=n;this.disposer=this.editor.addDomEventHandler({focus:this.showHideWatermark,blur:this.showHideWatermark})},n.prototype.dispose=function(){this.disposer();this.disposer=null;this.editor=null},n.prototype.onPluginEvent=function(n){var i,f,t;n.eventType==11||n.eventType==7&&((i=n.data)===null||i===void 0?void 0:i.type)!=r?this.showHideWatermark():n.eventType==15&&n.entity.type==r&&(f=n.operation,t=n.entity.wrapper,f==8?this.removeWatermark(t):n.operation==0&&(u.applyFormat(t,this.format,this.editor.isDarkMode()),t.spellcheck=!1))},n}();t.default=e},"./packages/roosterjs-editor-plugins/lib/plugins/Watermark/index.ts":function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-plugins/lib/plugins/Watermark/Watermark.ts");t.Watermark=r.default},"./packages/roosterjs-editor-types/lib/index.ts":function(n,t){Object.defineProperty(t,"__esModule",{value:!0})},"./packages/roosterjs/lib/createEditor.ts":function(n,t,i){function o(n,t,i){var o=[new f.HyperLink,new e.Paste,new r.ContentEdit],s;return t&&(o=o.concat(t)),s={plugins:o,initialContent:i,defaultFormat:{fontFamily:"Calibri,Arial,Helvetica,sans-serif",fontSize:"11pt",textColor:"#000000"}},new u.Editor(n,s)}Object.defineProperty(t,"__esModule",{value:!0});var r=i("./packages/roosterjs-editor-plugins/lib/ContentEdit.ts"),u=i("./packages/roosterjs-editor-core/lib/index.ts"),f=i("./packages/roosterjs-editor-plugins/lib/HyperLink.ts"),e=i("./packages/roosterjs-editor-plugins/lib/Paste.ts");t.default=o},"./packages/roosterjs/lib/index.ts":function(n,t,i){function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});var u=i("./packages/roosterjs/lib/createEditor.ts");t.createEditor=u.default;r(i("./packages/roosterjs-editor-types/lib/index.ts"));r(i("./packages/roosterjs-editor-dom/lib/index.ts"));r(i("./packages/roosterjs-editor-core/lib/index.ts"));r(i("./packages/roosterjs-editor-api/lib/index.ts"));r(i("./packages/roosterjs-editor-plugins/lib/index.ts"))}}),roosterEditors=[],roosterActiveDiv=null,SamplePlugin=function(){function n(){}return n.prototype.getName=function(){return"SamplePlugin"},n.prototype.initialize=function(n){this.editor=n},n.prototype.dispose=function(){this.editor=null},n.prototype.onPluginEvent=function(n){if(n.eventType==10){let t=n;if(t.clipboardData.image!=null){let u=t.clipboardData.image,n=this.createPlaceholder(u),r=t.fragment.children[0],i=document.createElement("div");i.appendChild(r);t.fragment.appendChild(i);i.appendChild(n);t.clipboardData.html=n.outerHTML;t.pasteOption=0;DotNet.invokeMethodAsync("ExtraDry.Blazor","UploadImage",t.clipboardData.imageDataUri).then(t=>{this.editor&&(r.src=t.url,n.remove())})}}},n.prototype.createPlaceholder=function(){var n=document.createElement("P");return n.style="color: white;",n.innerHTML="Uploading...",n},n}();console.log(`Blazor Extra Dry by @aakison - https://github.com/fmi-works/blazor-extra-dry License - https://github.com/fmi-works/blazor-extra-dry/blob/main/LICENSE (MIT License)`);window.addEventListener("resize",DryHorizontalScrollNav);