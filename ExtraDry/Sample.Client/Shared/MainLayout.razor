@inherits LayoutComponentBase

<Theme IconTemplate="" Icons="@Icons">
    <CascadingValue Value="@this">
        <main>
            <Header />
            @if(!ViewExpanded) {
                <SubModules />
                <Statlets />
                <ComponentMenu />
            }
            <section class="@ArticleClass">
              <article>
                @Body
              </article>
            </section>
        </main>
    </CascadingValue>
</Theme>

@code {
    protected override void OnInitialized()
    {
        base.OnInitialized();
    }

    public void Expand()
    {
        ViewExpanded = true;
        StateHasChanged();
    }

    public void Compress()
    {
        ViewExpanded = false;
        StateHasChanged();
    }

    public bool ViewExpanded { get; set; }

    public string ArticleClass => ViewExpanded ? "expanded" : "compressed";

    public IconInfo[] Icons = new IconInfo[] {
        // Body glyphs
        new IconInfo("search", "/img/glyphs/magnifying-glass-light.svg", "Search", "glyph"),
        new IconInfo("register", "/img/glyphs/registered-light.svg", "Register", "glyph"),
        new IconInfo("contents", "/img/glyphs/file-lines-light.svg", "Contents", "glyph"),
        new IconInfo("companies", "/img/glyphs/buildings-light.svg", "Companies", "glyph"),
        new IconInfo("company", "/img/glyphs/building-light.svg", "Company", "glyph"),
        new IconInfo("dummy", "/img/glyphs/briefcase-light.svg", "Placeholder", "glyph"),
        new IconInfo("sectors", "/img/glyphs/wrench-light.svg", "Sectors", "glyph"),

        // Header glyphs
        new IconInfo("modules", "/img/glyphs/grid-solid.svg", "Select Module", "glyph"),
        new IconInfo("alerts", "/img/glyphs/bell-regular.svg", "Alerts", "glyph"),
        new IconInfo("newItem", "/img/glyphs/hexagon-plus-regular.svg", "Add Item", "glyph"),

        // Hero icons
        new IconInfo("assets", "/img/icons/asset-icon.svg", "Assets", "icon"),
        new IconInfo("logo", "/img/icons/logo.svg", "Site Logo", "icon"),
    };

}
