@namespace Blazor.ExtraDry

@if(Description == null) {
    <progress>loading nav</progress>
}
else {
    <nav>
        <ul>
            @if(Description.HasNavigationGroups) {
                <li>
                    @foreach(var group in Description.NavigationGroups) {
                        <div>@group</div>
                        <ul>
                            @foreach(var item in Description.NavigationsInGroup(group)) {
                                <li>
                                    @if(item.HasHref) { 
                                        <a href="@item.Href">
                                            @if(item.HasImage) { 
                                                <img src="@item.Image" />
                                            }
                                            <DryIcon Key="@item.Icon" />
                                            <span>@item.Caption</span>
                                        </a>
                                    }
                                    else { 
                                        <a href="javascript:void(0)" @onclick="@item.ExecuteAsync">
                                            @if(item.HasImage) { 
                                                <img src="@item.Image" />
                                            }
                                            <DryIcon Key="@item.Icon" />
                                            <span>@item.Caption</span>
                                        </a>
                                    }
                                </li>
                            }
                        </ul>
                    }
                </li>
            }
            else { 
                @foreach(var item in Description.Navigations) {
                    <li>
                        @if(item.HasHref) { 
                            <a href="@item.Href">
                                @if(item.HasImage) { 
                                    <img src="@item.Image" />
                                }
                                <DryIcon Key="@item.Icon" />
                                <span>@item.Caption</span>
                            </a>
                        }
                        else { 
                            <a href="javascript:void(0)" @onclick="@item.ExecuteAsync">
                                @if(item.HasImage) { 
                                    <img src="@item.Image" />
                                }
                                <DryIcon Key="@item.Icon" />
                                <span>@item.Caption</span>
                            </a>
                        }
                    </li>
                }
            }
        </ul>
    </nav>
}
